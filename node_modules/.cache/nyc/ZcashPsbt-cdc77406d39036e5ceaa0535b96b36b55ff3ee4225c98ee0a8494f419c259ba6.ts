"use strict";function cov_3qgg28z2p(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/zcash/ZcashPsbt.ts";var hash="8f4056820dc7f8919433a281e90ef8dfd5332412";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/zcash/ZcashPsbt.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:27}},"2":{start:{line:4,column:19},end:{line:4,column:41}},"3":{start:{line:5,column:27},end:{line:5,column:56}},"4":{start:{line:6,column:12},end:{line:6,column:29}},"5":{start:{line:7,column:17},end:{line:7,column:34}},"6":{start:{line:8,column:14},end:{line:8,column:48}},"7":{start:{line:9,column:19},end:{line:9,column:41}},"8":{start:{line:10,column:18},end:{line:10,column:38}},"9":{start:{line:11,column:32},end:{line:16,column:2}},"10":{start:{line:19,column:8},end:{line:19,column:96}},"11":{start:{line:22,column:8},end:{line:22,column:150}},"12":{start:{line:33,column:21},end:{line:33,column:51}},"13":{start:{line:35,column:32},end:{line:35,column:41}},"14":{start:{line:36,column:8},end:{line:40,column:11}},"15":{start:{line:37,column:12},end:{line:39,column:13}},"16":{start:{line:38,column:16},end:{line:38,column:57}},"17":{start:{line:41,column:8},end:{line:62,column:9}},"18":{start:{line:45,column:16},end:{line:47,column:17}},"19":{start:{line:46,column:20},end:{line:46,column:114}},"20":{start:{line:48,column:16},end:{line:48,column:62}},"21":{start:{line:49,column:16},end:{line:49,column:141}},"22":{start:{line:49,column:108},end:{line:49,column:139}},"23":{start:{line:52,column:16},end:{line:52,column:57}},"24":{start:{line:53,column:16},end:{line:53,column:28}},"25":{start:{line:56,column:16},end:{line:58,column:17}},"26":{start:{line:57,column:20},end:{line:57,column:116}},"27":{start:{line:59,column:16},end:{line:59,column:28}},"28":{start:{line:61,column:16},end:{line:61,column:86}},"29":{start:{line:71,column:8},end:{line:73,column:9}},"30":{start:{line:72,column:12},end:{line:72,column:36}},"31":{start:{line:74,column:22},end:{line:74,column:37}},"32":{start:{line:75,column:8},end:{line:75,column:55}},"33":{start:{line:76,column:8},end:{line:76,column:79}},"34":{start:{line:77,column:8},end:{line:79,column:9}},"35":{start:{line:78,column:12},end:{line:78,column:83}},"36":{start:{line:80,column:21},end:{line:80,column:37}},"37":{start:{line:81,column:8},end:{line:81,column:49}},"38":{start:{line:82,column:8},end:{line:82,column:20}},"39":{start:{line:85,column:8},end:{line:85,column:41}},"40":{start:{line:86,column:8},end:{line:86,column:50}},"41":{start:{line:87,column:8},end:{line:87,column:34}},"42":{start:{line:88,column:8},end:{line:88,column:20}},"43":{start:{line:91,column:8},end:{line:105,column:9}},"44":{start:{line:96,column:16},end:{line:96,column:35}},"45":{start:{line:97,column:16},end:{line:97,column:22}},"46":{start:{line:101,column:16},end:{line:101,column:35}},"47":{start:{line:102,column:16},end:{line:102,column:22}},"48":{start:{line:104,column:16},end:{line:104,column:62}},"49":{start:{line:106,column:8},end:{line:106,column:101}},"50":{start:{line:107,column:8},end:{line:107,column:116}},"51":{start:{line:113,column:8},end:{line:113,column:120}},"52":{start:{line:116,column:8},end:{line:116,column:132}},"53":{start:{line:119,column:8},end:{line:121,column:9}},"54":{start:{line:120,column:12},end:{line:120,column:19}},"55":{start:{line:122,column:8},end:{line:122,column:42}},"56":{start:{line:123,column:8},end:{line:123,column:34}},"57":{start:{line:126,column:8},end:{line:126,column:51}},"58":{start:{line:127,column:8},end:{line:127,column:80}},"59":{start:{line:130,column:8},end:{line:130,column:48}},"60":{start:{line:131,column:8},end:{line:131,column:74}},"61":{start:{line:134,column:8},end:{line:134,column:46}},"62":{start:{line:135,column:8},end:{line:135,column:70}},"63":{start:{line:138,column:0},end:{line:138,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:50},end:{line:20,column:5}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:34},end:{line:23,column:5}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:36},end:{line:63,column:5}},line:32},"3":{name:"(anonymous_3)",decl:{start:{line:36,column:52},end:{line:36,column:53}},loc:{start:{line:36,column:75},end:{line:40,column:9}},line:36},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:95},end:{line:49,column:96}},loc:{start:{line:49,column:108},end:{line:49,column:139}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:15},end:{line:83,column:5}},line:70},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:43},end:{line:89,column:5}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:44},end:{line:108,column:5}},line:90},"8":{name:"(anonymous_8)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:49},end:{line:114,column:5}},line:112},"9":{name:"(anonymous_9)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:61},end:{line:117,column:5}},line:115},"10":{name:"(anonymous_10)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:48},end:{line:124,column:5}},line:118},"11":{name:"(anonymous_11)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:44},end:{line:128,column:5}},line:125},"12":{name:"(anonymous_12)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:38},end:{line:132,column:5}},line:129},"13":{name:"(anonymous_13)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:34},end:{line:136,column:5}},line:133}},branchMap:{"0":{loc:{start:{line:22,column:35},end:{line:22,column:148}},type:"binary-expr",locations:[{start:{line:22,column:35},end:{line:22,column:39}},{start:{line:22,column:43},end:{line:22,column:148}}],line:22},"1":{loc:{start:{line:37,column:12},end:{line:39,column:13}},type:"if",locations:[{start:{line:37,column:12},end:{line:39,column:13}},{start:{line:37,column:12},end:{line:39,column:13}}],line:37},"2":{loc:{start:{line:41,column:8},end:{line:62,column:9}},type:"switch",locations:[{start:{line:42,column:12},end:{line:42,column:19}},{start:{line:43,column:12},end:{line:43,column:76}},{start:{line:44,column:12},end:{line:53,column:28}},{start:{line:54,column:12},end:{line:54,column:19}},{start:{line:55,column:12},end:{line:59,column:28}},{start:{line:60,column:12},end:{line:61,column:86}}],line:41},"3":{loc:{start:{line:45,column:16},end:{line:47,column:17}},type:"if",locations:[{start:{line:45,column:16},end:{line:47,column:17}},{start:{line:45,column:16},end:{line:47,column:17}}],line:45},"4":{loc:{start:{line:45,column:20},end:{line:45,column:77}},type:"binary-expr",locations:[{start:{line:45,column:20},end:{line:45,column:38}},{start:{line:45,column:42},end:{line:45,column:77}}],line:45},"5":{loc:{start:{line:56,column:16},end:{line:58,column:17}},type:"if",locations:[{start:{line:56,column:16},end:{line:58,column:17}},{start:{line:56,column:16},end:{line:58,column:17}}],line:56},"6":{loc:{start:{line:71,column:8},end:{line:73,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:73,column:9}},{start:{line:71,column:8},end:{line:73,column:9}}],line:71},"7":{loc:{start:{line:71,column:12},end:{line:71,column:111}},type:"binary-expr",locations:[{start:{line:71,column:12},end:{line:71,column:33}},{start:{line:71,column:37},end:{line:71,column:111}}],line:71},"8":{loc:{start:{line:77,column:8},end:{line:79,column:9}},type:"if",locations:[{start:{line:77,column:8},end:{line:79,column:9}},{start:{line:77,column:8},end:{line:79,column:9}}],line:77},"9":{loc:{start:{line:84,column:24},end:{line:84,column:41}},type:"default-arg",locations:[{start:{line:84,column:37},end:{line:84,column:41}}],line:84},"10":{loc:{start:{line:86,column:31},end:{line:86,column:49}},type:"cond-expr",locations:[{start:{line:86,column:44},end:{line:86,column:45}},{start:{line:86,column:48},end:{line:86,column:49}}],line:86},"11":{loc:{start:{line:91,column:8},end:{line:105,column:9}},type:"switch",locations:[{start:{line:92,column:12},end:{line:92,column:19}},{start:{line:93,column:12},end:{line:93,column:76}},{start:{line:94,column:12},end:{line:94,column:73}},{start:{line:95,column:12},end:{line:97,column:22}},{start:{line:98,column:12},end:{line:98,column:19}},{start:{line:99,column:12},end:{line:99,column:73}},{start:{line:100,column:12},end:{line:102,column:22}},{start:{line:103,column:12},end:{line:104,column:62}}],line:91},"12":{loc:{start:{line:119,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:121,column:9}},{start:{line:119,column:8},end:{line:121,column:9}}],line:119}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0],"10":[0,0],"11":[0,0,0,0,0,0,0,0],"12":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/zcash/ZcashPsbt.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/zcash/ZcashPsbt.ts"],names:[],mappings:"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",sourcesContent:["import { PsbtOpts, UtxoPsbt } from '../UtxoPsbt';\nimport {\n  getDefaultConsensusBranchIdForVersion,\n  getDefaultVersionGroupIdForVersion,\n  ZcashTransaction,\n} from './ZcashTransaction';\nimport { Network, PsbtTransaction, Signer } from '../../';\nimport { Psbt as PsbtBase } from 'bip174';\nimport * as types from 'bitcoinjs-lib/src/types';\nimport { ValidateSigFunction } from 'bitcoinjs-lib/src/psbt';\nimport { ProprietaryKeySubtype, PSBT_PROPRIETARY_IDENTIFIER, withUnsafeNonSegwit } from '../PsbtUtil';\nconst typeforce = require('typeforce');\n\nconst CONSENSUS_BRANCH_ID_KEY = Buffer.concat([\n  Buffer.of(0xfc),\n  Buffer.of(0x05),\n  Buffer.from(PSBT_PROPRIETARY_IDENTIFIER),\n  Buffer.of(ProprietaryKeySubtype.ZEC_CONSENSUS_BRANCH_ID),\n]);\n\nexport class ZcashPsbt extends UtxoPsbt<ZcashTransaction<bigint>> {\n  protected static transactionFromBuffer(buffer: Buffer, network: Network): ZcashTransaction<bigint> {\n    return ZcashTransaction.fromBuffer<bigint>(buffer, false, 'bigint', network);\n  }\n\n  static createPsbt(opts: PsbtOpts, data?: PsbtBase): ZcashPsbt {\n    return new ZcashPsbt(\n      opts,\n      data || new PsbtBase(new PsbtTransaction({ tx: new ZcashTransaction<bigint>(opts.network) }))\n    );\n  }\n\n  /**\n   * In version < 5 of Zcash transactions, the consensus branch ID is not serialized in the transaction\n   * whereas in version 5 it is. If the transaction is less than a version 5, set the consensus branch id\n   * in the global map in the psbt. If it is a version 5 transaction, throw an error if the consensus\n   * branch id is set in the psbt (because it should be on the transaction already).\n   * @param buffer Psbt buffer\n   * @param opts options\n   */\n  static fromBuffer(buffer: Buffer, opts: PsbtOpts): UtxoPsbt<ZcashTransaction<bigint>> {\n    const psbt = super.fromBuffer(buffer, opts) as ZcashPsbt;\n\n    // Read `consensusBranchId` from the global-map\n    let consensusBranchId: number | undefined = undefined;\n    psbt.data.globalMap.unknownKeyVals?.forEach(({ key, value }, i) => {\n      if (key.equals(CONSENSUS_BRANCH_ID_KEY)) {\n        consensusBranchId = value.readUint32LE();\n      }\n    });\n    switch (psbt.tx.version) {\n      case 4:\n      case ZcashTransaction.VERSION4_BRANCH_CANOPY:\n      case ZcashTransaction.VERSION4_BRANCH_NU5:\n        if (!consensusBranchId || !psbt.data.globalMap.unknownKeyVals) {\n          throw new Error('Could not find consensus branch id on psbt for version 4 Zcash transaction');\n        }\n        psbt.tx.consensusBranchId = consensusBranchId;\n        psbt.data.globalMap.unknownKeyVals = psbt.data.globalMap.unknownKeyVals.filter(\n          ({ key }) => key !== CONSENSUS_BRANCH_ID_KEY\n        );\n\n        // Delete consensusBranchId from globalMap so that if we were to serialize the psbt again\n        // we would not add a duplicate key into the global map\n        psbt.data.globalMap.unknownKeyVals.pop();\n        return psbt;\n      case 5:\n      case ZcashTransaction.VERSION5_BRANCH_NU5:\n        if (consensusBranchId) {\n          throw new Error('Found consensus branch id in psbt global-map for version 5 Zcash transaction');\n        }\n        return psbt;\n      default:\n        throw new Error(`Unsupported transaction version ${psbt.tx.version}`);\n    }\n  }\n\n  /**\n   * If it is a version 4 transaction, add the consensus branch id to\n   * the global map. If it is a version 5 transaction, just return the\n   * buffer because the consensus branch id is already serialized in\n   * the transaction.\n   */\n  toBuffer(): Buffer {\n    if (this.tx.version === 5 || this.tx.version >= ZcashTransaction.VERSION5_BRANCH_NU5) {\n      return super.toBuffer();\n    }\n    const value = Buffer.alloc(4);\n    value.writeUint32LE(this.tx.consensusBranchId);\n    this.addUnknownKeyValToGlobal({ key: CONSENSUS_BRANCH_ID_KEY, value });\n    if (!this.data.globalMap.unknownKeyVals) {\n      throw new Error('Failed adding consensus branch id to unknownKeyVals');\n    }\n    const buff = super.toBuffer();\n    this.data.globalMap.unknownKeyVals.pop();\n    return buff;\n  }\n\n  setVersion(version: number, overwinter = true): this {\n    typeforce(types.UInt32, version);\n    this.tx.overwintered = overwinter ? 1 : 0;\n    this.tx.version = version;\n    return this;\n  }\n\n  setDefaultsForVersion(network: Network, version: number): void {\n    switch (version) {\n      case 4:\n      case ZcashTransaction.VERSION4_BRANCH_CANOPY:\n      case ZcashTransaction.VERSION4_BRANCH_NU5:\n      case ZcashTransaction.VERSION4_BRANCH_NU6:\n        this.setVersion(4);\n        break;\n      case 5:\n      case ZcashTransaction.VERSION5_BRANCH_NU5:\n      case ZcashTransaction.VERSION5_BRANCH_NU6:\n        this.setVersion(5);\n        break;\n      default:\n        throw new Error(`invalid version ${version}`);\n    }\n\n    this.tx.versionGroupId = getDefaultVersionGroupIdForVersion(version);\n    this.tx.consensusBranchId = getDefaultConsensusBranchIdForVersion(network, version);\n  }\n\n  // For Zcash transactions, we do not have to have non-witness UTXO data for non-segwit\n  // transactions because zcash hashes the value directly. Thus, it is unnecessary to have\n  // the previous transaction hash on the unspent.\n  signInput(inputIndex: number, keyPair: Signer, sighashTypes?: number[]): this {\n    return withUnsafeNonSegwit(this, super.signInput.bind(this, inputIndex, keyPair, sighashTypes));\n  }\n\n  validateSignaturesOfInput(inputIndex: number, validator: ValidateSigFunction, pubkey?: Buffer): boolean {\n    return withUnsafeNonSegwit(this, super.validateSignaturesOfInput.bind(this, inputIndex, validator, pubkey));\n  }\n\n  private setPropertyCheckSignatures(propName: keyof ZcashTransaction<bigint>, value: unknown) {\n    if (this.tx[propName] === value) {\n      return;\n    }\n    this.checkForSignatures(propName);\n    this.tx[propName] = value as any;\n  }\n\n  setConsensusBranchId(consensusBranchId: number): void {\n    typeforce(types.UInt32, consensusBranchId);\n    this.setPropertyCheckSignatures('consensusBranchId', consensusBranchId);\n  }\n\n  setVersionGroupId(versionGroupId: number): void {\n    typeforce(types.UInt32, versionGroupId);\n    this.setPropertyCheckSignatures('versionGroupId', versionGroupId);\n  }\n\n  setExpiryHeight(expiryHeight: number): void {\n    typeforce(types.UInt32, expiryHeight);\n    this.setPropertyCheckSignatures('expiryHeight', expiryHeight);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8f4056820dc7f8919433a281e90ef8dfd5332412"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_3qgg28z2p=function(){return actualCoverage;};}return actualCoverage;}cov_3qgg28z2p();cov_3qgg28z2p().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_3qgg28z2p().s[1]++;exports.ZcashPsbt=void 0;const UtxoPsbt_1=(cov_3qgg28z2p().s[2]++,require("../UtxoPsbt"));const ZcashTransaction_1=(cov_3qgg28z2p().s[3]++,require("./ZcashTransaction"));const __1=(cov_3qgg28z2p().s[4]++,require("../../"));const bip174_1=(cov_3qgg28z2p().s[5]++,require("bip174"));const types=(cov_3qgg28z2p().s[6]++,require("bitcoinjs-lib/src/types"));const PsbtUtil_1=(cov_3qgg28z2p().s[7]++,require("../PsbtUtil"));const typeforce=(cov_3qgg28z2p().s[8]++,require('typeforce'));const CONSENSUS_BRANCH_ID_KEY=(cov_3qgg28z2p().s[9]++,Buffer.concat([Buffer.of(0xfc),Buffer.of(0x05),Buffer.from(PsbtUtil_1.PSBT_PROPRIETARY_IDENTIFIER),Buffer.of(PsbtUtil_1.ProprietaryKeySubtype.ZEC_CONSENSUS_BRANCH_ID)]));class ZcashPsbt extends(UtxoPsbt_1.UtxoPsbt){static transactionFromBuffer(buffer,network){cov_3qgg28z2p().f[0]++;cov_3qgg28z2p().s[10]++;return ZcashTransaction_1.ZcashTransaction.fromBuffer(buffer,false,'bigint',network);}static createPsbt(opts,data){cov_3qgg28z2p().f[1]++;cov_3qgg28z2p().s[11]++;return new ZcashPsbt(opts,(cov_3qgg28z2p().b[0][0]++,data)||(cov_3qgg28z2p().b[0][1]++,new bip174_1.Psbt(new __1.PsbtTransaction({tx:new ZcashTransaction_1.ZcashTransaction(opts.network)}))));}/**
     * In version < 5 of Zcash transactions, the consensus branch ID is not serialized in the transaction
     * whereas in version 5 it is. If the transaction is less than a version 5, set the consensus branch id
     * in the global map in the psbt. If it is a version 5 transaction, throw an error if the consensus
     * branch id is set in the psbt (because it should be on the transaction already).
     * @param buffer Psbt buffer
     * @param opts options
     */static fromBuffer(buffer,opts){cov_3qgg28z2p().f[2]++;const psbt=(cov_3qgg28z2p().s[12]++,super.fromBuffer(buffer,opts));// Read `consensusBranchId` from the global-map
let consensusBranchId=(cov_3qgg28z2p().s[13]++,undefined);cov_3qgg28z2p().s[14]++;psbt.data.globalMap.unknownKeyVals?.forEach(({key,value},i)=>{cov_3qgg28z2p().f[3]++;cov_3qgg28z2p().s[15]++;if(key.equals(CONSENSUS_BRANCH_ID_KEY)){cov_3qgg28z2p().b[1][0]++;cov_3qgg28z2p().s[16]++;consensusBranchId=value.readUint32LE();}else{cov_3qgg28z2p().b[1][1]++;}});cov_3qgg28z2p().s[17]++;switch(psbt.tx.version){case 4:cov_3qgg28z2p().b[2][0]++;case ZcashTransaction_1.ZcashTransaction.VERSION4_BRANCH_CANOPY:cov_3qgg28z2p().b[2][1]++;case ZcashTransaction_1.ZcashTransaction.VERSION4_BRANCH_NU5:cov_3qgg28z2p().b[2][2]++;cov_3qgg28z2p().s[18]++;if((cov_3qgg28z2p().b[4][0]++,!consensusBranchId)||(cov_3qgg28z2p().b[4][1]++,!psbt.data.globalMap.unknownKeyVals)){cov_3qgg28z2p().b[3][0]++;cov_3qgg28z2p().s[19]++;throw new Error('Could not find consensus branch id on psbt for version 4 Zcash transaction');}else{cov_3qgg28z2p().b[3][1]++;}cov_3qgg28z2p().s[20]++;psbt.tx.consensusBranchId=consensusBranchId;cov_3qgg28z2p().s[21]++;psbt.data.globalMap.unknownKeyVals=psbt.data.globalMap.unknownKeyVals.filter(({key})=>{cov_3qgg28z2p().f[4]++;cov_3qgg28z2p().s[22]++;return key!==CONSENSUS_BRANCH_ID_KEY;});// Delete consensusBranchId from globalMap so that if we were to serialize the psbt again
// we would not add a duplicate key into the global map
cov_3qgg28z2p().s[23]++;psbt.data.globalMap.unknownKeyVals.pop();cov_3qgg28z2p().s[24]++;return psbt;case 5:cov_3qgg28z2p().b[2][3]++;case ZcashTransaction_1.ZcashTransaction.VERSION5_BRANCH_NU5:cov_3qgg28z2p().b[2][4]++;cov_3qgg28z2p().s[25]++;if(consensusBranchId){cov_3qgg28z2p().b[5][0]++;cov_3qgg28z2p().s[26]++;throw new Error('Found consensus branch id in psbt global-map for version 5 Zcash transaction');}else{cov_3qgg28z2p().b[5][1]++;}cov_3qgg28z2p().s[27]++;return psbt;default:cov_3qgg28z2p().b[2][5]++;cov_3qgg28z2p().s[28]++;throw new Error(`Unsupported transaction version ${psbt.tx.version}`);}}/**
     * If it is a version 4 transaction, add the consensus branch id to
     * the global map. If it is a version 5 transaction, just return the
     * buffer because the consensus branch id is already serialized in
     * the transaction.
     */toBuffer(){cov_3qgg28z2p().f[5]++;cov_3qgg28z2p().s[29]++;if((cov_3qgg28z2p().b[7][0]++,this.tx.version===5)||(cov_3qgg28z2p().b[7][1]++,this.tx.version>=ZcashTransaction_1.ZcashTransaction.VERSION5_BRANCH_NU5)){cov_3qgg28z2p().b[6][0]++;cov_3qgg28z2p().s[30]++;return super.toBuffer();}else{cov_3qgg28z2p().b[6][1]++;}const value=(cov_3qgg28z2p().s[31]++,Buffer.alloc(4));cov_3qgg28z2p().s[32]++;value.writeUint32LE(this.tx.consensusBranchId);cov_3qgg28z2p().s[33]++;this.addUnknownKeyValToGlobal({key:CONSENSUS_BRANCH_ID_KEY,value});cov_3qgg28z2p().s[34]++;if(!this.data.globalMap.unknownKeyVals){cov_3qgg28z2p().b[8][0]++;cov_3qgg28z2p().s[35]++;throw new Error('Failed adding consensus branch id to unknownKeyVals');}else{cov_3qgg28z2p().b[8][1]++;}const buff=(cov_3qgg28z2p().s[36]++,super.toBuffer());cov_3qgg28z2p().s[37]++;this.data.globalMap.unknownKeyVals.pop();cov_3qgg28z2p().s[38]++;return buff;}setVersion(version,overwinter=(cov_3qgg28z2p().b[9][0]++,true)){cov_3qgg28z2p().f[6]++;cov_3qgg28z2p().s[39]++;typeforce(types.UInt32,version);cov_3qgg28z2p().s[40]++;this.tx.overwintered=overwinter?(cov_3qgg28z2p().b[10][0]++,1):(cov_3qgg28z2p().b[10][1]++,0);cov_3qgg28z2p().s[41]++;this.tx.version=version;cov_3qgg28z2p().s[42]++;return this;}setDefaultsForVersion(network,version){cov_3qgg28z2p().f[7]++;cov_3qgg28z2p().s[43]++;switch(version){case 4:cov_3qgg28z2p().b[11][0]++;case ZcashTransaction_1.ZcashTransaction.VERSION4_BRANCH_CANOPY:cov_3qgg28z2p().b[11][1]++;case ZcashTransaction_1.ZcashTransaction.VERSION4_BRANCH_NU5:cov_3qgg28z2p().b[11][2]++;case ZcashTransaction_1.ZcashTransaction.VERSION4_BRANCH_NU6:cov_3qgg28z2p().b[11][3]++;cov_3qgg28z2p().s[44]++;this.setVersion(4);cov_3qgg28z2p().s[45]++;break;case 5:cov_3qgg28z2p().b[11][4]++;case ZcashTransaction_1.ZcashTransaction.VERSION5_BRANCH_NU5:cov_3qgg28z2p().b[11][5]++;case ZcashTransaction_1.ZcashTransaction.VERSION5_BRANCH_NU6:cov_3qgg28z2p().b[11][6]++;cov_3qgg28z2p().s[46]++;this.setVersion(5);cov_3qgg28z2p().s[47]++;break;default:cov_3qgg28z2p().b[11][7]++;cov_3qgg28z2p().s[48]++;throw new Error(`invalid version ${version}`);}cov_3qgg28z2p().s[49]++;this.tx.versionGroupId=(0,ZcashTransaction_1.getDefaultVersionGroupIdForVersion)(version);cov_3qgg28z2p().s[50]++;this.tx.consensusBranchId=(0,ZcashTransaction_1.getDefaultConsensusBranchIdForVersion)(network,version);}// For Zcash transactions, we do not have to have non-witness UTXO data for non-segwit
// transactions because zcash hashes the value directly. Thus, it is unnecessary to have
// the previous transaction hash on the unspent.
signInput(inputIndex,keyPair,sighashTypes){cov_3qgg28z2p().f[8]++;cov_3qgg28z2p().s[51]++;return(0,PsbtUtil_1.withUnsafeNonSegwit)(this,super.signInput.bind(this,inputIndex,keyPair,sighashTypes));}validateSignaturesOfInput(inputIndex,validator,pubkey){cov_3qgg28z2p().f[9]++;cov_3qgg28z2p().s[52]++;return(0,PsbtUtil_1.withUnsafeNonSegwit)(this,super.validateSignaturesOfInput.bind(this,inputIndex,validator,pubkey));}setPropertyCheckSignatures(propName,value){cov_3qgg28z2p().f[10]++;cov_3qgg28z2p().s[53]++;if(this.tx[propName]===value){cov_3qgg28z2p().b[12][0]++;cov_3qgg28z2p().s[54]++;return;}else{cov_3qgg28z2p().b[12][1]++;}cov_3qgg28z2p().s[55]++;this.checkForSignatures(propName);cov_3qgg28z2p().s[56]++;this.tx[propName]=value;}setConsensusBranchId(consensusBranchId){cov_3qgg28z2p().f[11]++;cov_3qgg28z2p().s[57]++;typeforce(types.UInt32,consensusBranchId);cov_3qgg28z2p().s[58]++;this.setPropertyCheckSignatures('consensusBranchId',consensusBranchId);}setVersionGroupId(versionGroupId){cov_3qgg28z2p().f[12]++;cov_3qgg28z2p().s[59]++;typeforce(types.UInt32,versionGroupId);cov_3qgg28z2p().s[60]++;this.setPropertyCheckSignatures('versionGroupId',versionGroupId);}setExpiryHeight(expiryHeight){cov_3qgg28z2p().f[13]++;cov_3qgg28z2p().s[61]++;typeforce(types.UInt32,expiryHeight);cov_3qgg28z2p().s[62]++;this.setPropertyCheckSignatures('expiryHeight',expiryHeight);}}cov_3qgg28z2p().s[63]++;exports.ZcashPsbt=ZcashPsbt;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYml0Z28vemNhc2gvWmNhc2hQc2J0LnRzIiwic291cmNlcyI6WyIvVXNlcnMvcXJvYy9Db2RlL2hhcGkvY2hhaW5kZWZ1c2VyL3V0eG8tbGliL3NyYy9iaXRnby96Y2FzaC9aY2FzaFBzYnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMENBQWlEO0FBQ2pELHlEQUk0QjtBQUM1Qiw4QkFBMEQ7QUFDMUQsbUNBQTBDO0FBQzFDLGlEQUFpRDtBQUVqRCwwQ0FBc0c7QUFDdEcsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXZDLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUM1QyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztJQUNmLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0lBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQyxzQ0FBMkIsQ0FBQztJQUN4QyxNQUFNLENBQUMsRUFBRSxDQUFDLGdDQUFxQixDQUFDLHVCQUF1QixDQUFDO0NBQ3pELENBQUMsQ0FBQztBQUVILE1BQWEsU0FBVSxTQUFRLG1CQUFrQztJQUNyRCxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBYyxFQUFFLE9BQWdCO1FBQ3JFLE9BQU8sbUNBQWdCLENBQUMsVUFBVSxDQUFTLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLElBQWMsRUFBRSxJQUFlO1FBQy9DLE9BQU8sSUFBSSxTQUFTLENBQ2xCLElBQUksRUFDSixJQUFJLElBQUksSUFBSSxhQUFRLENBQUMsSUFBSSxtQkFBZSxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksbUNBQWdCLENBQVMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUM5RixD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QWMsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxlQUFlLENBQUMsWUFBb0I7UUFDbEMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNoRSxDQUFDO0NBQ0Y7QUEzSUQsOEJBMklDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHNidE9wdHMsIFV0eG9Qc2J0IH0gZnJvbSAnLi4vVXR4b1BzYnQnO1xuaW1wb3J0IHtcbiAgZ2V0RGVmYXVsdENvbnNlbnN1c0JyYW5jaElkRm9yVmVyc2lvbixcbiAgZ2V0RGVmYXVsdFZlcnNpb25Hcm91cElkRm9yVmVyc2lvbixcbiAgWmNhc2hUcmFuc2FjdGlvbixcbn0gZnJvbSAnLi9aY2FzaFRyYW5zYWN0aW9uJztcbmltcG9ydCB7IE5ldHdvcmssIFBzYnRUcmFuc2FjdGlvbiwgU2lnbmVyIH0gZnJvbSAnLi4vLi4vJztcbmltcG9ydCB7IFBzYnQgYXMgUHNidEJhc2UgfSBmcm9tICdiaXAxNzQnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnYml0Y29pbmpzLWxpYi9zcmMvdHlwZXMnO1xuaW1wb3J0IHsgVmFsaWRhdGVTaWdGdW5jdGlvbiB9IGZyb20gJ2JpdGNvaW5qcy1saWIvc3JjL3BzYnQnO1xuaW1wb3J0IHsgUHJvcHJpZXRhcnlLZXlTdWJ0eXBlLCBQU0JUX1BST1BSSUVUQVJZX0lERU5USUZJRVIsIHdpdGhVbnNhZmVOb25TZWd3aXQgfSBmcm9tICcuLi9Qc2J0VXRpbCc7XG5jb25zdCB0eXBlZm9yY2UgPSByZXF1aXJlKCd0eXBlZm9yY2UnKTtcblxuY29uc3QgQ09OU0VOU1VTX0JSQU5DSF9JRF9LRVkgPSBCdWZmZXIuY29uY2F0KFtcbiAgQnVmZmVyLm9mKDB4ZmMpLFxuICBCdWZmZXIub2YoMHgwNSksXG4gIEJ1ZmZlci5mcm9tKFBTQlRfUFJPUFJJRVRBUllfSURFTlRJRklFUiksXG4gIEJ1ZmZlci5vZihQcm9wcmlldGFyeUtleVN1YnR5cGUuWkVDX0NPTlNFTlNVU19CUkFOQ0hfSUQpLFxuXSk7XG5cbmV4cG9ydCBjbGFzcyBaY2FzaFBzYnQgZXh0ZW5kcyBVdHhvUHNidDxaY2FzaFRyYW5zYWN0aW9uPGJpZ2ludD4+IHtcbiAgcHJvdGVjdGVkIHN0YXRpYyB0cmFuc2FjdGlvbkZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIsIG5ldHdvcms6IE5ldHdvcmspOiBaY2FzaFRyYW5zYWN0aW9uPGJpZ2ludD4ge1xuICAgIHJldHVybiBaY2FzaFRyYW5zYWN0aW9uLmZyb21CdWZmZXI8YmlnaW50PihidWZmZXIsIGZhbHNlLCAnYmlnaW50JywgbmV0d29yayk7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlUHNidChvcHRzOiBQc2J0T3B0cywgZGF0YT86IFBzYnRCYXNlKTogWmNhc2hQc2J0IHtcbiAgICByZXR1cm4gbmV3IFpjYXNoUHNidChcbiAgICAgIG9wdHMsXG4gICAgICBkYXRhIHx8IG5ldyBQc2J0QmFzZShuZXcgUHNidFRyYW5zYWN0aW9uKHsgdHg6IG5ldyBaY2FzaFRyYW5zYWN0aW9uPGJpZ2ludD4ob3B0cy5uZXR3b3JrKSB9KSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluIHZlcnNpb24gPCA1IG9mIFpjYXNoIHRyYW5zYWN0aW9ucywgdGhlIGNvbnNlbnN1cyBicmFuY2ggSUQgaXMgbm90IHNlcmlhbGl6ZWQgaW4gdGhlIHRyYW5zYWN0aW9uXG4gICAqIHdoZXJlYXMgaW4gdmVyc2lvbiA1IGl0IGlzLiBJZiB0aGUgdHJhbnNhY3Rpb24gaXMgbGVzcyB0aGFuIGEgdmVyc2lvbiA1LCBzZXQgdGhlIGNvbnNlbnN1cyBicmFuY2ggaWRcbiAgICogaW4gdGhlIGdsb2JhbCBtYXAgaW4gdGhlIHBzYnQuIElmIGl0IGlzIGEgdmVyc2lvbiA1IHRyYW5zYWN0aW9uLCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY29uc2Vuc3VzXG4gICAqIGJyYW5jaCBpZCBpcyBzZXQgaW4gdGhlIHBzYnQgKGJlY2F1c2UgaXQgc2hvdWxkIGJlIG9uIHRoZSB0cmFuc2FjdGlvbiBhbHJlYWR5KS5cbiAgICogQHBhcmFtIGJ1ZmZlciBQc2J0IGJ1ZmZlclxuICAgKiBAcGFyYW0gb3B0cyBvcHRpb25zXG4gICAqL1xuICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlciwgb3B0czogUHNidE9wdHMpOiBVdHhvUHNidDxaY2FzaFRyYW5zYWN0aW9uPGJpZ2ludD4+IHtcbiAgICBjb25zdCBwc2J0ID0gc3VwZXIuZnJvbUJ1ZmZlcihidWZmZXIsIG9wdHMpIGFzIFpjYXNoUHNidDtcblxuICAgIC8vIFJlYWQgYGNvbnNlbnN1c0JyYW5jaElkYCBmcm9tIHRoZSBnbG9iYWwtbWFwXG4gICAgbGV0IGNvbnNlbnN1c0JyYW5jaElkOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgcHNidC5kYXRhLmdsb2JhbE1hcC51bmtub3duS2V5VmFscz8uZm9yRWFjaCgoeyBrZXksIHZhbHVlIH0sIGkpID0+IHtcbiAgICAgIGlmIChrZXkuZXF1YWxzKENPTlNFTlNVU19CUkFOQ0hfSURfS0VZKSkge1xuICAgICAgICBjb25zZW5zdXNCcmFuY2hJZCA9IHZhbHVlLnJlYWRVaW50MzJMRSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXRjaCAocHNidC50eC52ZXJzaW9uKSB7XG4gICAgICBjYXNlIDQ6XG4gICAgICBjYXNlIFpjYXNoVHJhbnNhY3Rpb24uVkVSU0lPTjRfQlJBTkNIX0NBTk9QWTpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONF9CUkFOQ0hfTlU1OlxuICAgICAgICBpZiAoIWNvbnNlbnN1c0JyYW5jaElkIHx8ICFwc2J0LmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBjb25zZW5zdXMgYnJhbmNoIGlkIG9uIHBzYnQgZm9yIHZlcnNpb24gNCBaY2FzaCB0cmFuc2FjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHBzYnQudHguY29uc2Vuc3VzQnJhbmNoSWQgPSBjb25zZW5zdXNCcmFuY2hJZDtcbiAgICAgICAgcHNidC5kYXRhLmdsb2JhbE1hcC51bmtub3duS2V5VmFscyA9IHBzYnQuZGF0YS5nbG9iYWxNYXAudW5rbm93bktleVZhbHMuZmlsdGVyKFxuICAgICAgICAgICh7IGtleSB9KSA9PiBrZXkgIT09IENPTlNFTlNVU19CUkFOQ0hfSURfS0VZXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gRGVsZXRlIGNvbnNlbnN1c0JyYW5jaElkIGZyb20gZ2xvYmFsTWFwIHNvIHRoYXQgaWYgd2Ugd2VyZSB0byBzZXJpYWxpemUgdGhlIHBzYnQgYWdhaW5cbiAgICAgICAgLy8gd2Ugd291bGQgbm90IGFkZCBhIGR1cGxpY2F0ZSBrZXkgaW50byB0aGUgZ2xvYmFsIG1hcFxuICAgICAgICBwc2J0LmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzLnBvcCgpO1xuICAgICAgICByZXR1cm4gcHNidDtcbiAgICAgIGNhc2UgNTpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONV9CUkFOQ0hfTlU1OlxuICAgICAgICBpZiAoY29uc2Vuc3VzQnJhbmNoSWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGNvbnNlbnN1cyBicmFuY2ggaWQgaW4gcHNidCBnbG9iYWwtbWFwIGZvciB2ZXJzaW9uIDUgWmNhc2ggdHJhbnNhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHNidDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHJhbnNhY3Rpb24gdmVyc2lvbiAke3BzYnQudHgudmVyc2lvbn1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgaXQgaXMgYSB2ZXJzaW9uIDQgdHJhbnNhY3Rpb24sIGFkZCB0aGUgY29uc2Vuc3VzIGJyYW5jaCBpZCB0b1xuICAgKiB0aGUgZ2xvYmFsIG1hcC4gSWYgaXQgaXMgYSB2ZXJzaW9uIDUgdHJhbnNhY3Rpb24sIGp1c3QgcmV0dXJuIHRoZVxuICAgKiBidWZmZXIgYmVjYXVzZSB0aGUgY29uc2Vuc3VzIGJyYW5jaCBpZCBpcyBhbHJlYWR5IHNlcmlhbGl6ZWQgaW5cbiAgICogdGhlIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgdG9CdWZmZXIoKTogQnVmZmVyIHtcbiAgICBpZiAodGhpcy50eC52ZXJzaW9uID09PSA1IHx8IHRoaXMudHgudmVyc2lvbiA+PSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT041X0JSQU5DSF9OVTUpIHtcbiAgICAgIHJldHVybiBzdXBlci50b0J1ZmZlcigpO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IEJ1ZmZlci5hbGxvYyg0KTtcbiAgICB2YWx1ZS53cml0ZVVpbnQzMkxFKHRoaXMudHguY29uc2Vuc3VzQnJhbmNoSWQpO1xuICAgIHRoaXMuYWRkVW5rbm93bktleVZhbFRvR2xvYmFsKHsga2V5OiBDT05TRU5TVVNfQlJBTkNIX0lEX0tFWSwgdmFsdWUgfSk7XG4gICAgaWYgKCF0aGlzLmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCBhZGRpbmcgY29uc2Vuc3VzIGJyYW5jaCBpZCB0byB1bmtub3duS2V5VmFscycpO1xuICAgIH1cbiAgICBjb25zdCBidWZmID0gc3VwZXIudG9CdWZmZXIoKTtcbiAgICB0aGlzLmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzLnBvcCgpO1xuICAgIHJldHVybiBidWZmO1xuICB9XG5cbiAgc2V0VmVyc2lvbih2ZXJzaW9uOiBudW1iZXIsIG92ZXJ3aW50ZXIgPSB0cnVlKTogdGhpcyB7XG4gICAgdHlwZWZvcmNlKHR5cGVzLlVJbnQzMiwgdmVyc2lvbik7XG4gICAgdGhpcy50eC5vdmVyd2ludGVyZWQgPSBvdmVyd2ludGVyID8gMSA6IDA7XG4gICAgdGhpcy50eC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldERlZmF1bHRzRm9yVmVyc2lvbihuZXR3b3JrOiBOZXR3b3JrLCB2ZXJzaW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHZlcnNpb24pIHtcbiAgICAgIGNhc2UgNDpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONF9CUkFOQ0hfQ0FOT1BZOlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT040X0JSQU5DSF9OVTU6XG4gICAgICBjYXNlIFpjYXNoVHJhbnNhY3Rpb24uVkVSU0lPTjRfQlJBTkNIX05VNjpcbiAgICAgICAgdGhpcy5zZXRWZXJzaW9uKDQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONV9CUkFOQ0hfTlU1OlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT041X0JSQU5DSF9OVTY6XG4gICAgICAgIHRoaXMuc2V0VmVyc2lvbig1KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgdmVyc2lvbiAke3ZlcnNpb259YCk7XG4gICAgfVxuXG4gICAgdGhpcy50eC52ZXJzaW9uR3JvdXBJZCA9IGdldERlZmF1bHRWZXJzaW9uR3JvdXBJZEZvclZlcnNpb24odmVyc2lvbik7XG4gICAgdGhpcy50eC5jb25zZW5zdXNCcmFuY2hJZCA9IGdldERlZmF1bHRDb25zZW5zdXNCcmFuY2hJZEZvclZlcnNpb24obmV0d29yaywgdmVyc2lvbik7XG4gIH1cblxuICAvLyBGb3IgWmNhc2ggdHJhbnNhY3Rpb25zLCB3ZSBkbyBub3QgaGF2ZSB0byBoYXZlIG5vbi13aXRuZXNzIFVUWE8gZGF0YSBmb3Igbm9uLXNlZ3dpdFxuICAvLyB0cmFuc2FjdGlvbnMgYmVjYXVzZSB6Y2FzaCBoYXNoZXMgdGhlIHZhbHVlIGRpcmVjdGx5LiBUaHVzLCBpdCBpcyB1bm5lY2Vzc2FyeSB0byBoYXZlXG4gIC8vIHRoZSBwcmV2aW91cyB0cmFuc2FjdGlvbiBoYXNoIG9uIHRoZSB1bnNwZW50LlxuICBzaWduSW5wdXQoaW5wdXRJbmRleDogbnVtYmVyLCBrZXlQYWlyOiBTaWduZXIsIHNpZ2hhc2hUeXBlcz86IG51bWJlcltdKTogdGhpcyB7XG4gICAgcmV0dXJuIHdpdGhVbnNhZmVOb25TZWd3aXQodGhpcywgc3VwZXIuc2lnbklucHV0LmJpbmQodGhpcywgaW5wdXRJbmRleCwga2V5UGFpciwgc2lnaGFzaFR5cGVzKSk7XG4gIH1cblxuICB2YWxpZGF0ZVNpZ25hdHVyZXNPZklucHV0KGlucHV0SW5kZXg6IG51bWJlciwgdmFsaWRhdG9yOiBWYWxpZGF0ZVNpZ0Z1bmN0aW9uLCBwdWJrZXk/OiBCdWZmZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2l0aFVuc2FmZU5vblNlZ3dpdCh0aGlzLCBzdXBlci52YWxpZGF0ZVNpZ25hdHVyZXNPZklucHV0LmJpbmQodGhpcywgaW5wdXRJbmRleCwgdmFsaWRhdG9yLCBwdWJrZXkpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0UHJvcGVydHlDaGVja1NpZ25hdHVyZXMocHJvcE5hbWU6IGtleW9mIFpjYXNoVHJhbnNhY3Rpb248YmlnaW50PiwgdmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAodGhpcy50eFtwcm9wTmFtZV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hlY2tGb3JTaWduYXR1cmVzKHByb3BOYW1lKTtcbiAgICB0aGlzLnR4W3Byb3BOYW1lXSA9IHZhbHVlIGFzIGFueTtcbiAgfVxuXG4gIHNldENvbnNlbnN1c0JyYW5jaElkKGNvbnNlbnN1c0JyYW5jaElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0eXBlZm9yY2UodHlwZXMuVUludDMyLCBjb25zZW5zdXNCcmFuY2hJZCk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eUNoZWNrU2lnbmF0dXJlcygnY29uc2Vuc3VzQnJhbmNoSWQnLCBjb25zZW5zdXNCcmFuY2hJZCk7XG4gIH1cblxuICBzZXRWZXJzaW9uR3JvdXBJZCh2ZXJzaW9uR3JvdXBJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdHlwZWZvcmNlKHR5cGVzLlVJbnQzMiwgdmVyc2lvbkdyb3VwSWQpO1xuICAgIHRoaXMuc2V0UHJvcGVydHlDaGVja1NpZ25hdHVyZXMoJ3ZlcnNpb25Hcm91cElkJywgdmVyc2lvbkdyb3VwSWQpO1xuICB9XG5cbiAgc2V0RXhwaXJ5SGVpZ2h0KGV4cGlyeUhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdHlwZWZvcmNlKHR5cGVzLlVJbnQzMiwgZXhwaXJ5SGVpZ2h0KTtcbiAgICB0aGlzLnNldFByb3BlcnR5Q2hlY2tTaWduYXR1cmVzKCdleHBpcnlIZWlnaHQnLCBleHBpcnlIZWlnaHQpO1xuICB9XG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfM3FnZzI4ejJwIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiVXR4b1BzYnRfMSIsInJlcXVpcmUiLCJaY2FzaFRyYW5zYWN0aW9uXzEiLCJfXzEiLCJiaXAxNzRfMSIsInR5cGVzIiwiUHNidFV0aWxfMSIsInR5cGVmb3JjZSIsIkNPTlNFTlNVU19CUkFOQ0hfSURfS0VZIiwiQnVmZmVyIiwiY29uY2F0Iiwib2YiLCJmcm9tIiwiUFNCVF9QUk9QUklFVEFSWV9JREVOVElGSUVSIiwiUHJvcHJpZXRhcnlLZXlTdWJ0eXBlIiwiWkVDX0NPTlNFTlNVU19CUkFOQ0hfSUQiLCJaY2FzaFBzYnQiLCJVdHhvUHNidCIsInRyYW5zYWN0aW9uRnJvbUJ1ZmZlciIsImJ1ZmZlciIsIm5ldHdvcmsiLCJmIiwiWmNhc2hUcmFuc2FjdGlvbiIsImZyb21CdWZmZXIiLCJjcmVhdGVQc2J0Iiwib3B0cyIsImRhdGEiLCJiIiwiUHNidCIsIlBzYnRUcmFuc2FjdGlvbiIsInR4IiwicHNidCIsImNvbnNlbnN1c0JyYW5jaElkIiwidW5kZWZpbmVkIiwiZ2xvYmFsTWFwIiwidW5rbm93bktleVZhbHMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJpIiwiZXF1YWxzIiwicmVhZFVpbnQzMkxFIiwidmVyc2lvbiIsIlZFUlNJT040X0JSQU5DSF9DQU5PUFkiLCJWRVJTSU9ONF9CUkFOQ0hfTlU1IiwiRXJyb3IiLCJmaWx0ZXIiLCJwb3AiLCJWRVJTSU9ONV9CUkFOQ0hfTlU1IiwidG9CdWZmZXIiLCJhbGxvYyIsIndyaXRlVWludDMyTEUiLCJhZGRVbmtub3duS2V5VmFsVG9HbG9iYWwiLCJidWZmIiwic2V0VmVyc2lvbiIsIm92ZXJ3aW50ZXIiLCJVSW50MzIiLCJvdmVyd2ludGVyZWQiLCJzZXREZWZhdWx0c0ZvclZlcnNpb24iLCJWRVJTSU9ONF9CUkFOQ0hfTlU2IiwiVkVSU0lPTjVfQlJBTkNIX05VNiIsInZlcnNpb25Hcm91cElkIiwiZ2V0RGVmYXVsdFZlcnNpb25Hcm91cElkRm9yVmVyc2lvbiIsImdldERlZmF1bHRDb25zZW5zdXNCcmFuY2hJZEZvclZlcnNpb24iLCJzaWduSW5wdXQiLCJpbnB1dEluZGV4Iiwia2V5UGFpciIsInNpZ2hhc2hUeXBlcyIsIndpdGhVbnNhZmVOb25TZWd3aXQiLCJiaW5kIiwidmFsaWRhdGVTaWduYXR1cmVzT2ZJbnB1dCIsInZhbGlkYXRvciIsInB1YmtleSIsInNldFByb3BlcnR5Q2hlY2tTaWduYXR1cmVzIiwicHJvcE5hbWUiLCJjaGVja0ZvclNpZ25hdHVyZXMiLCJzZXRDb25zZW5zdXNCcmFuY2hJZCIsInNldFZlcnNpb25Hcm91cElkIiwic2V0RXhwaXJ5SGVpZ2h0IiwiZXhwaXJ5SGVpZ2h0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9xcm9jL0NvZGUvaGFwaS9jaGFpbmRlZnVzZXIvdXR4by1saWIvc3JjL2JpdGdvL3pjYXNoL1pjYXNoUHNidC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQc2J0T3B0cywgVXR4b1BzYnQgfSBmcm9tICcuLi9VdHhvUHNidCc7XG5pbXBvcnQge1xuICBnZXREZWZhdWx0Q29uc2Vuc3VzQnJhbmNoSWRGb3JWZXJzaW9uLFxuICBnZXREZWZhdWx0VmVyc2lvbkdyb3VwSWRGb3JWZXJzaW9uLFxuICBaY2FzaFRyYW5zYWN0aW9uLFxufSBmcm9tICcuL1pjYXNoVHJhbnNhY3Rpb24nO1xuaW1wb3J0IHsgTmV0d29yaywgUHNidFRyYW5zYWN0aW9uLCBTaWduZXIgfSBmcm9tICcuLi8uLi8nO1xuaW1wb3J0IHsgUHNidCBhcyBQc2J0QmFzZSB9IGZyb20gJ2JpcDE3NCc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICdiaXRjb2luanMtbGliL3NyYy90eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0ZVNpZ0Z1bmN0aW9uIH0gZnJvbSAnYml0Y29pbmpzLWxpYi9zcmMvcHNidCc7XG5pbXBvcnQgeyBQcm9wcmlldGFyeUtleVN1YnR5cGUsIFBTQlRfUFJPUFJJRVRBUllfSURFTlRJRklFUiwgd2l0aFVuc2FmZU5vblNlZ3dpdCB9IGZyb20gJy4uL1BzYnRVdGlsJztcbmNvbnN0IHR5cGVmb3JjZSA9IHJlcXVpcmUoJ3R5cGVmb3JjZScpO1xuXG5jb25zdCBDT05TRU5TVVNfQlJBTkNIX0lEX0tFWSA9IEJ1ZmZlci5jb25jYXQoW1xuICBCdWZmZXIub2YoMHhmYyksXG4gIEJ1ZmZlci5vZigweDA1KSxcbiAgQnVmZmVyLmZyb20oUFNCVF9QUk9QUklFVEFSWV9JREVOVElGSUVSKSxcbiAgQnVmZmVyLm9mKFByb3ByaWV0YXJ5S2V5U3VidHlwZS5aRUNfQ09OU0VOU1VTX0JSQU5DSF9JRCksXG5dKTtcblxuZXhwb3J0IGNsYXNzIFpjYXNoUHNidCBleHRlbmRzIFV0eG9Qc2J0PFpjYXNoVHJhbnNhY3Rpb248YmlnaW50Pj4ge1xuICBwcm90ZWN0ZWQgc3RhdGljIHRyYW5zYWN0aW9uRnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlciwgbmV0d29yazogTmV0d29yayk6IFpjYXNoVHJhbnNhY3Rpb248YmlnaW50PiB7XG4gICAgcmV0dXJuIFpjYXNoVHJhbnNhY3Rpb24uZnJvbUJ1ZmZlcjxiaWdpbnQ+KGJ1ZmZlciwgZmFsc2UsICdiaWdpbnQnLCBuZXR3b3JrKTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVQc2J0KG9wdHM6IFBzYnRPcHRzLCBkYXRhPzogUHNidEJhc2UpOiBaY2FzaFBzYnQge1xuICAgIHJldHVybiBuZXcgWmNhc2hQc2J0KFxuICAgICAgb3B0cyxcbiAgICAgIGRhdGEgfHwgbmV3IFBzYnRCYXNlKG5ldyBQc2J0VHJhbnNhY3Rpb24oeyB0eDogbmV3IFpjYXNoVHJhbnNhY3Rpb248YmlnaW50PihvcHRzLm5ldHdvcmspIH0pKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSW4gdmVyc2lvbiA8IDUgb2YgWmNhc2ggdHJhbnNhY3Rpb25zLCB0aGUgY29uc2Vuc3VzIGJyYW5jaCBJRCBpcyBub3Qgc2VyaWFsaXplZCBpbiB0aGUgdHJhbnNhY3Rpb25cbiAgICogd2hlcmVhcyBpbiB2ZXJzaW9uIDUgaXQgaXMuIElmIHRoZSB0cmFuc2FjdGlvbiBpcyBsZXNzIHRoYW4gYSB2ZXJzaW9uIDUsIHNldCB0aGUgY29uc2Vuc3VzIGJyYW5jaCBpZFxuICAgKiBpbiB0aGUgZ2xvYmFsIG1hcCBpbiB0aGUgcHNidC4gSWYgaXQgaXMgYSB2ZXJzaW9uIDUgdHJhbnNhY3Rpb24sIHRocm93IGFuIGVycm9yIGlmIHRoZSBjb25zZW5zdXNcbiAgICogYnJhbmNoIGlkIGlzIHNldCBpbiB0aGUgcHNidCAoYmVjYXVzZSBpdCBzaG91bGQgYmUgb24gdGhlIHRyYW5zYWN0aW9uIGFscmVhZHkpLlxuICAgKiBAcGFyYW0gYnVmZmVyIFBzYnQgYnVmZmVyXG4gICAqIEBwYXJhbSBvcHRzIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlcjogQnVmZmVyLCBvcHRzOiBQc2J0T3B0cyk6IFV0eG9Qc2J0PFpjYXNoVHJhbnNhY3Rpb248YmlnaW50Pj4ge1xuICAgIGNvbnN0IHBzYnQgPSBzdXBlci5mcm9tQnVmZmVyKGJ1ZmZlciwgb3B0cykgYXMgWmNhc2hQc2J0O1xuXG4gICAgLy8gUmVhZCBgY29uc2Vuc3VzQnJhbmNoSWRgIGZyb20gdGhlIGdsb2JhbC1tYXBcbiAgICBsZXQgY29uc2Vuc3VzQnJhbmNoSWQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBwc2J0LmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzPy5mb3JFYWNoKCh7IGtleSwgdmFsdWUgfSwgaSkgPT4ge1xuICAgICAgaWYgKGtleS5lcXVhbHMoQ09OU0VOU1VTX0JSQU5DSF9JRF9LRVkpKSB7XG4gICAgICAgIGNvbnNlbnN1c0JyYW5jaElkID0gdmFsdWUucmVhZFVpbnQzMkxFKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpdGNoIChwc2J0LnR4LnZlcnNpb24pIHtcbiAgICAgIGNhc2UgNDpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONF9CUkFOQ0hfQ0FOT1BZOlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT040X0JSQU5DSF9OVTU6XG4gICAgICAgIGlmICghY29uc2Vuc3VzQnJhbmNoSWQgfHwgIXBzYnQuZGF0YS5nbG9iYWxNYXAudW5rbm93bktleVZhbHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGNvbnNlbnN1cyBicmFuY2ggaWQgb24gcHNidCBmb3IgdmVyc2lvbiA0IFpjYXNoIHRyYW5zYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcHNidC50eC5jb25zZW5zdXNCcmFuY2hJZCA9IGNvbnNlbnN1c0JyYW5jaElkO1xuICAgICAgICBwc2J0LmRhdGEuZ2xvYmFsTWFwLnVua25vd25LZXlWYWxzID0gcHNidC5kYXRhLmdsb2JhbE1hcC51bmtub3duS2V5VmFscy5maWx0ZXIoXG4gICAgICAgICAgKHsga2V5IH0pID0+IGtleSAhPT0gQ09OU0VOU1VTX0JSQU5DSF9JRF9LRVlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBEZWxldGUgY29uc2Vuc3VzQnJhbmNoSWQgZnJvbSBnbG9iYWxNYXAgc28gdGhhdCBpZiB3ZSB3ZXJlIHRvIHNlcmlhbGl6ZSB0aGUgcHNidCBhZ2FpblxuICAgICAgICAvLyB3ZSB3b3VsZCBub3QgYWRkIGEgZHVwbGljYXRlIGtleSBpbnRvIHRoZSBnbG9iYWwgbWFwXG4gICAgICAgIHBzYnQuZGF0YS5nbG9iYWxNYXAudW5rbm93bktleVZhbHMucG9wKCk7XG4gICAgICAgIHJldHVybiBwc2J0O1xuICAgICAgY2FzZSA1OlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT041X0JSQU5DSF9OVTU6XG4gICAgICAgIGlmIChjb25zZW5zdXNCcmFuY2hJZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgY29uc2Vuc3VzIGJyYW5jaCBpZCBpbiBwc2J0IGdsb2JhbC1tYXAgZm9yIHZlcnNpb24gNSBaY2FzaCB0cmFuc2FjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwc2J0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0cmFuc2FjdGlvbiB2ZXJzaW9uICR7cHNidC50eC52ZXJzaW9ufWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBpdCBpcyBhIHZlcnNpb24gNCB0cmFuc2FjdGlvbiwgYWRkIHRoZSBjb25zZW5zdXMgYnJhbmNoIGlkIHRvXG4gICAqIHRoZSBnbG9iYWwgbWFwLiBJZiBpdCBpcyBhIHZlcnNpb24gNSB0cmFuc2FjdGlvbiwganVzdCByZXR1cm4gdGhlXG4gICAqIGJ1ZmZlciBiZWNhdXNlIHRoZSBjb25zZW5zdXMgYnJhbmNoIGlkIGlzIGFscmVhZHkgc2VyaWFsaXplZCBpblxuICAgKiB0aGUgdHJhbnNhY3Rpb24uXG4gICAqL1xuICB0b0J1ZmZlcigpOiBCdWZmZXIge1xuICAgIGlmICh0aGlzLnR4LnZlcnNpb24gPT09IDUgfHwgdGhpcy50eC52ZXJzaW9uID49IFpjYXNoVHJhbnNhY3Rpb24uVkVSU0lPTjVfQlJBTkNIX05VNSkge1xuICAgICAgcmV0dXJuIHN1cGVyLnRvQnVmZmVyKCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gQnVmZmVyLmFsbG9jKDQpO1xuICAgIHZhbHVlLndyaXRlVWludDMyTEUodGhpcy50eC5jb25zZW5zdXNCcmFuY2hJZCk7XG4gICAgdGhpcy5hZGRVbmtub3duS2V5VmFsVG9HbG9iYWwoeyBrZXk6IENPTlNFTlNVU19CUkFOQ0hfSURfS0VZLCB2YWx1ZSB9KTtcbiAgICBpZiAoIXRoaXMuZGF0YS5nbG9iYWxNYXAudW5rbm93bktleVZhbHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIGFkZGluZyBjb25zZW5zdXMgYnJhbmNoIGlkIHRvIHVua25vd25LZXlWYWxzJyk7XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmYgPSBzdXBlci50b0J1ZmZlcigpO1xuICAgIHRoaXMuZGF0YS5nbG9iYWxNYXAudW5rbm93bktleVZhbHMucG9wKCk7XG4gICAgcmV0dXJuIGJ1ZmY7XG4gIH1cblxuICBzZXRWZXJzaW9uKHZlcnNpb246IG51bWJlciwgb3ZlcndpbnRlciA9IHRydWUpOiB0aGlzIHtcbiAgICB0eXBlZm9yY2UodHlwZXMuVUludDMyLCB2ZXJzaW9uKTtcbiAgICB0aGlzLnR4Lm92ZXJ3aW50ZXJlZCA9IG92ZXJ3aW50ZXIgPyAxIDogMDtcbiAgICB0aGlzLnR4LnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0RGVmYXVsdHNGb3JWZXJzaW9uKG5ldHdvcms6IE5ldHdvcmssIHZlcnNpb246IG51bWJlcik6IHZvaWQge1xuICAgIHN3aXRjaCAodmVyc2lvbikge1xuICAgICAgY2FzZSA0OlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT040X0JSQU5DSF9DQU5PUFk6XG4gICAgICBjYXNlIFpjYXNoVHJhbnNhY3Rpb24uVkVSU0lPTjRfQlJBTkNIX05VNTpcbiAgICAgIGNhc2UgWmNhc2hUcmFuc2FjdGlvbi5WRVJTSU9ONF9CUkFOQ0hfTlU2OlxuICAgICAgICB0aGlzLnNldFZlcnNpb24oNCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1OlxuICAgICAgY2FzZSBaY2FzaFRyYW5zYWN0aW9uLlZFUlNJT041X0JSQU5DSF9OVTU6XG4gICAgICBjYXNlIFpjYXNoVHJhbnNhY3Rpb24uVkVSU0lPTjVfQlJBTkNIX05VNjpcbiAgICAgICAgdGhpcy5zZXRWZXJzaW9uKDUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB2ZXJzaW9uICR7dmVyc2lvbn1gKTtcbiAgICB9XG5cbiAgICB0aGlzLnR4LnZlcnNpb25Hcm91cElkID0gZ2V0RGVmYXVsdFZlcnNpb25Hcm91cElkRm9yVmVyc2lvbih2ZXJzaW9uKTtcbiAgICB0aGlzLnR4LmNvbnNlbnN1c0JyYW5jaElkID0gZ2V0RGVmYXVsdENvbnNlbnN1c0JyYW5jaElkRm9yVmVyc2lvbihuZXR3b3JrLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIC8vIEZvciBaY2FzaCB0cmFuc2FjdGlvbnMsIHdlIGRvIG5vdCBoYXZlIHRvIGhhdmUgbm9uLXdpdG5lc3MgVVRYTyBkYXRhIGZvciBub24tc2Vnd2l0XG4gIC8vIHRyYW5zYWN0aW9ucyBiZWNhdXNlIHpjYXNoIGhhc2hlcyB0aGUgdmFsdWUgZGlyZWN0bHkuIFRodXMsIGl0IGlzIHVubmVjZXNzYXJ5IHRvIGhhdmVcbiAgLy8gdGhlIHByZXZpb3VzIHRyYW5zYWN0aW9uIGhhc2ggb24gdGhlIHVuc3BlbnQuXG4gIHNpZ25JbnB1dChpbnB1dEluZGV4OiBudW1iZXIsIGtleVBhaXI6IFNpZ25lciwgc2lnaGFzaFR5cGVzPzogbnVtYmVyW10pOiB0aGlzIHtcbiAgICByZXR1cm4gd2l0aFVuc2FmZU5vblNlZ3dpdCh0aGlzLCBzdXBlci5zaWduSW5wdXQuYmluZCh0aGlzLCBpbnB1dEluZGV4LCBrZXlQYWlyLCBzaWdoYXNoVHlwZXMpKTtcbiAgfVxuXG4gIHZhbGlkYXRlU2lnbmF0dXJlc09mSW5wdXQoaW5wdXRJbmRleDogbnVtYmVyLCB2YWxpZGF0b3I6IFZhbGlkYXRlU2lnRnVuY3Rpb24sIHB1YmtleT86IEJ1ZmZlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3aXRoVW5zYWZlTm9uU2Vnd2l0KHRoaXMsIHN1cGVyLnZhbGlkYXRlU2lnbmF0dXJlc09mSW5wdXQuYmluZCh0aGlzLCBpbnB1dEluZGV4LCB2YWxpZGF0b3IsIHB1YmtleSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQcm9wZXJ0eUNoZWNrU2lnbmF0dXJlcyhwcm9wTmFtZToga2V5b2YgWmNhc2hUcmFuc2FjdGlvbjxiaWdpbnQ+LCB2YWx1ZTogdW5rbm93bikge1xuICAgIGlmICh0aGlzLnR4W3Byb3BOYW1lXSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jaGVja0ZvclNpZ25hdHVyZXMocHJvcE5hbWUpO1xuICAgIHRoaXMudHhbcHJvcE5hbWVdID0gdmFsdWUgYXMgYW55O1xuICB9XG5cbiAgc2V0Q29uc2Vuc3VzQnJhbmNoSWQoY29uc2Vuc3VzQnJhbmNoSWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHR5cGVmb3JjZSh0eXBlcy5VSW50MzIsIGNvbnNlbnN1c0JyYW5jaElkKTtcbiAgICB0aGlzLnNldFByb3BlcnR5Q2hlY2tTaWduYXR1cmVzKCdjb25zZW5zdXNCcmFuY2hJZCcsIGNvbnNlbnN1c0JyYW5jaElkKTtcbiAgfVxuXG4gIHNldFZlcnNpb25Hcm91cElkKHZlcnNpb25Hcm91cElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0eXBlZm9yY2UodHlwZXMuVUludDMyLCB2ZXJzaW9uR3JvdXBJZCk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eUNoZWNrU2lnbmF0dXJlcygndmVyc2lvbkdyb3VwSWQnLCB2ZXJzaW9uR3JvdXBJZCk7XG4gIH1cblxuICBzZXRFeHBpcnlIZWlnaHQoZXhwaXJ5SGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0eXBlZm9yY2UodHlwZXMuVUludDMyLCBleHBpcnlIZWlnaHQpO1xuICAgIHRoaXMuc2V0UHJvcGVydHlDaGVja1NpZ25hdHVyZXMoJ2V4cGlyeUhlaWdodCcsIGV4cGlyeUhlaWdodCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Im96cEJBa0JHO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQUFBQSxhQUFBLEdBQUFFLENBQUEsTSx5R0FsQkgsTUFBQUMsVUFBQSxFQUFBSCxhQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSxpQkFDQSxNQUFBQyxrQkFBQSxFQUFBTCxhQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSx3QkFLQSxNQUFBRSxHQUFBLEVBQUFOLGFBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLFlBQ0EsTUFB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