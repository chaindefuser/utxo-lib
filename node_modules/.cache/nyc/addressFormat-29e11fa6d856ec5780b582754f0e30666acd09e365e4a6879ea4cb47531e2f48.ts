"use strict";function cov_2nb4v62rf7(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/addressFormat.ts";var hash="31e3aa0e3e64172af54b07c72829dfc941186190";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/addressFormat.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:32}},"2":{start:{line:4,column:0},end:{line:4,column:60}},"3":{start:{line:5,column:0},end:{line:5,column:64}},"4":{start:{line:6,column:0},end:{line:6,column:60}},"5":{start:{line:7,column:0},end:{line:7,column:58}},"6":{start:{line:8,column:0},end:{line:8,column:60}},"7":{start:{line:9,column:0},end:{line:9,column:46}},"8":{start:{line:16,column:19},end:{line:16,column:40}},"9":{start:{line:17,column:18},end:{line:17,column:38}},"10":{start:{line:18,column:16},end:{line:18,column:34}},"11":{start:{line:19,column:0},end:{line:19,column:49}},"12":{start:{line:21,column:4},end:{line:21,column:161}},"13":{start:{line:29,column:4},end:{line:34,column:5}},"14":{start:{line:31,column:12},end:{line:31,column:24}},"15":{start:{line:33,column:12},end:{line:33,column:46}},"16":{start:{line:35,column:4},end:{line:35,column:56}},"17":{start:{line:44,column:4},end:{line:46,column:5}},"18":{start:{line:45,column:8},end:{line:45,column:119}},"19":{start:{line:47,column:4},end:{line:49,column:65}},"20":{start:{line:58,column:4},end:{line:60,column:5}},"21":{start:{line:59,column:8},end:{line:59,column:119}},"22":{start:{line:61,column:4},end:{line:63,column:58}},"23":{start:{line:73,column:4},end:{line:75,column:5}},"24":{start:{line:74,column:8},end:{line:74,column:93}},"25":{start:{line:74,column:55},end:{line:74,column:91}},"26":{start:{line:76,column:4},end:{line:83,column:5}},"27":{start:{line:77,column:8},end:{line:82,column:9}},"28":{start:{line:78,column:12},end:{line:78,column:80}},"29":{start:{line:84,column:4},end:{line:84,column:73}},"30":{start:{line:94,column:29},end:{line:94,column:79}},"31":{start:{line:95,column:4},end:{line:95,column:24}},"32":{start:{line:103,column:4},end:{line:103,column:96}}},fnMap:{"0":{name:"isCashaddrNetwork",decl:{start:{line:20,column:9},end:{line:20,column:26}},loc:{start:{line:20,column:36},end:{line:22,column:1}},line:20},"1":{name:"isSupportedAddressFormat",decl:{start:{line:28,column:9},end:{line:28,column:33}},loc:{start:{line:28,column:51},end:{line:36,column:1}},line:28},"2":{name:"fromOutputScriptWithFormat",decl:{start:{line:43,column:9},end:{line:43,column:35}},loc:{start:{line:43,column:67},end:{line:50,column:1}},line:43},"3":{name:"toOutputScriptWithFormat",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:60},end:{line:64,column:1}},line:57},"4":{name:"toOutputScriptAndFormat",decl:{start:{line:72,column:9},end:{line:72,column:32}},loc:{start:{line:72,column:60},end:{line:85,column:1}},line:72},"5":{name:"(anonymous_5)",decl:{start:{line:74,column:48},end:{line:74,column:49}},loc:{start:{line:74,column:55},end:{line:74,column:91}},line:74},"6":{name:"toOutputScriptTryFormats",decl:{start:{line:93,column:9},end:{line:93,column:33}},loc:{start:{line:93,column:61},end:{line:96,column:1}},line:93},"7":{name:"toCanonicalFormat",decl:{start:{line:102,column:9},end:{line:102,column:26}},loc:{start:{line:102,column:45},end:{line:104,column:1}},line:102}},branchMap:{"0":{loc:{start:{line:21,column:11},end:{line:21,column:160}},type:"binary-expr",locations:[{start:{line:21,column:11},end:{line:21,column:50}},{start:{line:21,column:54},end:{line:21,column:160}}],line:21},"1":{loc:{start:{line:29,column:4},end:{line:34,column:5}},type:"switch",locations:[{start:{line:30,column:8},end:{line:31,column:24}},{start:{line:32,column:8},end:{line:33,column:46}}],line:29},"2":{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:44,column:4},end:{line:46,column:5}}],line:44},"3":{loc:{start:{line:47,column:11},end:{line:49,column:64}},type:"cond-expr",locations:[{start:{line:48,column:10},end:{line:48,column:88}},{start:{line:49,column:10},end:{line:49,column:64}}],line:47},"4":{loc:{start:{line:58,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:60,column:5}},{start:{line:58,column:4},end:{line:60,column:5}}],line:58},"5":{loc:{start:{line:61,column:11},end:{line:63,column:57}},type:"cond-expr",locations:[{start:{line:62,column:10},end:{line:62,column:81}},{start:{line:63,column:10},end:{line:63,column:57}}],line:61},"6":{loc:{start:{line:73,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:73,column:4},end:{line:75,column:5}},{start:{line:73,column:4},end:{line:75,column:5}}],line:73}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/addressFormat.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/addressFormat.ts"],names:[],mappings:"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",sourcesContent:["/**\n * Implements methods for nonstandard (non-canonical) address formats.\n *\n * Use `toOutputScriptTryFormats()` instead of `toOutputScript()` to parse addresses in\n * non-canonical formats\n */\nimport { getMainnet, getNetworkName, isValidNetwork, Network, networks } from './networks';\nimport { fromOutputScript, toOutputScript } from './address';\n\nimport { bcashAddress } from './bitgo';\n\nexport const addressFormats = ['default', 'cashaddr'] as const;\n\nexport type AddressFormat = (typeof addressFormats)[number];\n\nfunction isCashaddrNetwork(network: Network): boolean {\n  return isValidNetwork(network) && [networks.bitcoincash, networks.ecash].includes(getMainnet(network));\n}\n\n/**\n * @param format\n * @param network\n * @return true iff format is supported for network\n */\nexport function isSupportedAddressFormat(format: AddressFormat, network: Network): boolean {\n  switch (format) {\n    case 'default':\n      return true;\n    case 'cashaddr':\n      return isCashaddrNetwork(network);\n  }\n  throw new Error(`unknown address format ${format}`);\n}\n\n/**\n * @param outputScript\n * @param format\n * @param network\n * @return address formatted using provided AddressFormat\n */\nexport function fromOutputScriptWithFormat(outputScript: Buffer, format: AddressFormat, network: Network): string {\n  if (!isSupportedAddressFormat(format, network)) {\n    throw new Error(`unsupported address format ${format} for network ${getNetworkName(network)}`);\n  }\n\n  return isCashaddrNetwork(network)\n    ? bcashAddress.fromOutputScriptWithFormat(outputScript, format, network)\n    : fromOutputScript(outputScript, network);\n}\n\n/**\n * @param address\n * @param format\n * @param network\n * @return output script parsed with provided AddressFormat\n */\nexport function toOutputScriptWithFormat(address: string, format: AddressFormat, network: Network): Buffer {\n  if (!isSupportedAddressFormat(format, network)) {\n    throw new Error(`unsupported address format ${format} for network ${getNetworkName(network)}`);\n  }\n\n  return isCashaddrNetwork(network)\n    ? bcashAddress.toOutputScriptWithFormat(address, format, network)\n    : toOutputScript(address, network);\n}\n\n/**\n * Attempts to parse address with different address formats, returns first hit.\n * @param address\n * @param network\n * @param formats - defaults to all supported address formats for network\n * @return tuple with [AddressFormat, Buffer] containing format and parsed output script\n */\nexport function toOutputScriptAndFormat(\n  address: string,\n  network: Network,\n  formats?: AddressFormat[]\n): [AddressFormat, Buffer] {\n  if (!formats) {\n    formats = addressFormats.filter((f) => isSupportedAddressFormat(f, network));\n  }\n\n  for (const format of formats) {\n    try {\n      return [format, toOutputScriptWithFormat(address, format, network)];\n    } catch (e) {\n      // try next\n    }\n  }\n\n  throw new Error(`could not parse outputScript [formats=${formats}]`);\n}\n\n/**\n * Same as `toOutputScriptAndFormat`, only returning script\n * @param address - {@see toOutputScriptAndFormat}\n * @param network - {@see toOutputScriptAndFormat}\n * @param formats - {@see toOutputScriptAndFormat}\n * @return parsed output script\n */\nexport function toOutputScriptTryFormats(address: string, network: Network, formats?: AddressFormat[]): Buffer {\n  const [, outputScript] = toOutputScriptAndFormat(address, network, formats);\n  return outputScript;\n}\n\n/**\n * @param address\n * @param network\n * @return address in canonical format\n */\nexport function toCanonicalFormat(address: string, network: Network): string {\n  return fromOutputScript(toOutputScriptTryFormats(address, network), network);\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"31e3aa0e3e64172af54b07c72829dfc941186190"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2nb4v62rf7=function(){return actualCoverage;};}return actualCoverage;}cov_2nb4v62rf7();cov_2nb4v62rf7().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2nb4v62rf7().s[1]++;exports.addressFormats=void 0;cov_2nb4v62rf7().s[2]++;exports.isSupportedAddressFormat=isSupportedAddressFormat;cov_2nb4v62rf7().s[3]++;exports.fromOutputScriptWithFormat=fromOutputScriptWithFormat;cov_2nb4v62rf7().s[4]++;exports.toOutputScriptWithFormat=toOutputScriptWithFormat;cov_2nb4v62rf7().s[5]++;exports.toOutputScriptAndFormat=toOutputScriptAndFormat;cov_2nb4v62rf7().s[6]++;exports.toOutputScriptTryFormats=toOutputScriptTryFormats;cov_2nb4v62rf7().s[7]++;exports.toCanonicalFormat=toCanonicalFormat;/**
 * Implements methods for nonstandard (non-canonical) address formats.
 *
 * Use `toOutputScriptTryFormats()` instead of `toOutputScript()` to parse addresses in
 * non-canonical formats
 */const networks_1=(cov_2nb4v62rf7().s[8]++,require("./networks"));const address_1=(cov_2nb4v62rf7().s[9]++,require("./address"));const bitgo_1=(cov_2nb4v62rf7().s[10]++,require("./bitgo"));cov_2nb4v62rf7().s[11]++;exports.addressFormats=['default','cashaddr'];function isCashaddrNetwork(network){cov_2nb4v62rf7().f[0]++;cov_2nb4v62rf7().s[12]++;return(cov_2nb4v62rf7().b[0][0]++,(0,networks_1.isValidNetwork)(network))&&(cov_2nb4v62rf7().b[0][1]++,[networks_1.networks.bitcoincash,networks_1.networks.ecash].includes((0,networks_1.getMainnet)(network)));}/**
 * @param format
 * @param network
 * @return true iff format is supported for network
 */function isSupportedAddressFormat(format,network){cov_2nb4v62rf7().f[1]++;cov_2nb4v62rf7().s[13]++;switch(format){case'default':cov_2nb4v62rf7().b[1][0]++;cov_2nb4v62rf7().s[14]++;return true;case'cashaddr':cov_2nb4v62rf7().b[1][1]++;cov_2nb4v62rf7().s[15]++;return isCashaddrNetwork(network);}cov_2nb4v62rf7().s[16]++;throw new Error(`unknown address format ${format}`);}/**
 * @param outputScript
 * @param format
 * @param network
 * @return address formatted using provided AddressFormat
 */function fromOutputScriptWithFormat(outputScript,format,network){cov_2nb4v62rf7().f[2]++;cov_2nb4v62rf7().s[17]++;if(!isSupportedAddressFormat(format,network)){cov_2nb4v62rf7().b[2][0]++;cov_2nb4v62rf7().s[18]++;throw new Error(`unsupported address format ${format} for network ${(0,networks_1.getNetworkName)(network)}`);}else{cov_2nb4v62rf7().b[2][1]++;}cov_2nb4v62rf7().s[19]++;return isCashaddrNetwork(network)?(cov_2nb4v62rf7().b[3][0]++,bitgo_1.bcashAddress.fromOutputScriptWithFormat(outputScript,format,network)):(cov_2nb4v62rf7().b[3][1]++,(0,address_1.fromOutputScript)(outputScript,network));}/**
 * @param address
 * @param format
 * @param network
 * @return output script parsed with provided AddressFormat
 */function toOutputScriptWithFormat(address,format,network){cov_2nb4v62rf7().f[3]++;cov_2nb4v62rf7().s[20]++;if(!isSupportedAddressFormat(format,network)){cov_2nb4v62rf7().b[4][0]++;cov_2nb4v62rf7().s[21]++;throw new Error(`unsupported address format ${format} for network ${(0,networks_1.getNetworkName)(network)}`);}else{cov_2nb4v62rf7().b[4][1]++;}cov_2nb4v62rf7().s[22]++;return isCashaddrNetwork(network)?(cov_2nb4v62rf7().b[5][0]++,bitgo_1.bcashAddress.toOutputScriptWithFormat(address,format,network)):(cov_2nb4v62rf7().b[5][1]++,(0,address_1.toOutputScript)(address,network));}/**
 * Attempts to parse address with different address formats, returns first hit.
 * @param address
 * @param network
 * @param formats - defaults to all supported address formats for network
 * @return tuple with [AddressFormat, Buffer] containing format and parsed output script
 */function toOutputScriptAndFormat(address,network,formats){cov_2nb4v62rf7().f[4]++;cov_2nb4v62rf7().s[23]++;if(!formats){cov_2nb4v62rf7().b[6][0]++;cov_2nb4v62rf7().s[24]++;formats=exports.addressFormats.filter(f=>{cov_2nb4v62rf7().f[5]++;cov_2nb4v62rf7().s[25]++;return isSupportedAddressFormat(f,network);});}else{cov_2nb4v62rf7().b[6][1]++;}cov_2nb4v62rf7().s[26]++;for(const format of formats){cov_2nb4v62rf7().s[27]++;try{cov_2nb4v62rf7().s[28]++;return[format,toOutputScriptWithFormat(address,format,network)];}catch(e){// try next
}}cov_2nb4v62rf7().s[29]++;throw new Error(`could not parse outputScript [formats=${formats}]`);}/**
 * Same as `toOutputScriptAndFormat`, only returning script
 * @param address - {@see toOutputScriptAndFormat}
 * @param network - {@see toOutputScriptAndFormat}
 * @param formats - {@see toOutputScriptAndFormat}
 * @return parsed output script
 */function toOutputScriptTryFormats(address,network,formats){cov_2nb4v62rf7().f[6]++;const[,outputScript]=(cov_2nb4v62rf7().s[30]++,toOutputScriptAndFormat(address,network,formats));cov_2nb4v62rf7().s[31]++;return outputScript;}/**
 * @param address
 * @param network
 * @return address in canonical format
 */function toCanonicalFormat(address,network){cov_2nb4v62rf7().f[7]++;cov_2nb4v62rf7().s[32]++;return(0,address_1.fromOutputScript)(toOutputScriptTryFormats(address,network),network);}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYWRkcmVzc0Zvcm1hdC50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYWRkcmVzc0Zvcm1hdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF3QkEsNERBUUM7QUFRRCxnRUFRQztBQVFELDREQVFDO0FBU0QsMERBa0JDO0FBU0QsNERBR0M7QUFPRCw4Q0FFQztBQWhIRDs7Ozs7R0FLRztBQUNILHlDQUEyRjtBQUMzRix1Q0FBNkQ7QUFFN0QsbUNBQXVDO0FBRTFCLFFBQUEsY0FBYyxHQUFHLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBVSxDQUFDO0FBSS9ELFNBQVMsaUJBQWlCLENBQUMsT0FBZ0I7SUFDekMsT0FBTyxJQUFBLHlCQUFjLEVBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxtQkFBUSxDQUFDLFdBQVcsRUFBRSxtQkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFBLHFCQUFVLEVBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN6RyxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQWdCLHdCQUF3QixDQUFDLE1BQXFCLEVBQUUsT0FBZ0I7SUFDOUUsUUFBUSxNQUFNLEVBQUUsQ0FBQztRQUNmLEtBQUssU0FBUztZQUNaLE9BQU8sSUFBSSxDQUFDO1FBQ2QsS0FBSyxVQUFVO1lBQ2IsT0FBTyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUN0RCxDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQiwwQkFBMEIsQ0FBQyxZQUFvQixFQUFFLE1BQXFCLEVBQUUsT0FBZ0I7SUFDdEcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQy9DLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLE1BQU0sZ0JBQWdCLElBQUEseUJBQWMsRUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakcsQ0FBQztJQUVELE9BQU8saUJBQWlCLENBQUMsT0FBTyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxvQkFBWSxDQUFDLDBCQUEwQixDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDO1FBQ3hFLENBQUMsQ0FBQyxJQUFBLDBCQUFnQixFQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQix3QkFBd0IsQ0FBQyxPQUFlLEVBQUUsTUFBcUIsRUFBRSxPQUFnQjtJQUMvRixJQUFJLENBQUMsd0JBQXdCLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDL0MsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsTUFBTSxnQkFBZ0IsSUFBQSx5QkFBYyxFQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRyxDQUFDO0lBRUQsT0FBTyxpQkFBaUIsQ0FBQyxPQUFPLENBQUM7UUFDL0IsQ0FBQyxDQUFDLG9CQUFZLENBQUMsd0JBQXdCLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUM7UUFDakUsQ0FBQyxDQUFDLElBQUEsd0JBQWMsRUFBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDdkMsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILFNBQWdCLHVCQUF1QixDQUNyQyxPQUFlLEVBQ2YsT0FBZ0IsRUFDaEIsT0FBeUI7SUFFekIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2IsT0FBTyxHQUFHLHNCQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUMvRSxDQUFDO0lBRUQsS0FBSyxNQUFNLE1BQU0sSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUM7WUFDSCxPQUFPLENBQUMsTUFBTSxFQUFFLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUN0RSxDQUFDO1FBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUNYLFdBQVc7UUFDYixDQUFDO0lBQ0gsQ0FBQztJQUVELE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNILFNBQWdCLHdCQUF3QixDQUFDLE9BQWUsRUFBRSxPQUFnQixFQUFFLE9BQXlCO0lBQ25HLE1BQU0sQ0FBQyxFQUFFLFlBQVksQ0FBQyxHQUFHLHVCQUF1QixDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDNUUsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixpQkFBaUIsQ0FBQyxPQUFlLEVBQUUsT0FBZ0I7SUFDakUsT0FBTyxJQUFBLDBCQUFnQixFQUFDLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbXBsZW1lbnRzIG1ldGhvZHMgZm9yIG5vbnN0YW5kYXJkIChub24tY2Fub25pY2FsKSBhZGRyZXNzIGZvcm1hdHMuXG4gKlxuICogVXNlIGB0b091dHB1dFNjcmlwdFRyeUZvcm1hdHMoKWAgaW5zdGVhZCBvZiBgdG9PdXRwdXRTY3JpcHQoKWAgdG8gcGFyc2UgYWRkcmVzc2VzIGluXG4gKiBub24tY2Fub25pY2FsIGZvcm1hdHNcbiAqL1xuaW1wb3J0IHsgZ2V0TWFpbm5ldCwgZ2V0TmV0d29ya05hbWUsIGlzVmFsaWROZXR3b3JrLCBOZXR3b3JrLCBuZXR3b3JrcyB9IGZyb20gJy4vbmV0d29ya3MnO1xuaW1wb3J0IHsgZnJvbU91dHB1dFNjcmlwdCwgdG9PdXRwdXRTY3JpcHQgfSBmcm9tICcuL2FkZHJlc3MnO1xuXG5pbXBvcnQgeyBiY2FzaEFkZHJlc3MgfSBmcm9tICcuL2JpdGdvJztcblxuZXhwb3J0IGNvbnN0IGFkZHJlc3NGb3JtYXRzID0gWydkZWZhdWx0JywgJ2Nhc2hhZGRyJ10gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIEFkZHJlc3NGb3JtYXQgPSAodHlwZW9mIGFkZHJlc3NGb3JtYXRzKVtudW1iZXJdO1xuXG5mdW5jdGlvbiBpc0Nhc2hhZGRyTmV0d29yayhuZXR3b3JrOiBOZXR3b3JrKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc1ZhbGlkTmV0d29yayhuZXR3b3JrKSAmJiBbbmV0d29ya3MuYml0Y29pbmNhc2gsIG5ldHdvcmtzLmVjYXNoXS5pbmNsdWRlcyhnZXRNYWlubmV0KG5ldHdvcmspKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZm9ybWF0XG4gKiBAcGFyYW0gbmV0d29ya1xuICogQHJldHVybiB0cnVlIGlmZiBmb3JtYXQgaXMgc3VwcG9ydGVkIGZvciBuZXR3b3JrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N1cHBvcnRlZEFkZHJlc3NGb3JtYXQoZm9ybWF0OiBBZGRyZXNzRm9ybWF0LCBuZXR3b3JrOiBOZXR3b3JrKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdjYXNoYWRkcic6XG4gICAgICByZXR1cm4gaXNDYXNoYWRkck5ldHdvcmsobmV0d29yayk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGFkZHJlc3MgZm9ybWF0ICR7Zm9ybWF0fWApO1xufVxuXG4vKipcbiAqIEBwYXJhbSBvdXRwdXRTY3JpcHRcbiAqIEBwYXJhbSBmb3JtYXRcbiAqIEBwYXJhbSBuZXR3b3JrXG4gKiBAcmV0dXJuIGFkZHJlc3MgZm9ybWF0dGVkIHVzaW5nIHByb3ZpZGVkIEFkZHJlc3NGb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21PdXRwdXRTY3JpcHRXaXRoRm9ybWF0KG91dHB1dFNjcmlwdDogQnVmZmVyLCBmb3JtYXQ6IEFkZHJlc3NGb3JtYXQsIG5ldHdvcms6IE5ldHdvcmspOiBzdHJpbmcge1xuICBpZiAoIWlzU3VwcG9ydGVkQWRkcmVzc0Zvcm1hdChmb3JtYXQsIG5ldHdvcmspKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBhZGRyZXNzIGZvcm1hdCAke2Zvcm1hdH0gZm9yIG5ldHdvcmsgJHtnZXROZXR3b3JrTmFtZShuZXR3b3JrKX1gKTtcbiAgfVxuXG4gIHJldHVybiBpc0Nhc2hhZGRyTmV0d29yayhuZXR3b3JrKVxuICAgID8gYmNhc2hBZGRyZXNzLmZyb21PdXRwdXRTY3JpcHRXaXRoRm9ybWF0KG91dHB1dFNjcmlwdCwgZm9ybWF0LCBuZXR3b3JrKVxuICAgIDogZnJvbU91dHB1dFNjcmlwdChvdXRwdXRTY3JpcHQsIG5ldHdvcmspO1xufVxuXG4vKipcbiAqIEBwYXJhbSBhZGRyZXNzXG4gKiBAcGFyYW0gZm9ybWF0XG4gKiBAcGFyYW0gbmV0d29ya1xuICogQHJldHVybiBvdXRwdXQgc2NyaXB0IHBhcnNlZCB3aXRoIHByb3ZpZGVkIEFkZHJlc3NGb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvT3V0cHV0U2NyaXB0V2l0aEZvcm1hdChhZGRyZXNzOiBzdHJpbmcsIGZvcm1hdDogQWRkcmVzc0Zvcm1hdCwgbmV0d29yazogTmV0d29yayk6IEJ1ZmZlciB7XG4gIGlmICghaXNTdXBwb3J0ZWRBZGRyZXNzRm9ybWF0KGZvcm1hdCwgbmV0d29yaykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGFkZHJlc3MgZm9ybWF0ICR7Zm9ybWF0fSBmb3IgbmV0d29yayAke2dldE5ldHdvcmtOYW1lKG5ldHdvcmspfWApO1xuICB9XG5cbiAgcmV0dXJuIGlzQ2FzaGFkZHJOZXR3b3JrKG5ldHdvcmspXG4gICAgPyBiY2FzaEFkZHJlc3MudG9PdXRwdXRTY3JpcHRXaXRoRm9ybWF0KGFkZHJlc3MsIGZvcm1hdCwgbmV0d29yaylcbiAgICA6IHRvT3V0cHV0U2NyaXB0KGFkZHJlc3MsIG5ldHdvcmspO1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIHBhcnNlIGFkZHJlc3Mgd2l0aCBkaWZmZXJlbnQgYWRkcmVzcyBmb3JtYXRzLCByZXR1cm5zIGZpcnN0IGhpdC5cbiAqIEBwYXJhbSBhZGRyZXNzXG4gKiBAcGFyYW0gbmV0d29ya1xuICogQHBhcmFtIGZvcm1hdHMgLSBkZWZhdWx0cyB0byBhbGwgc3VwcG9ydGVkIGFkZHJlc3MgZm9ybWF0cyBmb3IgbmV0d29ya1xuICogQHJldHVybiB0dXBsZSB3aXRoIFtBZGRyZXNzRm9ybWF0LCBCdWZmZXJdIGNvbnRhaW5pbmcgZm9ybWF0IGFuZCBwYXJzZWQgb3V0cHV0IHNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9PdXRwdXRTY3JpcHRBbmRGb3JtYXQoXG4gIGFkZHJlc3M6IHN0cmluZyxcbiAgbmV0d29yazogTmV0d29yayxcbiAgZm9ybWF0cz86IEFkZHJlc3NGb3JtYXRbXVxuKTogW0FkZHJlc3NGb3JtYXQsIEJ1ZmZlcl0ge1xuICBpZiAoIWZvcm1hdHMpIHtcbiAgICBmb3JtYXRzID0gYWRkcmVzc0Zvcm1hdHMuZmlsdGVyKChmKSA9PiBpc1N1cHBvcnRlZEFkZHJlc3NGb3JtYXQoZiwgbmV0d29yaykpO1xuICB9XG5cbiAgZm9yIChjb25zdCBmb3JtYXQgb2YgZm9ybWF0cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gW2Zvcm1hdCwgdG9PdXRwdXRTY3JpcHRXaXRoRm9ybWF0KGFkZHJlc3MsIGZvcm1hdCwgbmV0d29yayldO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHRyeSBuZXh0XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKGBjb3VsZCBub3QgcGFyc2Ugb3V0cHV0U2NyaXB0IFtmb3JtYXRzPSR7Zm9ybWF0c31dYCk7XG59XG5cbi8qKlxuICogU2FtZSBhcyBgdG9PdXRwdXRTY3JpcHRBbmRGb3JtYXRgLCBvbmx5IHJldHVybmluZyBzY3JpcHRcbiAqIEBwYXJhbSBhZGRyZXNzIC0ge0BzZWUgdG9PdXRwdXRTY3JpcHRBbmRGb3JtYXR9XG4gKiBAcGFyYW0gbmV0d29yayAtIHtAc2VlIHRvT3V0cHV0U2NyaXB0QW5kRm9ybWF0fVxuICogQHBhcmFtIGZvcm1hdHMgLSB7QHNlZSB0b091dHB1dFNjcmlwdEFuZEZvcm1hdH1cbiAqIEByZXR1cm4gcGFyc2VkIG91dHB1dCBzY3JpcHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvT3V0cHV0U2NyaXB0VHJ5Rm9ybWF0cyhhZGRyZXNzOiBzdHJpbmcsIG5ldHdvcms6IE5ldHdvcmssIGZvcm1hdHM/OiBBZGRyZXNzRm9ybWF0W10pOiBCdWZmZXIge1xuICBjb25zdCBbLCBvdXRwdXRTY3JpcHRdID0gdG9PdXRwdXRTY3JpcHRBbmRGb3JtYXQoYWRkcmVzcywgbmV0d29yaywgZm9ybWF0cyk7XG4gIHJldHVybiBvdXRwdXRTY3JpcHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIGFkZHJlc3NcbiAqIEBwYXJhbSBuZXR3b3JrXG4gKiBAcmV0dXJuIGFkZHJlc3MgaW4gY2Fub25pY2FsIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DYW5vbmljYWxGb3JtYXQoYWRkcmVzczogc3RyaW5nLCBuZXR3b3JrOiBOZXR3b3JrKTogc3RyaW5nIHtcbiAgcmV0dXJuIGZyb21PdXRwdXRTY3JpcHQodG9PdXRwdXRTY3JpcHRUcnlGb3JtYXRzKGFkZHJlc3MsIG5ldHdvcmspLCBuZXR3b3JrKTtcbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm5iNHY2MnJmNyIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cG9ydHMiLCJpc1N1cHBvcnRlZEFkZHJlc3NGb3JtYXQiLCJmcm9tT3V0cHV0U2NyaXB0V2l0aEZvcm1hdCIsInRvT3V0cHV0U2NyaXB0V2l0aEZvcm1hdCIsInRvT3V0cHV0U2NyaXB0QW5kRm9ybWF0IiwidG9PdXRwdXRTY3JpcHRUcnlGb3JtYXRzIiwidG9DYW5vbmljYWxGb3JtYXQiLCJuZXR3b3Jrc18xIiwicmVxdWlyZSIsImFkZHJlc3NfMSIsImJpdGdvXzEiLCJhZGRyZXNzRm9ybWF0cyIsImlzQ2FzaGFkZHJOZXR3b3JrIiwibmV0d29yayIsImYiLCJiIiwiaXNWYWxpZE5ldHdvcmsiLCJuZXR3b3JrcyIsImJpdGNvaW5jYXNoIiwiZWNhc2giLCJpbmNsdWRlcyIsImdldE1haW5uZXQiLCJmb3JtYXQiLCJFcnJvciIsIm91dHB1dFNjcmlwdCIsImdldE5ldHdvcmtOYW1lIiwiYmNhc2hBZGRyZXNzIiwiZnJvbU91dHB1dFNjcmlwdCIsImFkZHJlc3MiLCJ0b091dHB1dFNjcmlwdCIsImZvcm1hdHMiLCJmaWx0ZXIiLCJlIl0sInNvdXJjZXMiOlsiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYWRkcmVzc0Zvcm1hdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEltcGxlbWVudHMgbWV0aG9kcyBmb3Igbm9uc3RhbmRhcmQgKG5vbi1jYW5vbmljYWwpIGFkZHJlc3MgZm9ybWF0cy5cbiAqXG4gKiBVc2UgYHRvT3V0cHV0U2NyaXB0VHJ5Rm9ybWF0cygpYCBpbnN0ZWFkIG9mIGB0b091dHB1dFNjcmlwdCgpYCB0byBwYXJzZSBhZGRyZXNzZXMgaW5cbiAqIG5vbi1jYW5vbmljYWwgZm9ybWF0c1xuICovXG5pbXBvcnQgeyBnZXRNYWlubmV0LCBnZXROZXR3b3JrTmFtZSwgaXNWYWxpZE5ldHdvcmssIE5ldHdvcmssIG5ldHdvcmtzIH0gZnJvbSAnLi9uZXR3b3Jrcyc7XG5pbXBvcnQgeyBmcm9tT3V0cHV0U2NyaXB0LCB0b091dHB1dFNjcmlwdCB9IGZyb20gJy4vYWRkcmVzcyc7XG5cbmltcG9ydCB7IGJjYXNoQWRkcmVzcyB9IGZyb20gJy4vYml0Z28nO1xuXG5leHBvcnQgY29uc3QgYWRkcmVzc0Zvcm1hdHMgPSBbJ2RlZmF1bHQnLCAnY2FzaGFkZHInXSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgQWRkcmVzc0Zvcm1hdCA9ICh0eXBlb2YgYWRkcmVzc0Zvcm1hdHMpW251bWJlcl07XG5cbmZ1bmN0aW9uIGlzQ2FzaGFkZHJOZXR3b3JrKG5ldHdvcms6IE5ldHdvcmspOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzVmFsaWROZXR3b3JrKG5ldHdvcmspICYmIFtuZXR3b3Jrcy5iaXRjb2luY2FzaCwgbmV0d29ya3MuZWNhc2hdLmluY2x1ZGVzKGdldE1haW5uZXQobmV0d29yaykpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBmb3JtYXRcbiAqIEBwYXJhbSBuZXR3b3JrXG4gKiBAcmV0dXJuIHRydWUgaWZmIGZvcm1hdCBpcyBzdXBwb3J0ZWQgZm9yIG5ldHdvcmtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3VwcG9ydGVkQWRkcmVzc0Zvcm1hdChmb3JtYXQ6IEFkZHJlc3NGb3JtYXQsIG5ldHdvcms6IE5ldHdvcmspOiBib29sZWFuIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlICdkZWZhdWx0JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2Nhc2hhZGRyJzpcbiAgICAgIHJldHVybiBpc0Nhc2hhZGRyTmV0d29yayhuZXR3b3JrKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gYWRkcmVzcyBmb3JtYXQgJHtmb3JtYXR9YCk7XG59XG5cbi8qKlxuICogQHBhcmFtIG91dHB1dFNjcmlwdFxuICogQHBhcmFtIGZvcm1hdFxuICogQHBhcmFtIG5ldHdvcmtcbiAqIEByZXR1cm4gYWRkcmVzcyBmb3JtYXR0ZWQgdXNpbmcgcHJvdmlkZWQgQWRkcmVzc0Zvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbU91dHB1dFNjcmlwdFdpdGhGb3JtYXQob3V0cHV0U2NyaXB0OiBCdWZmZXIsIGZvcm1hdDogQWRkcmVzc0Zvcm1hdCwgbmV0d29yazogTmV0d29yayk6IHN0cmluZyB7XG4gIGlmICghaXNTdXBwb3J0ZWRBZGRyZXNzRm9ybWF0KGZvcm1hdCwgbmV0d29yaykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGFkZHJlc3MgZm9ybWF0ICR7Zm9ybWF0fSBmb3IgbmV0d29yayAke2dldE5ldHdvcmtOYW1lKG5ldHdvcmspfWApO1xuICB9XG5cbiAgcmV0dXJuIGlzQ2FzaGFkZHJOZXR3b3JrKG5ldHdvcmspXG4gICAgPyBiY2FzaEFkZHJlc3MuZnJvbU91dHB1dFNjcmlwdFdpdGhGb3JtYXQob3V0cHV0U2NyaXB0LCBmb3JtYXQsIG5ldHdvcmspXG4gICAgOiBmcm9tT3V0cHV0U2NyaXB0KG91dHB1dFNjcmlwdCwgbmV0d29yayk7XG59XG5cbi8qKlxuICogQHBhcmFtIGFkZHJlc3NcbiAqIEBwYXJhbSBmb3JtYXRcbiAqIEBwYXJhbSBuZXR3b3JrXG4gKiBAcmV0dXJuIG91dHB1dCBzY3JpcHQgcGFyc2VkIHdpdGggcHJvdmlkZWQgQWRkcmVzc0Zvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9PdXRwdXRTY3JpcHRXaXRoRm9ybWF0KGFkZHJlc3M6IHN0cmluZywgZm9ybWF0OiBBZGRyZXNzRm9ybWF0LCBuZXR3b3JrOiBOZXR3b3JrKTogQnVmZmVyIHtcbiAgaWYgKCFpc1N1cHBvcnRlZEFkZHJlc3NGb3JtYXQoZm9ybWF0LCBuZXR3b3JrKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgYWRkcmVzcyBmb3JtYXQgJHtmb3JtYXR9IGZvciBuZXR3b3JrICR7Z2V0TmV0d29ya05hbWUobmV0d29yayl9YCk7XG4gIH1cblxuICByZXR1cm4gaXNDYXNoYWRkck5ldHdvcmsobmV0d29yaylcbiAgICA/IGJjYXNoQWRkcmVzcy50b091dHB1dFNjcmlwdFdpdGhGb3JtYXQoYWRkcmVzcywgZm9ybWF0LCBuZXR3b3JrKVxuICAgIDogdG9PdXRwdXRTY3JpcHQoYWRkcmVzcywgbmV0d29yayk7XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gcGFyc2UgYWRkcmVzcyB3aXRoIGRpZmZlcmVudCBhZGRyZXNzIGZvcm1hdHMsIHJldHVybnMgZmlyc3QgaGl0LlxuICogQHBhcmFtIGFkZHJlc3NcbiAqIEBwYXJhbSBuZXR3b3JrXG4gKiBAcGFyYW0gZm9ybWF0cyAtIGRlZmF1bHRzIHRvIGFsbCBzdXBwb3J0ZWQgYWRkcmVzcyBmb3JtYXRzIGZvciBuZXR3b3JrXG4gKiBAcmV0dXJuIHR1cGxlIHdpdGggW0FkZHJlc3NGb3JtYXQsIEJ1ZmZlcl0gY29udGFpbmluZyBmb3JtYXQgYW5kIHBhcnNlZCBvdXRwdXQgc2NyaXB0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b091dHB1dFNjcmlwdEFuZEZvcm1hdChcbiAgYWRkcmVzczogc3RyaW5nLFxuICBuZXR3b3JrOiBOZXR3b3JrLFxuICBmb3JtYXRzPzogQWRkcmVzc0Zvcm1hdFtdXG4pOiBbQWRkcmVzc0Zvcm1hdCwgQnVmZmVyXSB7XG4gIGlmICghZm9ybWF0cykge1xuICAgIGZvcm1hdHMgPSBhZGRyZXNzRm9ybWF0cy5maWx0ZXIoKGYpID0+IGlzU3VwcG9ydGVkQWRkcmVzc0Zvcm1hdChmLCBuZXR3b3JrKSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGZvcm1hdCBvZiBmb3JtYXRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBbZm9ybWF0LCB0b091dHB1dFNjcmlwdFdpdGhGb3JtYXQoYWRkcmVzcywgZm9ybWF0LCBuZXR3b3JrKV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gdHJ5IG5leHRcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoYGNvdWxkIG5vdCBwYXJzZSBvdXRwdXRTY3JpcHQgW2Zvcm1hdHM9JHtmb3JtYXRzfV1gKTtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGB0b091dHB1dFNjcmlwdEFuZEZvcm1hdGAsIG9ubHkgcmV0dXJuaW5nIHNjcmlwdFxuICogQHBhcmFtIGFkZHJlc3MgLSB7QHNlZSB0b091dHB1dFNjcmlwdEFuZEZvcm1hdH1cbiAqIEBwYXJhbSBuZXR3b3JrIC0ge0BzZWUgdG9PdXRwdXRTY3JpcHRBbmRGb3JtYXR9XG4gKiBAcGFyYW0gZm9ybWF0cyAtIHtAc2VlIHRvT3V0cHV0U2NyaXB0QW5kRm9ybWF0fVxuICogQHJldHVybiBwYXJzZWQgb3V0cHV0IHNjcmlwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9PdXRwdXRTY3JpcHRUcnlGb3JtYXRzKGFkZHJlc3M6IHN0cmluZywgbmV0d29yazogTmV0d29yaywgZm9ybWF0cz86IEFkZHJlc3NGb3JtYXRbXSk6IEJ1ZmZlciB7XG4gIGNvbnN0IFssIG91dHB1dFNjcmlwdF0gPSB0b091dHB1dFNjcmlwdEFuZEZvcm1hdChhZGRyZXNzLCBuZXR3b3JrLCBmb3JtYXRzKTtcbiAgcmV0dXJuIG91dHB1dFNjcmlwdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYWRkcmVzc1xuICogQHBhcmFtIG5ldHdvcmtcbiAqIEByZXR1cm4gYWRkcmVzcyBpbiBjYW5vbmljYWwgZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Nhbm9uaWNhbEZvcm1hdChhZGRyZXNzOiBzdHJpbmcsIG5ldHdvcms6IE5ldHdvcmspOiBzdHJpbmcge1xuICByZXR1cm4gZnJvbU91dHB1dFNjcmlwdCh0b091dHB1dFNjcmlwdFRyeUZvcm1hdHMoYWRkcmVzcywgbmV0d29yayksIG5ldHdvcmspO1xufVxuIl0sIm1hcHBpbmdzIjoiK3hXQU1BO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQUFBQSxjQUFBLEdBQUFFLENBQUEsTSx1SUFrQkFDLE9BQUEsQ0FBQUMs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