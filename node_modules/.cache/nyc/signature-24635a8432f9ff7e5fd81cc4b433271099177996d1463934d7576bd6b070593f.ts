"use strict";function cov_1s71amsya3(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/signature.ts";var hash="5770cd0c029125d343391ccd4bec339ad570c245";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/signature.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:62}},"2":{start:{line:4,column:0},end:{line:4,column:42}},"3":{start:{line:5,column:0},end:{line:5,column:66}},"4":{start:{line:6,column:0},end:{line:6,column:70}},"5":{start:{line:7,column:0},end:{line:7,column:68}},"6":{start:{line:8,column:0},end:{line:8,column:46}},"7":{start:{line:9,column:0},end:{line:9,column:46}},"8":{start:{line:10,column:0},end:{line:10,column:38}},"9":{start:{line:11,column:24},end:{line:11,column:48}},"10":{start:{line:12,column:26},end:{line:12,column:54}},"11":{start:{line:13,column:24},end:{line:13,column:50}},"12":{start:{line:14,column:19},end:{line:14,column:41}},"13":{start:{line:15,column:20},end:{line:15,column:43}},"14":{start:{line:16,column:21},end:{line:16,column:44}},"15":{start:{line:17,column:18},end:{line:17,column:39}},"16":{start:{line:33,column:18},end:{line:33,column:45}},"17":{start:{line:38,column:4},end:{line:41,column:5}},"18":{start:{line:40,column:8},end:{line:40,column:18}},"19":{start:{line:42,column:25},end:{line:42,column:74}},"20":{start:{line:43,column:4},end:{line:57,column:5}},"21":{start:{line:44,column:8},end:{line:47,column:9}},"22":{start:{line:46,column:12},end:{line:46,column:109}},"23":{start:{line:48,column:8},end:{line:50,column:9}},"24":{start:{line:49,column:12},end:{line:49,column:97}},"25":{start:{line:51,column:8},end:{line:53,column:9}},"26":{start:{line:52,column:12},end:{line:52,column:51}},"27":{start:{line:54,column:8},end:{line:56,column:9}},"28":{start:{line:55,column:12},end:{line:55,column:108}},"29":{start:{line:58,column:4},end:{line:66,column:5}},"30":{start:{line:61,column:30},end:{line:61,column:60}},"31":{start:{line:62,column:23},end:{line:62,column:108}},"32":{start:{line:63,column:8},end:{line:65,column:9}},"33":{start:{line:64,column:12},end:{line:64,column:136}},"34":{start:{line:68,column:4},end:{line:78,column:5}},"35":{start:{line:69,column:8},end:{line:71,column:9}},"36":{start:{line:70,column:12},end:{line:70,column:51}},"37":{start:{line:72,column:8},end:{line:72,column:90}},"38":{start:{line:75,column:8},end:{line:77,column:65}},"39":{start:{line:75,column:61},end:{line:77,column:63}},"40":{start:{line:79,column:23},end:{line:81,column:121}},"41":{start:{line:80,column:23},end:{line:80,column:36}},"42":{start:{line:81,column:26},end:{line:81,column:120}},"43":{start:{line:82,column:4},end:{line:139,column:7}},"44":{start:{line:83,column:8},end:{line:85,column:9}},"45":{start:{line:84,column:12},end:{line:84,column:65}},"46":{start:{line:86,column:23},end:{line:86,column:66}},"47":{start:{line:87,column:8},end:{line:90,column:9}},"48":{start:{line:88,column:12},end:{line:88,column:67}},"49":{start:{line:89,column:12},end:{line:89,column:59}},"50":{start:{line:91,column:8},end:{line:138,column:9}},"51":{start:{line:92,column:12},end:{line:94,column:13}},"52":{start:{line:93,column:16},end:{line:93,column:55}},"53":{start:{line:95,column:48},end:{line:95,column:60}},"54":{start:{line:96,column:29},end:{line:96,column:109}},"55":{start:{line:97,column:34},end:{line:97,column:174}},"56":{start:{line:97,column:107},end:{line:97,column:113}},"57":{start:{line:97,column:147},end:{line:97,column:152}},"58":{start:{line:98,column:29},end:{line:98,column:155}},"59":{start:{line:98,column:54},end:{line:98,column:154}},"60":{start:{line:99,column:12},end:{line:101,column:13}},"61":{start:{line:100,column:16},end:{line:100,column:69}},"62":{start:{line:102,column:12},end:{line:104,column:13}},"63":{start:{line:103,column:16},end:{line:103,column:77}},"64":{start:{line:105,column:12},end:{line:105,column:77}},"65":{start:{line:107,column:13},end:{line:138,column:9}},"66":{start:{line:108,column:12},end:{line:110,column:13}},"67":{start:{line:109,column:16},end:{line:109,column:55}},"68":{start:{line:111,column:34},end:{line:111,column:164}},"69":{start:{line:111,column:107},end:{line:111,column:113}},"70":{start:{line:111,column:147},end:{line:111,column:152}},"71":{start:{line:112,column:27},end:{line:112,column:103}},"72":{start:{line:113,column:12},end:{line:115,column:64}},"73":{start:{line:119,column:44},end:{line:119,column:99}},"74":{start:{line:120,column:36},end:{line:122,column:109}},"75":{start:{line:123,column:29},end:{line:130,column:18}},"76":{start:{line:123,column:62},end:{line:130,column:17}},"77":{start:{line:131,column:12},end:{line:133,column:13}},"78":{start:{line:132,column:16},end:{line:132,column:69}},"79":{start:{line:134,column:12},end:{line:136,column:13}},"80":{start:{line:135,column:16},end:{line:135,column:77}},"81":{start:{line:137,column:12},end:{line:137,column:77}},"82":{start:{line:150,column:35},end:{line:156,column:77}},"83":{start:{line:153,column:4},end:{line:156,column:76}},"84":{start:{line:157,column:4},end:{line:157,column:110}},"85":{start:{line:157,column:84},end:{line:157,column:108}},"86":{start:{line:165,column:4},end:{line:168,column:89}},"87":{start:{line:178,column:4},end:{line:180,column:5}},"88":{start:{line:179,column:8},end:{line:179,column:70}},"89":{start:{line:181,column:35},end:{line:181,column:133}},"90":{start:{line:182,column:4},end:{line:185,column:7}},"91":{start:{line:183,column:18},end:{line:183,column:90}},"92":{start:{line:183,column:53},end:{line:183,column:89}},"93":{start:{line:184,column:8},end:{line:184,column:43}},"94":{start:{line:195,column:4},end:{line:195,column:117}},"95":{start:{line:195,column:100},end:{line:195,column:115}},"96":{start:{line:206,column:4},end:{line:206,column:95}},"97":{start:{line:209,column:4},end:{line:223,column:5}},"98":{start:{line:214,column:12},end:{line:214,column:110}},"99":{start:{line:216,column:12},end:{line:222,column:13}},"100":{start:{line:219,column:20},end:{line:219,column:71}},"101":{start:{line:221,column:20},end:{line:221,column:67}},"102":{start:{line:226,column:30},end:{line:226,column:41}},"103":{start:{line:227,column:44},end:{line:227,column:110}},"104":{start:{line:228,column:4},end:{line:228,column:40}},"105":{start:{line:229,column:4},end:{line:237,column:7}},"106":{start:{line:243,column:30},end:{line:243,column:90}},"107":{start:{line:244,column:4},end:{line:249,column:5}},"108":{start:{line:245,column:8},end:{line:245,column:127}},"109":{start:{line:248,column:8},end:{line:248,column:109}},"110":{start:{line:250,column:4},end:{line:250,column:40}},"111":{start:{line:251,column:4},end:{line:260,column:7}}},fnMap:{"0":{name:"getSignatureVerifications",decl:{start:{line:28,column:9},end:{line:28,column:34}},loc:{start:{line:28,column:108},end:{line:140,column:1}},line:28},"1":{name:"(anonymous_1)",decl:{start:{line:75,column:52},end:{line:75,column:53}},loc:{start:{line:75,column:61},end:{line:77,column:63}},line:75},"2":{name:"(anonymous_2)",decl:{start:{line:80,column:16},end:{line:80,column:17}},loc:{start:{line:80,column:23},end:{line:80,column:36}},line:80},"3":{name:"(anonymous_3)",decl:{start:{line:81,column:16},end:{line:81,column:17}},loc:{start:{line:81,column:26},end:{line:81,column:120}},line:81},"4":{name:"(anonymous_4)",decl:{start:{line:82,column:26},end:{line:82,column:27}},loc:{start:{line:82,column:47},end:{line:139,column:5}},line:82},"5":{name:"(anonymous_5)",decl:{start:{line:97,column:91},end:{line:97,column:92}},loc:{start:{line:97,column:107},end:{line:97,column:113}},line:97},"6":{name:"(anonymous_6)",decl:{start:{line:97,column:132},end:{line:97,column:133}},loc:{start:{line:97,column:147},end:{line:97,column:152}},line:97},"7":{name:"(anonymous_7)",decl:{start:{line:98,column:47},end:{line:98,column:48}},loc:{start:{line:98,column:54},end:{line:98,column:154}},line:98},"8":{name:"(anonymous_8)",decl:{start:{line:111,column:91},end:{line:111,column:92}},loc:{start:{line:111,column:107},end:{line:111,column:113}},line:111},"9":{name:"(anonymous_9)",decl:{start:{line:111,column:132},end:{line:111,column:133}},loc:{start:{line:111,column:147},end:{line:111,column:152}},line:111},"10":{name:"(anonymous_10)",decl:{start:{line:123,column:47},end:{line:123,column:48}},loc:{start:{line:123,column:62},end:{line:130,column:17}},line:123},"11":{name:"verifySignature",decl:{start:{line:149,column:9},end:{line:149,column:24}},loc:{start:{line:149,column:98},end:{line:158,column:1}},line:149},"12":{name:"(anonymous_12)",decl:{start:{line:150,column:136},end:{line:150,column:137}},loc:{start:{line:153,column:4},end:{line:156,column:76}},line:153},"13":{name:"(anonymous_13)",decl:{start:{line:157,column:77},end:{line:157,column:78}},loc:{start:{line:157,column:84},end:{line:157,column:108}},line:157},"14":{name:"isSignatureByPublicKey",decl:{start:{line:164,column:9},end:{line:164,column:31}},loc:{start:{line:164,column:46},end:{line:169,column:1}},line:164},"15":{name:"getSignaturesWithPublicKeys",decl:{start:{line:177,column:9},end:{line:177,column:36}},loc:{start:{line:177,column:87},end:{line:186,column:1}},line:177},"16":{name:"(anonymous_16)",decl:{start:{line:182,column:26},end:{line:182,column:27}},loc:{start:{line:182,column:41},end:{line:185,column:5}},line:182},"17":{name:"(anonymous_17)",decl:{start:{line:183,column:46},end:{line:183,column:47}},loc:{start:{line:183,column:53},end:{line:183,column:89}},line:183},"18":{name:"verifySignatureWithPublicKeys",decl:{start:{line:194,column:9},end:{line:194,column:38}},loc:{start:{line:194,column:89},end:{line:196,column:1}},line:194},"19":{name:"(anonymous_19)",decl:{start:{line:195,column:93},end:{line:195,column:94}},loc:{start:{line:195,column:100},end:{line:195,column:115}},line:195},"20":{name:"verifySignatureWithPublicKey",decl:{start:{line:205,column:9},end:{line:205,column:37}},loc:{start:{line:205,column:87},end:{line:207,column:1}},line:205},"21":{name:"getDefaultSigHash",decl:{start:{line:208,column:9},end:{line:208,column:26}},loc:{start:{line:208,column:48},end:{line:224,column:1}},line:208},"22":{name:"signInputP2shP2pk",decl:{start:{line:225,column:9},end:{line:225,column:26}},loc:{start:{line:225,column:52},end:{line:238,column:1}},line:225},"23":{name:"signInput2Of3",decl:{start:{line:239,column:9},end:{line:239,column:22}},loc:{start:{line:239,column:87},end:{line:261,column:1}},line:239}},branchMap:{"0":{loc:{start:{line:28,column:68},end:{line:28,column:93}},type:"default-arg",locations:[{start:{line:28,column:91},end:{line:28,column:93}}],line:28},"1":{loc:{start:{line:38,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:41,column:5}},{start:{line:38,column:4},end:{line:41,column:5}}],line:38},"2":{loc:{start:{line:38,column:8},end:{line:38,column:82}},type:"binary-expr",locations:[{start:{line:38,column:9},end:{line:38,column:22}},{start:{line:38,column:26},end:{line:38,column:51}},{start:{line:38,column:56},end:{line:38,column:82}}],line:38},"3":{loc:{start:{line:43,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:57,column:5}},{start:{line:43,column:4},end:{line:57,column:5}}],line:43},"4":{loc:{start:{line:43,column:8},end:{line:43,column:113}},type:"binary-expr",locations:[{start:{line:43,column:8},end:{line:43,column:57}},{start:{line:43,column:61},end:{line:43,column:113}}],line:43},"5":{loc:{start:{line:44,column:8},end:{line:47,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:47,column:9}},{start:{line:44,column:8},end:{line:47,column:9}}],line:44},"6":{loc:{start:{line:44,column:12},end:{line:45,column:83}},type:"binary-expr",locations:[{start:{line:44,column:12},end:{line:44,column:61}},{start:{line:45,column:13},end:{line:45,column:48}},{start:{line:45,column:52},end:{line:45,column:82}}],line:44},"7":{loc:{start:{line:48,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:50,column:9}},{start:{line:48,column:8},end:{line:50,column:9}}],line:48},"8":{loc:{start:{line:51,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:53,column:9}},{start:{line:51,column:8},end:{line:53,column:9}}],line:51},"9":{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},"10":{loc:{start:{line:58,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:66,column:5}},{start:{line:58,column:4},end:{line:66,column:5}}],line:58},"11":{loc:{start:{line:58,column:8},end:{line:60,column:19}},type:"binary-expr",locations:[{start:{line:58,column:8},end:{line:58,column:57}},{start:{line:59,column:8},end:{line:59,column:60}},{start:{line:60,column:8},end:{line:60,column:19}}],line:58},"12":{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},"13":{loc:{start:{line:68,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:78,column:5}},{start:{line:68,column:4},end:{line:78,column:5}}],line:68},"14":{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},"15":{loc:{start:{line:75,column:61},end:{line:77,column:63}},type:"binary-expr",locations:[{start:{line:75,column:61},end:{line:75,column:105}},{start:{line:76,column:12},end:{line:76,column:54}},{start:{line:77,column:12},end:{line:77,column:63}}],line:75},"16":{loc:{start:{line:80,column:23},end:{line:80,column:36}},type:"binary-expr",locations:[{start:{line:80,column:23},end:{line:80,column:24}},{start:{line:80,column:28},end:{line:80,column:36}}],line:80},"17":{loc:{start:{line:81,column:26},end:{line:81,column:120}},type:"binary-expr",locations:[{start:{line:81,column:26},end:{line:81,column:75}},{start:{line:81,column:79},end:{line:81,column:120}}],line:81},"18":{loc:{start:{line:83,column:8},end:{line:85,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:85,column:9}},{start:{line:83,column:8},end:{line:85,column:9}}],line:83},"19":{loc:{start:{line:83,column:12},end:{line:83,column:65}},type:"binary-expr",locations:[{start:{line:83,column:12},end:{line:83,column:33}},{start:{line:83,column:37},end:{line:83,column:65}}],line:83},"20":{loc:{start:{line:87,column:8},end:{line:90,column:9}},type:"if",locations:[{start:{line:87,column:8},end:{line:90,column:9}},{start:{line:87,column:8},end:{line:90,column:9}}],line:87},"21":{loc:{start:{line:91,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:91,column:8},end:{line:138,column:9}},{start:{line:91,column:8},end:{line:138,column:9}}],line:91},"22":{loc:{start:{line:92,column:12},end:{line:94,column:13}},type:"if",locations:[{start:{line:92,column:12},end:{line:94,column:13}},{start:{line:92,column:12},end:{line:94,column:13}}],line:92},"23":{loc:{start:{line:98,column:54},end:{line:98,column:154}},type:"binary-expr",locations:[{start:{line:98,column:54},end:{line:98,column:86}},{start:{line:98,column:90},end:{line:98,column:154}}],line:98},"24":{loc:{start:{line:99,column:12},end:{line:101,column:13}},type:"if",locations:[{start:{line:99,column:12},end:{line:101,column:13}},{start:{line:99,column:12},end:{line:101,column:13}}],line:99},"25":{loc:{start:{line:102,column:12},end:{line:104,column:13}},type:"if",locations:[{start:{line:102,column:12},end:{line:104,column:13}},{start:{line:102,column:12},end:{line:104,column:13}}],line:102},"26":{loc:{start:{line:107,column:13},end:{line:138,column:9}},type:"if",locations:[{start:{line:107,column:13},end:{line:138,column:9}},{start:{line:107,column:13},end:{line:138,column:9}}],line:107},"27":{loc:{start:{line:108,column:12},end:{line:110,column:13}},type:"if",locations:[{start:{line:108,column:12},end:{line:110,column:13}},{start:{line:108,column:12},end:{line:110,column:13}}],line:108},"28":{loc:{start:{line:113,column:19},end:{line:115,column:63}},type:"cond-expr",locations:[{start:{line:114,column:18},end:{line:114,column:73}},{start:{line:115,column:18},end:{line:115,column:63}}],line:113},"29":{loc:{start:{line:120,column:36},end:{line:122,column:109}},type:"cond-expr",locations:[{start:{line:121,column:18},end:{line:121,column:100}},{start:{line:122,column:18},end:{line:122,column:109}}],line:120},"30":{loc:{start:{line:120,column:36},end:{line:120,column:114}},type:"binary-expr",locations:[{start:{line:120,column:36},end:{line:120,column:75}},{start:{line:120,column:79},end:{line:120,column:114}}],line:120},"31":{loc:{start:{line:131,column:12},end:{line:133,column:13}},type:"if",locations:[{start:{line:131,column:12},end:{line:133,column:13}},{start:{line:131,column:12},end:{line:133,column:13}}],line:131},"32":{loc:{start:{line:134,column:12},end:{line:136,column:13}},type:"if",locations:[{start:{line:134,column:12},end:{line:136,column:13}},{start:{line:134,column:12},end:{line:136,column:13}}],line:134},"33":{loc:{start:{line:149,column:58},end:{line:149,column:83}},type:"default-arg",locations:[{start:{line:149,column:81},end:{line:149,column:83}}],line:149},"34":{loc:{start:{line:153,column:4},end:{line:156,column:76}},type:"binary-expr",locations:[{start:{line:153,column:4},end:{line:153,column:48}},{start:{line:154,column:9},end:{line:154,column:33}},{start:{line:155,column:13},end:{line:155,column:62}},{start:{line:156,column:16},end:{line:156,column:74}}],line:153},"35":{loc:{start:{line:157,column:11},end:{line:157,column:109}},type:"binary-expr",locations:[{start:{line:157,column:11},end:{line:157,column:44}},{start:{line:157,column:48},end:{line:157,column:109}}],line:157},"36":{loc:{start:{line:165,column:12},end:{line:168,column:87}},type:"binary-expr",locations:[{start:{line:165,column:12},end:{line:165,column:24}},{start:{line:166,column:9},end:{line:166,column:37}},{start:{line:168,column:13},end:{line:168,column:36}},{start:{line:168,column:40},end:{line:168,column:85}}],line:165},"37":{loc:{start:{line:178,column:4},end:{line:180,column:5}},type:"if",locations:[{start:{line:178,column:4},end:{line:180,column:5}},{start:{line:178,column:4},end:{line:180,column:5}}],line:178},"38":{loc:{start:{line:184,column:15},end:{line:184,column:42}},type:"cond-expr",locations:[{start:{line:184,column:19},end:{line:184,column:30}},{start:{line:184,column:33},end:{line:184,column:42}}],line:184},"39":{loc:{start:{line:209,column:4},end:{line:223,column:5}},type:"switch",locations:[{start:{line:210,column:8},end:{line:210,column:45}},{start:{line:211,column:8},end:{line:211,column:43}},{start:{line:212,column:8},end:{line:212,column:45}},{start:{line:213,column:8},end:{line:214,column:110}},{start:{line:215,column:8},end:{line:222,column:13}}],line:209},"40":{loc:{start:{line:216,column:12},end:{line:222,column:13}},type:"switch",locations:[{start:{line:217,column:16},end:{line:217,column:28}},{start:{line:218,column:16},end:{line:219,column:71}},{start:{line:220,column:16},end:{line:221,column:67}}],line:216},"41":{loc:{start:{line:244,column:4},end:{line:249,column:5}},type:"if",locations:[{start:{line:244,column:4},end:{line:249,column:5}},{start:{line:244,column:4},end:{line:249,column:5}}],line:244}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},b:{"0":[0],"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0],"34":[0,0,0,0],"35":[0,0],"36":[0,0,0,0],"37":[0,0],"38":[0,0],"39":[0,0,0,0,0],"40":[0,0,0],"41":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/signature.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/signature.ts"],names:[],mappings:"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",sourcesContent:["import { BIP32Interface } from 'bip32';\n\nimport { Transaction, taproot, TxOutput, ScriptSignature } from 'bitcoinjs-lib';\n\nimport { UtxoTransaction } from './UtxoTransaction';\nimport { UtxoTransactionBuilder } from './UtxoTransactionBuilder';\nimport {\n  createOutputScript2of3,\n  createOutputScriptP2shP2pk,\n  createSpendScriptP2tr,\n  getOutputScript,\n  ScriptType,\n  ScriptType2Of3,\n  scriptType2Of3AsPrevOutType,\n} from './outputScripts';\nimport { Triple } from './types';\nimport { getMainnet, Network, networks } from '../networks';\nimport { ecc as eccLib } from '../noble_ecc';\nimport { parseSignatureScript2Of3 } from './parseInput';\nimport { getTaprootOutputKey } from '../taproot';\n\n/**\n * Constraints for signature verifications.\n * Parameters are conjunctive: if multiple parameters are set, a verification for an individual\n * signature must satisfy all of them.\n */\nexport type VerificationSettings = {\n  /**\n   * The index of the signature to verify. Only iterates over non-empty signatures.\n   */\n  signatureIndex?: number;\n  /**\n   * The public key to verify.\n   */\n  publicKey?: Buffer;\n};\n\n/**\n * Result for a individual signature verification\n */\nexport type SignatureVerification =\n  | {\n      /** Set to the public key that signed for the signature */\n      signedBy: Buffer;\n      /** Set to the signature buffer */\n      signature: Buffer;\n    }\n  | { signedBy: undefined; signature: undefined };\n\n/**\n * @deprecated - use {@see verifySignaturesWithPublicKeys} instead\n * Get signature verifications for multsig transaction\n * @param transaction\n * @param inputIndex\n * @param amount - must be set for segwit transactions and BIP143 transactions\n * @param verificationSettings\n * @param prevOutputs - must be set for p2tr and p2trMusig2 transactions\n * @returns SignatureVerification[] - in order of parsed non-empty signatures\n */\nexport function getSignatureVerifications<TNumber extends number | bigint>(\n  transaction: UtxoTransaction<TNumber>,\n  inputIndex: number,\n  amount: TNumber,\n  verificationSettings: VerificationSettings = {},\n  prevOutputs?: TxOutput<TNumber>[]\n): SignatureVerification[] {\n  /* istanbul ignore next */\n  if (!transaction.ins) {\n    throw new Error(`invalid transaction`);\n  }\n\n  const input = transaction.ins[inputIndex];\n  /* istanbul ignore next */\n  if (!input) {\n    throw new Error(`no input at index ${inputIndex}`);\n  }\n\n  if ((!input.script || input.script.length === 0) && input.witness.length === 0) {\n    // Unsigned input: no signatures.\n    return [];\n  }\n\n  const parsedScript = parseSignatureScript2Of3(input);\n\n  if (parsedScript.scriptType === 'taprootKeyPathSpend' || parsedScript.scriptType === 'taprootScriptPathSpend') {\n    if (\n      parsedScript.scriptType === 'taprootKeyPathSpend' &&\n      (verificationSettings.signatureIndex || verificationSettings.publicKey)\n    ) {\n      throw new Error(`signatureIndex and publicKey parameters not supported for taprootKeyPathSpend`);\n    }\n\n    if (verificationSettings.signatureIndex !== undefined) {\n      throw new Error(`signatureIndex parameter not supported for taprootScriptPathSpend`);\n    }\n\n    if (!prevOutputs) {\n      throw new Error(`prevOutputs not set`);\n    }\n\n    if (prevOutputs.length !== transaction.ins.length) {\n      throw new Error(`prevOutputs length ${prevOutputs.length}, expected ${transaction.ins.length}`);\n    }\n  }\n\n  if (\n    parsedScript.scriptType !== 'taprootKeyPathSpend' &&\n    parsedScript.scriptType !== 'taprootScriptPathSpend' &&\n    prevOutputs\n  ) {\n    const prevOutScript = prevOutputs[inputIndex].script;\n\n    const output = getOutputScript(parsedScript.scriptType, parsedScript.pubScript);\n    if (!prevOutScript.equals(output)) {\n      throw new Error(\n        `prevout script ${prevOutScript.toString('hex')} does not match computed script ${output.toString('hex')}`\n      );\n    }\n  }\n\n  let publicKeys: Buffer[];\n  if (parsedScript.scriptType === 'taprootKeyPathSpend') {\n    if (!prevOutputs) {\n      throw new Error(`prevOutputs not set`);\n    }\n    publicKeys = [getTaprootOutputKey(prevOutputs[inputIndex].script)];\n  } else {\n    publicKeys = parsedScript.publicKeys.filter(\n      (buf) =>\n        verificationSettings.publicKey === undefined ||\n        verificationSettings.publicKey.equals(buf) ||\n        verificationSettings.publicKey.slice(1).equals(buf)\n    );\n  }\n\n  const signatures = parsedScript.signatures\n    .filter((s) => s && s.length)\n    .filter((s, i) => verificationSettings.signatureIndex === undefined || verificationSettings.signatureIndex === i);\n\n  return signatures.map((signatureBuffer): SignatureVerification => {\n    if (signatureBuffer === 0 || signatureBuffer.length === 0) {\n      return { signedBy: undefined, signature: undefined };\n    }\n\n    let hashType = Transaction.SIGHASH_DEFAULT;\n\n    if (signatureBuffer.length === 65) {\n      hashType = signatureBuffer[signatureBuffer.length - 1];\n      signatureBuffer = signatureBuffer.slice(0, -1);\n    }\n\n    if (parsedScript.scriptType === 'taprootScriptPathSpend') {\n      if (!prevOutputs) {\n        throw new Error(`prevOutputs not set`);\n      }\n      const { controlBlock, pubScript } = parsedScript;\n      const leafHash = taproot.getTapleafHash(eccLib, controlBlock, pubScript);\n      const signatureHash = transaction.hashForWitnessV1(\n        inputIndex,\n        prevOutputs.map(({ script }) => script),\n        prevOutputs.map(({ value }) => value),\n        hashType,\n        leafHash\n      );\n\n      const signedBy = publicKeys.filter(\n        (k) => Buffer.isBuffer(signatureBuffer) && eccLib.verifySchnorr(signatureHash, k, signatureBuffer)\n      );\n\n      if (signedBy.length === 0) {\n        return { signedBy: undefined, signature: undefined };\n      }\n      if (signedBy.length === 1) {\n        return { signedBy: signedBy[0], signature: signatureBuffer };\n      }\n      throw new Error(`illegal state: signed by multiple public keys`);\n    } else if (parsedScript.scriptType === 'taprootKeyPathSpend') {\n      if (!prevOutputs) {\n        throw new Error(`prevOutputs not set`);\n      }\n      const signatureHash = transaction.hashForWitnessV1(\n        inputIndex,\n        prevOutputs.map(({ script }) => script),\n        prevOutputs.map(({ value }) => value),\n        hashType\n      );\n      const result = eccLib.verifySchnorr(signatureHash, publicKeys[0], signatureBuffer);\n      return result\n        ? { signedBy: publicKeys[0], signature: signatureBuffer }\n        : { signedBy: undefined, signature: undefined };\n    } else {\n      // slice the last byte from the signature hash input because it's the hash type\n      const { signature, hashType } = ScriptSignature.decode(signatureBuffer);\n      const transactionHash =\n        parsedScript.scriptType === 'p2shP2wsh' || parsedScript.scriptType === 'p2wsh'\n          ? transaction.hashForWitnessV0(inputIndex, parsedScript.pubScript, amount, hashType)\n          : transaction.hashForSignatureByNetwork(inputIndex, parsedScript.pubScript, amount, hashType);\n      const signedBy = publicKeys.filter((publicKey) =>\n        eccLib.verify(\n          transactionHash,\n          publicKey,\n          signature,\n          /*\n            Strict verification (require lower-S value), as required by BIP-0146\n            https://github.com/bitcoin/bips/blob/master/bip-0146.mediawiki\n            https://github.com/bitcoin-core/secp256k1/blob/ac83be33/include/secp256k1.h#L478-L508\n            https://github.com/bitcoinjs/tiny-secp256k1/blob/v1.1.6/js.js#L231-L233\n          */\n          true\n        )\n      );\n\n      if (signedBy.length === 0) {\n        return { signedBy: undefined, signature: undefined };\n      }\n      if (signedBy.length === 1) {\n        return { signedBy: signedBy[0], signature: signatureBuffer };\n      }\n      throw new Error(`illegal state: signed by multiple public keys`);\n    }\n  });\n}\n\n/**\n * @deprecated use {@see verifySignatureWithPublicKeys} instead\n * @param transaction\n * @param inputIndex\n * @param amount\n * @param verificationSettings - if publicKey is specified, returns true iff any signature is signed by publicKey.\n * @param prevOutputs - must be set for p2tr transactions\n */\nexport function verifySignature<TNumber extends number | bigint>(\n  transaction: UtxoTransaction<TNumber>,\n  inputIndex: number,\n  amount: TNumber,\n  verificationSettings: VerificationSettings = {},\n  prevOutputs?: TxOutput<TNumber>[]\n): boolean {\n  const signatureVerifications = getSignatureVerifications(\n    transaction,\n    inputIndex,\n    amount,\n    verificationSettings,\n    prevOutputs\n  ).filter(\n    (v) =>\n      // If no publicKey is set in verificationSettings, all signatures must be valid.\n      // Otherwise, a single valid signature by the specified pubkey is sufficient.\n      verificationSettings.publicKey === undefined ||\n      (v.signedBy !== undefined &&\n        (verificationSettings.publicKey.equals(v.signedBy) ||\n          verificationSettings.publicKey.slice(1).equals(v.signedBy)))\n  );\n\n  return signatureVerifications.length > 0 && signatureVerifications.every((v) => v.signedBy !== undefined);\n}\n\n/**\n * @param v\n * @param publicKey\n * @return true iff signature is by publicKey (or xonly variant of publicKey)\n */\nfunction isSignatureByPublicKey(v: SignatureVerification, publicKey: Buffer): boolean {\n  return (\n    !!v.signedBy &&\n    (v.signedBy.equals(publicKey) ||\n      /* for p2tr signatures, we pass the pubkey in 33-byte format recover it from the signature in 32-byte format */\n      (publicKey.length === 33 && isSignatureByPublicKey(v, publicKey.slice(1))))\n  );\n}\n\n/**\n * @param transaction\n * @param inputIndex\n * @param prevOutputs\n * @param publicKeys\n * @return array with signature corresponding to n-th key, undefined if no match found\n */\nexport function getSignaturesWithPublicKeys<TNumber extends number | bigint>(\n  transaction: UtxoTransaction<TNumber>,\n  inputIndex: number,\n  prevOutputs: TxOutput<TNumber>[],\n  publicKeys: Buffer[]\n): Array<Buffer | undefined> {\n  if (transaction.ins.length !== prevOutputs.length) {\n    throw new Error(`input length must match prevOutputs length`);\n  }\n\n  const signatureVerifications = getSignatureVerifications(\n    transaction,\n    inputIndex,\n    prevOutputs[inputIndex].value,\n    {},\n    prevOutputs\n  );\n\n  return publicKeys.map((publicKey) => {\n    const v = signatureVerifications.find((v) => isSignatureByPublicKey(v, publicKey));\n    return v ? v.signature : undefined;\n  });\n}\n\n/**\n * @param transaction\n * @param inputIndex\n * @param prevOutputs - transaction outputs for inputs\n * @param publicKeys - public keys to check signatures for\n * @return array of booleans indicating a valid signature for every pubkey in _publicKeys_\n */\nexport function verifySignatureWithPublicKeys<TNumber extends number | bigint>(\n  transaction: UtxoTransaction<TNumber>,\n  inputIndex: number,\n  prevOutputs: TxOutput<TNumber>[],\n  publicKeys: Buffer[]\n): boolean[] {\n  return getSignaturesWithPublicKeys(transaction, inputIndex, prevOutputs, publicKeys).map((s) => s !== undefined);\n}\n\n/**\n * Wrapper for {@see verifySignatureWithPublicKeys} for single pubkey\n * @param transaction\n * @param inputIndex\n * @param prevOutputs\n * @param publicKey\n * @return true iff signature is valid\n */\nexport function verifySignatureWithPublicKey<TNumber extends number | bigint>(\n  transaction: UtxoTransaction<TNumber>,\n  inputIndex: number,\n  prevOutputs: TxOutput<TNumber>[],\n  publicKey: Buffer\n): boolean {\n  return verifySignatureWithPublicKeys(transaction, inputIndex, prevOutputs, [publicKey])[0];\n}\n\nexport function getDefaultSigHash(network: Network, scriptType?: ScriptType): number {\n  switch (getMainnet(network)) {\n    case networks.bitcoincash:\n    case networks.bitcoinsv:\n    case networks.bitcoingold:\n    case networks.ecash:\n      return Transaction.SIGHASH_ALL | UtxoTransaction.SIGHASH_FORKID;\n    default:\n      switch (scriptType) {\n        case 'p2tr':\n        case 'p2trMusig2':\n          return Transaction.SIGHASH_DEFAULT;\n        default:\n          return Transaction.SIGHASH_ALL;\n      }\n  }\n}\n\nexport function signInputP2shP2pk<TNumber extends number | bigint>(\n  txBuilder: UtxoTransactionBuilder<TNumber>,\n  vin: number,\n  keyPair: BIP32Interface\n): void {\n  const prevOutScriptType = 'p2sh-p2pk';\n  const { redeemScript, witnessScript } = createOutputScriptP2shP2pk(keyPair.publicKey);\n  keyPair.network = txBuilder.network;\n\n  txBuilder.sign({\n    vin,\n    prevOutScriptType,\n    keyPair,\n    hashType: getDefaultSigHash(txBuilder.network as Network),\n    redeemScript,\n    witnessScript,\n    witnessValue: undefined,\n  });\n}\n\nexport function signInput2Of3<TNumber extends number | bigint>(\n  txBuilder: UtxoTransactionBuilder<TNumber>,\n  vin: number,\n  scriptType: ScriptType2Of3,\n  pubkeys: Triple<Buffer>,\n  keyPair: BIP32Interface,\n  cosigner: Buffer,\n  amount: TNumber\n): void {\n  let controlBlock;\n  let redeemScript;\n  let witnessScript;\n\n  const prevOutScriptType = scriptType2Of3AsPrevOutType(scriptType);\n  if (scriptType === 'p2tr') {\n    ({ witnessScript, controlBlock } = createSpendScriptP2tr(pubkeys, [keyPair.publicKey, cosigner]));\n  } else {\n    ({ redeemScript, witnessScript } = createOutputScript2of3(pubkeys, scriptType));\n  }\n\n  keyPair.network = txBuilder.network;\n\n  txBuilder.sign({\n    vin,\n    prevOutScriptType,\n    keyPair,\n    hashType: getDefaultSigHash(txBuilder.network as Network, scriptType),\n    redeemScript,\n    witnessScript,\n    witnessValue: amount,\n    controlBlock,\n  });\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5770cd0c029125d343391ccd4bec339ad570c245"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1s71amsya3=function(){return actualCoverage;};}return actualCoverage;}cov_1s71amsya3();cov_1s71amsya3().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1s71amsya3().s[1]++;exports.getSignatureVerifications=getSignatureVerifications;cov_1s71amsya3().s[2]++;exports.verifySignature=verifySignature;cov_1s71amsya3().s[3]++;exports.getSignaturesWithPublicKeys=getSignaturesWithPublicKeys;cov_1s71amsya3().s[4]++;exports.verifySignatureWithPublicKeys=verifySignatureWithPublicKeys;cov_1s71amsya3().s[5]++;exports.verifySignatureWithPublicKey=verifySignatureWithPublicKey;cov_1s71amsya3().s[6]++;exports.getDefaultSigHash=getDefaultSigHash;cov_1s71amsya3().s[7]++;exports.signInputP2shP2pk=signInputP2shP2pk;cov_1s71amsya3().s[8]++;exports.signInput2Of3=signInput2Of3;const bitcoinjs_lib_1=(cov_1s71amsya3().s[9]++,require("bitcoinjs-lib"));const UtxoTransaction_1=(cov_1s71amsya3().s[10]++,require("./UtxoTransaction"));const outputScripts_1=(cov_1s71amsya3().s[11]++,require("./outputScripts"));const networks_1=(cov_1s71amsya3().s[12]++,require("../networks"));const noble_ecc_1=(cov_1s71amsya3().s[13]++,require("../noble_ecc"));const parseInput_1=(cov_1s71amsya3().s[14]++,require("./parseInput"));const taproot_1=(cov_1s71amsya3().s[15]++,require("../taproot"));/**
 * @deprecated - use {@see verifySignaturesWithPublicKeys} instead
 * Get signature verifications for multsig transaction
 * @param transaction
 * @param inputIndex
 * @param amount - must be set for segwit transactions and BIP143 transactions
 * @param verificationSettings
 * @param prevOutputs - must be set for p2tr and p2trMusig2 transactions
 * @returns SignatureVerification[] - in order of parsed non-empty signatures
 */function getSignatureVerifications(transaction,inputIndex,amount,verificationSettings=(cov_1s71amsya3().b[0][0]++,{}),prevOutputs){cov_1s71amsya3().f[0]++;/* istanbul ignore next */if(!transaction.ins){throw new Error(`invalid transaction`);}const input=(cov_1s71amsya3().s[16]++,transaction.ins[inputIndex]);/* istanbul ignore next */if(!input){throw new Error(`no input at index ${inputIndex}`);}cov_1s71amsya3().s[17]++;if(((cov_1s71amsya3().b[2][0]++,!input.script)||(cov_1s71amsya3().b[2][1]++,input.script.length===0))&&(cov_1s71amsya3().b[2][2]++,input.witness.length===0)){cov_1s71amsya3().b[1][0]++;cov_1s71amsya3().s[18]++;// Unsigned input: no signatures.
return[];}else{cov_1s71amsya3().b[1][1]++;}const parsedScript=(cov_1s71amsya3().s[19]++,(0,parseInput_1.parseSignatureScript2Of3)(input));cov_1s71amsya3().s[20]++;if((cov_1s71amsya3().b[4][0]++,parsedScript.scriptType==='taprootKeyPathSpend')||(cov_1s71amsya3().b[4][1]++,parsedScript.scriptType==='taprootScriptPathSpend')){cov_1s71amsya3().b[3][0]++;cov_1s71amsya3().s[21]++;if((cov_1s71amsya3().b[6][0]++,parsedScript.scriptType==='taprootKeyPathSpend')&&((cov_1s71amsya3().b[6][1]++,verificationSettings.signatureIndex)||(cov_1s71amsya3().b[6][2]++,verificationSettings.publicKey))){cov_1s71amsya3().b[5][0]++;cov_1s71amsya3().s[22]++;throw new Error(`signatureIndex and publicKey parameters not supported for taprootKeyPathSpend`);}else{cov_1s71amsya3().b[5][1]++;}cov_1s71amsya3().s[23]++;if(verificationSettings.signatureIndex!==undefined){cov_1s71amsya3().b[7][0]++;cov_1s71amsya3().s[24]++;throw new Error(`signatureIndex parameter not supported for taprootScriptPathSpend`);}else{cov_1s71amsya3().b[7][1]++;}cov_1s71amsya3().s[25]++;if(!prevOutputs){cov_1s71amsya3().b[8][0]++;cov_1s71amsya3().s[26]++;throw new Error(`prevOutputs not set`);}else{cov_1s71amsya3().b[8][1]++;}cov_1s71amsya3().s[27]++;if(prevOutputs.length!==transaction.ins.length){cov_1s71amsya3().b[9][0]++;cov_1s71amsya3().s[28]++;throw new Error(`prevOutputs length ${prevOutputs.length}, expected ${transaction.ins.length}`);}else{cov_1s71amsya3().b[9][1]++;}}else{cov_1s71amsya3().b[3][1]++;}cov_1s71amsya3().s[29]++;if((cov_1s71amsya3().b[11][0]++,parsedScript.scriptType!=='taprootKeyPathSpend')&&(cov_1s71amsya3().b[11][1]++,parsedScript.scriptType!=='taprootScriptPathSpend')&&(cov_1s71amsya3().b[11][2]++,prevOutputs)){cov_1s71amsya3().b[10][0]++;const prevOutScript=(cov_1s71amsya3().s[30]++,prevOutputs[inputIndex].script);const output=(cov_1s71amsya3().s[31]++,(0,outputScripts_1.getOutputScript)(parsedScript.scriptType,parsedScript.pubScript));cov_1s71amsya3().s[32]++;if(!prevOutScript.equals(output)){cov_1s71amsya3().b[12][0]++;cov_1s71amsya3().s[33]++;throw new Error(`prevout script ${prevOutScript.toString('hex')} does not match computed script ${output.toString('hex')}`);}else{cov_1s71amsya3().b[12][1]++;}}else{cov_1s71amsya3().b[10][1]++;}let publicKeys;cov_1s71amsya3().s[34]++;if(parsedScript.scriptType==='taprootKeyPathSpend'){cov_1s71amsya3().b[13][0]++;cov_1s71amsya3().s[35]++;if(!prevOutputs){cov_1s71amsya3().b[14][0]++;cov_1s71amsya3().s[36]++;throw new Error(`prevOutputs not set`);}else{cov_1s71amsya3().b[14][1]++;}cov_1s71amsya3().s[37]++;publicKeys=[(0,taproot_1.getTaprootOutputKey)(prevOutputs[inputIndex].script)];}else{cov_1s71amsya3().b[13][1]++;cov_1s71amsya3().s[38]++;publicKeys=parsedScript.publicKeys.filter(buf=>{cov_1s71amsya3().f[1]++;cov_1s71amsya3().s[39]++;return(cov_1s71amsya3().b[15][0]++,verificationSettings.publicKey===undefined)||(cov_1s71amsya3().b[15][1]++,verificationSettings.publicKey.equals(buf))||(cov_1s71amsya3().b[15][2]++,verificationSettings.publicKey.slice(1).equals(buf));});}const signatures=(cov_1s71amsya3().s[40]++,parsedScript.signatures.filter(s=>{cov_1s71amsya3().f[2]++;cov_1s71amsya3().s[41]++;return(cov_1s71amsya3().b[16][0]++,s)&&(cov_1s71amsya3().b[16][1]++,s.length);}).filter((s,i)=>{cov_1s71amsya3().f[3]++;cov_1s71amsya3().s[42]++;return(cov_1s71amsya3().b[17][0]++,verificationSettings.signatureIndex===undefined)||(cov_1s71amsya3().b[17][1]++,verificationSettings.signatureIndex===i);}));cov_1s71amsya3().s[43]++;return signatures.map(signatureBuffer=>{cov_1s71amsya3().f[4]++;cov_1s71amsya3().s[44]++;if((cov_1s71amsya3().b[19][0]++,signatureBuffer===0)||(cov_1s71amsya3().b[19][1]++,signatureBuffer.length===0)){cov_1s71amsya3().b[18][0]++;cov_1s71amsya3().s[45]++;return{signedBy:undefined,signature:undefined};}else{cov_1s71amsya3().b[18][1]++;}let hashType=(cov_1s71amsya3().s[46]++,bitcoinjs_lib_1.Transaction.SIGHASH_DEFAULT);cov_1s71amsya3().s[47]++;if(signatureBuffer.length===65){cov_1s71amsya3().b[20][0]++;cov_1s71amsya3().s[48]++;hashType=signatureBuffer[signatureBuffer.length-1];cov_1s71amsya3().s[49]++;signatureBuffer=signatureBuffer.slice(0,-1);}else{cov_1s71amsya3().b[20][1]++;}cov_1s71amsya3().s[50]++;if(parsedScript.scriptType==='taprootScriptPathSpend'){cov_1s71amsya3().b[21][0]++;cov_1s71amsya3().s[51]++;if(!prevOutputs){cov_1s71amsya3().b[22][0]++;cov_1s71amsya3().s[52]++;throw new Error(`prevOutputs not set`);}else{cov_1s71amsya3().b[22][1]++;}const{controlBlock,pubScript}=(cov_1s71amsya3().s[53]++,parsedScript);const leafHash=(cov_1s71amsya3().s[54]++,bitcoinjs_lib_1.taproot.getTapleafHash(noble_ecc_1.ecc,controlBlock,pubScript));const signatureHash=(cov_1s71amsya3().s[55]++,transaction.hashForWitnessV1(inputIndex,prevOutputs.map(({script})=>{cov_1s71amsya3().f[5]++;cov_1s71amsya3().s[56]++;return script;}),prevOutputs.map(({value})=>{cov_1s71amsya3().f[6]++;cov_1s71amsya3().s[57]++;return value;}),hashType,leafHash));const signedBy=(cov_1s71amsya3().s[58]++,publicKeys.filter(k=>{cov_1s71amsya3().f[7]++;cov_1s71amsya3().s[59]++;return(cov_1s71amsya3().b[23][0]++,Buffer.isBuffer(signatureBuffer))&&(cov_1s71amsya3().b[23][1]++,noble_ecc_1.ecc.verifySchnorr(signatureHash,k,signatureBuffer));}));cov_1s71amsya3().s[60]++;if(signedBy.length===0){cov_1s71amsya3().b[24][0]++;cov_1s71amsya3().s[61]++;return{signedBy:undefined,signature:undefined};}else{cov_1s71amsya3().b[24][1]++;}cov_1s71amsya3().s[62]++;if(signedBy.length===1){cov_1s71amsya3().b[25][0]++;cov_1s71amsya3().s[63]++;return{signedBy:signedBy[0],signature:signatureBuffer};}else{cov_1s71amsya3().b[25][1]++;}cov_1s71amsya3().s[64]++;throw new Error(`illegal state: signed by multiple public keys`);}else{cov_1s71amsya3().b[21][1]++;cov_1s71amsya3().s[65]++;if(parsedScript.scriptType==='taprootKeyPathSpend'){cov_1s71amsya3().b[26][0]++;cov_1s71amsya3().s[66]++;if(!prevOutputs){cov_1s71amsya3().b[27][0]++;cov_1s71amsya3().s[67]++;throw new Error(`prevOutputs not set`);}else{cov_1s71amsya3().b[27][1]++;}const signatureHash=(cov_1s71amsya3().s[68]++,transaction.hashForWitnessV1(inputIndex,prevOutputs.map(({script})=>{cov_1s71amsya3().f[8]++;cov_1s71amsya3().s[69]++;return script;}),prevOutputs.map(({value})=>{cov_1s71amsya3().f[9]++;cov_1s71amsya3().s[70]++;return value;}),hashType));const result=(cov_1s71amsya3().s[71]++,noble_ecc_1.ecc.verifySchnorr(signatureHash,publicKeys[0],signatureBuffer));cov_1s71amsya3().s[72]++;return result?(cov_1s71amsya3().b[28][0]++,{signedBy:publicKeys[0],signature:signatureBuffer}):(cov_1s71amsya3().b[28][1]++,{signedBy:undefined,signature:undefined});}else{cov_1s71amsya3().b[26][1]++;// slice the last byte from the signature hash input because it's the hash type
const{signature,hashType}=(cov_1s71amsya3().s[73]++,bitcoinjs_lib_1.ScriptSignature.decode(signatureBuffer));const transactionHash=(cov_1s71amsya3().s[74]++,(cov_1s71amsya3().b[30][0]++,parsedScript.scriptType==='p2shP2wsh')||(cov_1s71amsya3().b[30][1]++,parsedScript.scriptType==='p2wsh')?(cov_1s71amsya3().b[29][0]++,transaction.hashForWitnessV0(inputIndex,parsedScript.pubScript,amount,hashType)):(cov_1s71amsya3().b[29][1]++,transaction.hashForSignatureByNetwork(inputIndex,parsedScript.pubScript,amount,hashType)));const signedBy=(cov_1s71amsya3().s[75]++,publicKeys.filter(publicKey=>{cov_1s71amsya3().f[10]++;cov_1s71amsya3().s[76]++;return noble_ecc_1.ecc.verify(transactionHash,publicKey,signature,/*
              Strict verification (require lower-S value), as required by BIP-0146
              https://github.com/bitcoin/bips/blob/master/bip-0146.mediawiki
              https://github.com/bitcoin-core/secp256k1/blob/ac83be33/include/secp256k1.h#L478-L508
              https://github.com/bitcoinjs/tiny-secp256k1/blob/v1.1.6/js.js#L231-L233
            */true);}));cov_1s71amsya3().s[77]++;if(signedBy.length===0){cov_1s71amsya3().b[31][0]++;cov_1s71amsya3().s[78]++;return{signedBy:undefined,signature:undefined};}else{cov_1s71amsya3().b[31][1]++;}cov_1s71amsya3().s[79]++;if(signedBy.length===1){cov_1s71amsya3().b[32][0]++;cov_1s71amsya3().s[80]++;return{signedBy:signedBy[0],signature:signatureBuffer};}else{cov_1s71amsya3().b[32][1]++;}cov_1s71amsya3().s[81]++;throw new Error(`illegal state: signed by multiple public keys`);}}});}/**
 * @deprecated use {@see verifySignatureWithPublicKeys} instead
 * @param transaction
 * @param inputIndex
 * @param amount
 * @param verificationSettings - if publicKey is specified, returns true iff any signature is signed by publicKey.
 * @param prevOutputs - must be set for p2tr transactions
 */function verifySignature(transaction,inputIndex,amount,verificationSettings=(cov_1s71amsya3().b[33][0]++,{}),prevOutputs){cov_1s71amsya3().f[11]++;const signatureVerifications=(cov_1s71amsya3().s[82]++,getSignatureVerifications(transaction,inputIndex,amount,verificationSettings,prevOutputs).filter(v=>{cov_1s71amsya3().f[12]++;cov_1s71amsya3().s[83]++;return(// If no publicKey is set in verificationSettings, all signatures must be valid.
// Otherwise, a single valid signature by the specified pubkey is sufficient.
(cov_1s71amsya3().b[34][0]++,verificationSettings.publicKey===undefined)||(cov_1s71amsya3().b[34][1]++,v.signedBy!==undefined)&&((cov_1s71amsya3().b[34][2]++,verificationSettings.publicKey.equals(v.signedBy))||(cov_1s71amsya3().b[34][3]++,verificationSettings.publicKey.slice(1).equals(v.signedBy))));}));cov_1s71amsya3().s[84]++;return(cov_1s71amsya3().b[35][0]++,signatureVerifications.length>0)&&(cov_1s71amsya3().b[35][1]++,signatureVerifications.every(v=>{cov_1s71amsya3().f[13]++;cov_1s71amsya3().s[85]++;return v.signedBy!==undefined;}));}/**
 * @param v
 * @param publicKey
 * @return true iff signature is by publicKey (or xonly variant of publicKey)
 */function isSignatureByPublicKey(v,publicKey){cov_1s71amsya3().f[14]++;cov_1s71amsya3().s[86]++;return(cov_1s71amsya3().b[36][0]++,!!v.signedBy)&&((cov_1s71amsya3().b[36][1]++,v.signedBy.equals(publicKey))||(/* for p2tr signatures, we pass the pubkey in 33-byte format recover it from the signature in 32-byte format */(cov_1s71amsya3().b[36][2]++,publicKey.length===33)&&(cov_1s71amsya3().b[36][3]++,isSignatureByPublicKey(v,publicKey.slice(1)))));}/**
 * @param transaction
 * @param inputIndex
 * @param prevOutputs
 * @param publicKeys
 * @return array with signature corresponding to n-th key, undefined if no match found
 */function getSignaturesWithPublicKeys(transaction,inputIndex,prevOutputs,publicKeys){cov_1s71amsya3().f[15]++;cov_1s71amsya3().s[87]++;if(transaction.ins.length!==prevOutputs.length){cov_1s71amsya3().b[37][0]++;cov_1s71amsya3().s[88]++;throw new Error(`input length must match prevOutputs length`);}else{cov_1s71amsya3().b[37][1]++;}const signatureVerifications=(cov_1s71amsya3().s[89]++,getSignatureVerifications(transaction,inputIndex,prevOutputs[inputIndex].value,{},prevOutputs));cov_1s71amsya3().s[90]++;return publicKeys.map(publicKey=>{cov_1s71amsya3().f[16]++;const v=(cov_1s71amsya3().s[91]++,signatureVerifications.find(v=>{cov_1s71amsya3().f[17]++;cov_1s71amsya3().s[92]++;return isSignatureByPublicKey(v,publicKey);}));cov_1s71amsya3().s[93]++;return v?(cov_1s71amsya3().b[38][0]++,v.signature):(cov_1s71amsya3().b[38][1]++,undefined);});}/**
 * @param transaction
 * @param inputIndex
 * @param prevOutputs - transaction outputs for inputs
 * @param publicKeys - public keys to check signatures for
 * @return array of booleans indicating a valid signature for every pubkey in _publicKeys_
 */function verifySignatureWithPublicKeys(transaction,inputIndex,prevOutputs,publicKeys){cov_1s71amsya3().f[18]++;cov_1s71amsya3().s[94]++;return getSignaturesWithPublicKeys(transaction,inputIndex,prevOutputs,publicKeys).map(s=>{cov_1s71amsya3().f[19]++;cov_1s71amsya3().s[95]++;return s!==undefined;});}/**
 * Wrapper for {@see verifySignatureWithPublicKeys} for single pubkey
 * @param transaction
 * @param inputIndex
 * @param prevOutputs
 * @param publicKey
 * @return true iff signature is valid
 */function verifySignatureWithPublicKey(transaction,inputIndex,prevOutputs,publicKey){cov_1s71amsya3().f[20]++;cov_1s71amsya3().s[96]++;return verifySignatureWithPublicKeys(transaction,inputIndex,prevOutputs,[publicKey])[0];}function getDefaultSigHash(network,scriptType){cov_1s71amsya3().f[21]++;cov_1s71amsya3().s[97]++;switch((0,networks_1.getMainnet)(network)){case networks_1.networks.bitcoincash:cov_1s71amsya3().b[39][0]++;case networks_1.networks.bitcoinsv:cov_1s71amsya3().b[39][1]++;case networks_1.networks.bitcoingold:cov_1s71amsya3().b[39][2]++;case networks_1.networks.ecash:cov_1s71amsya3().b[39][3]++;cov_1s71amsya3().s[98]++;return bitcoinjs_lib_1.Transaction.SIGHASH_ALL|UtxoTransaction_1.UtxoTransaction.SIGHASH_FORKID;default:cov_1s71amsya3().b[39][4]++;cov_1s71amsya3().s[99]++;switch(scriptType){case'p2tr':cov_1s71amsya3().b[40][0]++;case'p2trMusig2':cov_1s71amsya3().b[40][1]++;cov_1s71amsya3().s[100]++;return bitcoinjs_lib_1.Transaction.SIGHASH_DEFAULT;default:cov_1s71amsya3().b[40][2]++;cov_1s71amsya3().s[101]++;return bitcoinjs_lib_1.Transaction.SIGHASH_ALL;}}}function signInputP2shP2pk(txBuilder,vin,keyPair){cov_1s71amsya3().f[22]++;const prevOutScriptType=(cov_1s71amsya3().s[102]++,'p2sh-p2pk');const{redeemScript,witnessScript}=(cov_1s71amsya3().s[103]++,(0,outputScripts_1.createOutputScriptP2shP2pk)(keyPair.publicKey));cov_1s71amsya3().s[104]++;keyPair.network=txBuilder.network;cov_1s71amsya3().s[105]++;txBuilder.sign({vin,prevOutScriptType,keyPair,hashType:getDefaultSigHash(txBuilder.network),redeemScript,witnessScript,witnessValue:undefined});}function signInput2Of3(txBuilder,vin,scriptType,pubkeys,keyPair,cosigner,amount){cov_1s71amsya3().f[23]++;let controlBlock;let redeemScript;let witnessScript;const prevOutScriptType=(cov_1s71amsya3().s[106]++,(0,outputScripts_1.scriptType2Of3AsPrevOutType)(scriptType));cov_1s71amsya3().s[107]++;if(scriptType==='p2tr'){cov_1s71amsya3().b[41][0]++;cov_1s71amsya3().s[108]++;({witnessScript,controlBlock}=(0,outputScripts_1.createSpendScriptP2tr)(pubkeys,[keyPair.publicKey,cosigner]));}else{cov_1s71amsya3().b[41][1]++;cov_1s71amsya3().s[109]++;({redeemScript,witnessScript}=(0,outputScripts_1.createOutputScript2of3)(pubkeys,scriptType));}cov_1s71amsya3().s[110]++;keyPair.network=txBuilder.network;cov_1s71amsya3().s[111]++;txBuilder.sign({vin,prevOutScriptType,keyPair,hashType:getDefaultSigHash(txBuilder.network,scriptType),redeemScript,witnessScript,witnessValue:amount,controlBlock});}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYml0Z28vc2lnbmF0dXJlLnRzIiwic291cmNlcyI6WyIvVXNlcnMvcXJvYy9Db2RlL2hhcGkvY2hhaW5kZWZ1c2VyL3V0eG8tbGliL3NyYy9iaXRnby9zaWduYXR1cmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUEyREEsOERBa0tDO0FBVUQsMENBd0JDO0FBdUJELGtFQXNCQztBQVNELHNFQU9DO0FBVUQsb0VBT0M7QUFFRCw4Q0FnQkM7QUFFRCw4Q0FrQkM7QUFFRCxzQ0FnQ0M7QUFuWkQsaURBQWdGO0FBRWhGLHVEQUFvRDtBQUVwRCxtREFReUI7QUFFekIsMENBQTREO0FBQzVELDRDQUE2QztBQUM3Qyw2Q0FBd0Q7QUFDeEQsd0NBQWlEO0FBOEJqRDs7Ozs7Ozs7O0dBU0c7QUFDSCxTQUFnQix5QkFBeUIsQ0FDdkMsV0FBcUMsRUFDckMsVUFBa0IsRUFDbEIsTUFBZSxFQUNmLHVCQUE2QyxFQUFFLEVBQy9DLFdBQWlDO0lBRWpDLDBCQUEwQjtJQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsTUFBTSxLQUFLLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMxQywwQkFBMEI7SUFDMUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1gsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUMvRSxpQ0FBaUM7UUFD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MzJJbnRlcmZhY2UgfSBmcm9tICdiaXAzMic7XG5cbmltcG9ydCB7IFRyYW5zYWN0aW9uLCB0YXByb290LCBUeE91dHB1dCwgU2NyaXB0U2lnbmF0dXJlIH0gZnJvbSAnYml0Y29pbmpzLWxpYic7XG5cbmltcG9ydCB7IFV0eG9UcmFuc2FjdGlvbiB9IGZyb20gJy4vVXR4b1RyYW5zYWN0aW9uJztcbmltcG9ydCB7IFV0eG9UcmFuc2FjdGlvbkJ1aWxkZXIgfSBmcm9tICcuL1V0eG9UcmFuc2FjdGlvbkJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlT3V0cHV0U2NyaXB0Mm9mMyxcbiAgY3JlYXRlT3V0cHV0U2NyaXB0UDJzaFAycGssXG4gIGNyZWF0ZVNwZW5kU2NyaXB0UDJ0cixcbiAgZ2V0T3V0cHV0U2NyaXB0LFxuICBTY3JpcHRUeXBlLFxuICBTY3JpcHRUeXBlMk9mMyxcbiAgc2NyaXB0VHlwZTJPZjNBc1ByZXZPdXRUeXBlLFxufSBmcm9tICcuL291dHB1dFNjcmlwdHMnO1xuaW1wb3J0IHsgVHJpcGxlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRNYWlubmV0LCBOZXR3b3JrLCBuZXR3b3JrcyB9IGZyb20gJy4uL25ldHdvcmtzJztcbmltcG9ydCB7IGVjYyBhcyBlY2NMaWIgfSBmcm9tICcuLi9ub2JsZV9lY2MnO1xuaW1wb3J0IHsgcGFyc2VTaWduYXR1cmVTY3JpcHQyT2YzIH0gZnJvbSAnLi9wYXJzZUlucHV0JztcbmltcG9ydCB7IGdldFRhcHJvb3RPdXRwdXRLZXkgfSBmcm9tICcuLi90YXByb290JztcblxuLyoqXG4gKiBDb25zdHJhaW50cyBmb3Igc2lnbmF0dXJlIHZlcmlmaWNhdGlvbnMuXG4gKiBQYXJhbWV0ZXJzIGFyZSBjb25qdW5jdGl2ZTogaWYgbXVsdGlwbGUgcGFyYW1ldGVycyBhcmUgc2V0LCBhIHZlcmlmaWNhdGlvbiBmb3IgYW4gaW5kaXZpZHVhbFxuICogc2lnbmF0dXJlIG11c3Qgc2F0aXNmeSBhbGwgb2YgdGhlbS5cbiAqL1xuZXhwb3J0IHR5cGUgVmVyaWZpY2F0aW9uU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIHNpZ25hdHVyZSB0byB2ZXJpZnkuIE9ubHkgaXRlcmF0ZXMgb3ZlciBub24tZW1wdHkgc2lnbmF0dXJlcy5cbiAgICovXG4gIHNpZ25hdHVyZUluZGV4PzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHB1YmxpYyBrZXkgdG8gdmVyaWZ5LlxuICAgKi9cbiAgcHVibGljS2V5PzogQnVmZmVyO1xufTtcblxuLyoqXG4gKiBSZXN1bHQgZm9yIGEgaW5kaXZpZHVhbCBzaWduYXR1cmUgdmVyaWZpY2F0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIFNpZ25hdHVyZVZlcmlmaWNhdGlvbiA9XG4gIHwge1xuICAgICAgLyoqIFNldCB0byB0aGUgcHVibGljIGtleSB0aGF0IHNpZ25lZCBmb3IgdGhlIHNpZ25hdHVyZSAqL1xuICAgICAgc2lnbmVkQnk6IEJ1ZmZlcjtcbiAgICAgIC8qKiBTZXQgdG8gdGhlIHNpZ25hdHVyZSBidWZmZXIgKi9cbiAgICAgIHNpZ25hdHVyZTogQnVmZmVyO1xuICAgIH1cbiAgfCB7IHNpZ25lZEJ5OiB1bmRlZmluZWQ7IHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgLSB1c2Uge0BzZWUgdmVyaWZ5U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzfSBpbnN0ZWFkXG4gKiBHZXQgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbnMgZm9yIG11bHRzaWcgdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICogQHBhcmFtIGlucHV0SW5kZXhcbiAqIEBwYXJhbSBhbW91bnQgLSBtdXN0IGJlIHNldCBmb3Igc2Vnd2l0IHRyYW5zYWN0aW9ucyBhbmQgQklQMTQzIHRyYW5zYWN0aW9uc1xuICogQHBhcmFtIHZlcmlmaWNhdGlvblNldHRpbmdzXG4gKiBAcGFyYW0gcHJldk91dHB1dHMgLSBtdXN0IGJlIHNldCBmb3IgcDJ0ciBhbmQgcDJ0ck11c2lnMiB0cmFuc2FjdGlvbnNcbiAqIEByZXR1cm5zIFNpZ25hdHVyZVZlcmlmaWNhdGlvbltdIC0gaW4gb3JkZXIgb2YgcGFyc2VkIG5vbi1lbXB0eSBzaWduYXR1cmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaWduYXR1cmVWZXJpZmljYXRpb25zPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0cmFuc2FjdGlvbjogVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+LFxuICBpbnB1dEluZGV4OiBudW1iZXIsXG4gIGFtb3VudDogVE51bWJlcixcbiAgdmVyaWZpY2F0aW9uU2V0dGluZ3M6IFZlcmlmaWNhdGlvblNldHRpbmdzID0ge30sXG4gIHByZXZPdXRwdXRzPzogVHhPdXRwdXQ8VE51bWJlcj5bXVxuKTogU2lnbmF0dXJlVmVyaWZpY2F0aW9uW10ge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIXRyYW5zYWN0aW9uLmlucykge1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB0cmFuc2FjdGlvbmApO1xuICB9XG5cbiAgY29uc3QgaW5wdXQgPSB0cmFuc2FjdGlvbi5pbnNbaW5wdXRJbmRleF07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghaW5wdXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYG5vIGlucHV0IGF0IGluZGV4ICR7aW5wdXRJbmRleH1gKTtcbiAgfVxuXG4gIGlmICgoIWlucHV0LnNjcmlwdCB8fCBpbnB1dC5zY3JpcHQubGVuZ3RoID09PSAwKSAmJiBpbnB1dC53aXRuZXNzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFVuc2lnbmVkIGlucHV0OiBubyBzaWduYXR1cmVzLlxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZFNjcmlwdCA9IHBhcnNlU2lnbmF0dXJlU2NyaXB0Mk9mMyhpbnB1dCk7XG5cbiAgaWYgKHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAndGFwcm9vdEtleVBhdGhTcGVuZCcgfHwgcGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgPT09ICd0YXByb290U2NyaXB0UGF0aFNwZW5kJykge1xuICAgIGlmIChcbiAgICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAndGFwcm9vdEtleVBhdGhTcGVuZCcgJiZcbiAgICAgICh2ZXJpZmljYXRpb25TZXR0aW5ncy5zaWduYXR1cmVJbmRleCB8fCB2ZXJpZmljYXRpb25TZXR0aW5ncy5wdWJsaWNLZXkpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNpZ25hdHVyZUluZGV4IGFuZCBwdWJsaWNLZXkgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkIGZvciB0YXByb290S2V5UGF0aFNwZW5kYCk7XG4gICAgfVxuXG4gICAgaWYgKHZlcmlmaWNhdGlvblNldHRpbmdzLnNpZ25hdHVyZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc2lnbmF0dXJlSW5kZXggcGFyYW1ldGVyIG5vdCBzdXBwb3J0ZWQgZm9yIHRhcHJvb3RTY3JpcHRQYXRoU3BlbmRgKTtcbiAgICB9XG5cbiAgICBpZiAoIXByZXZPdXRwdXRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIG5vdCBzZXRgKTtcbiAgICB9XG5cbiAgICBpZiAocHJldk91dHB1dHMubGVuZ3RoICE9PSB0cmFuc2FjdGlvbi5pbnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIGxlbmd0aCAke3ByZXZPdXRwdXRzLmxlbmd0aH0sIGV4cGVjdGVkICR7dHJhbnNhY3Rpb24uaW5zLmxlbmd0aH1gKTtcbiAgICB9XG4gIH1cblxuICBpZiAoXG4gICAgcGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgIT09ICd0YXByb290S2V5UGF0aFNwZW5kJyAmJlxuICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlICE9PSAndGFwcm9vdFNjcmlwdFBhdGhTcGVuZCcgJiZcbiAgICBwcmV2T3V0cHV0c1xuICApIHtcbiAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gcHJldk91dHB1dHNbaW5wdXRJbmRleF0uc2NyaXB0O1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gZ2V0T3V0cHV0U2NyaXB0KHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlLCBwYXJzZWRTY3JpcHQucHViU2NyaXB0KTtcbiAgICBpZiAoIXByZXZPdXRTY3JpcHQuZXF1YWxzKG91dHB1dCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYHByZXZvdXQgc2NyaXB0ICR7cHJldk91dFNjcmlwdC50b1N0cmluZygnaGV4Jyl9IGRvZXMgbm90IG1hdGNoIGNvbXB1dGVkIHNjcmlwdCAke291dHB1dC50b1N0cmluZygnaGV4Jyl9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcHVibGljS2V5czogQnVmZmVyW107XG4gIGlmIChwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3RhcHJvb3RLZXlQYXRoU3BlbmQnKSB7XG4gICAgaWYgKCFwcmV2T3V0cHV0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcmV2T3V0cHV0cyBub3Qgc2V0YCk7XG4gICAgfVxuICAgIHB1YmxpY0tleXMgPSBbZ2V0VGFwcm9vdE91dHB1dEtleShwcmV2T3V0cHV0c1tpbnB1dEluZGV4XS5zY3JpcHQpXTtcbiAgfSBlbHNlIHtcbiAgICBwdWJsaWNLZXlzID0gcGFyc2VkU2NyaXB0LnB1YmxpY0tleXMuZmlsdGVyKFxuICAgICAgKGJ1ZikgPT5cbiAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5LmVxdWFscyhidWYpIHx8XG4gICAgICAgIHZlcmlmaWNhdGlvblNldHRpbmdzLnB1YmxpY0tleS5zbGljZSgxKS5lcXVhbHMoYnVmKVxuICAgICk7XG4gIH1cblxuICBjb25zdCBzaWduYXR1cmVzID0gcGFyc2VkU2NyaXB0LnNpZ25hdHVyZXNcbiAgICAuZmlsdGVyKChzKSA9PiBzICYmIHMubGVuZ3RoKVxuICAgIC5maWx0ZXIoKHMsIGkpID0+IHZlcmlmaWNhdGlvblNldHRpbmdzLnNpZ25hdHVyZUluZGV4ID09PSB1bmRlZmluZWQgfHwgdmVyaWZpY2F0aW9uU2V0dGluZ3Muc2lnbmF0dXJlSW5kZXggPT09IGkpO1xuXG4gIHJldHVybiBzaWduYXR1cmVzLm1hcCgoc2lnbmF0dXJlQnVmZmVyKTogU2lnbmF0dXJlVmVyaWZpY2F0aW9uID0+IHtcbiAgICBpZiAoc2lnbmF0dXJlQnVmZmVyID09PSAwIHx8IHNpZ25hdHVyZUJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiB1bmRlZmluZWQsIHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG4gICAgfVxuXG4gICAgbGV0IGhhc2hUeXBlID0gVHJhbnNhY3Rpb24uU0lHSEFTSF9ERUZBVUxUO1xuXG4gICAgaWYgKHNpZ25hdHVyZUJ1ZmZlci5sZW5ndGggPT09IDY1KSB7XG4gICAgICBoYXNoVHlwZSA9IHNpZ25hdHVyZUJ1ZmZlcltzaWduYXR1cmVCdWZmZXIubGVuZ3RoIC0gMV07XG4gICAgICBzaWduYXR1cmVCdWZmZXIgPSBzaWduYXR1cmVCdWZmZXIuc2xpY2UoMCwgLTEpO1xuICAgIH1cblxuICAgIGlmIChwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3RhcHJvb3RTY3JpcHRQYXRoU3BlbmQnKSB7XG4gICAgICBpZiAoIXByZXZPdXRwdXRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcHJldk91dHB1dHMgbm90IHNldGApO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBjb250cm9sQmxvY2ssIHB1YlNjcmlwdCB9ID0gcGFyc2VkU2NyaXB0O1xuICAgICAgY29uc3QgbGVhZkhhc2ggPSB0YXByb290LmdldFRhcGxlYWZIYXNoKGVjY0xpYiwgY29udHJvbEJsb2NrLCBwdWJTY3JpcHQpO1xuICAgICAgY29uc3Qgc2lnbmF0dXJlSGFzaCA9IHRyYW5zYWN0aW9uLmhhc2hGb3JXaXRuZXNzVjEoXG4gICAgICAgIGlucHV0SW5kZXgsXG4gICAgICAgIHByZXZPdXRwdXRzLm1hcCgoeyBzY3JpcHQgfSkgPT4gc2NyaXB0KSxcbiAgICAgICAgcHJldk91dHB1dHMubWFwKCh7IHZhbHVlIH0pID0+IHZhbHVlKSxcbiAgICAgICAgaGFzaFR5cGUsXG4gICAgICAgIGxlYWZIYXNoXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzaWduZWRCeSA9IHB1YmxpY0tleXMuZmlsdGVyKFxuICAgICAgICAoaykgPT4gQnVmZmVyLmlzQnVmZmVyKHNpZ25hdHVyZUJ1ZmZlcikgJiYgZWNjTGliLnZlcmlmeVNjaG5vcnIoc2lnbmF0dXJlSGFzaCwgaywgc2lnbmF0dXJlQnVmZmVyKVxuICAgICAgKTtcblxuICAgICAgaWYgKHNpZ25lZEJ5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyBzaWduZWRCeTogdW5kZWZpbmVkLCBzaWduYXR1cmU6IHVuZGVmaW5lZCB9O1xuICAgICAgfVxuICAgICAgaWYgKHNpZ25lZEJ5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4geyBzaWduZWRCeTogc2lnbmVkQnlbMF0sIHNpZ25hdHVyZTogc2lnbmF0dXJlQnVmZmVyIH07XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGlsbGVnYWwgc3RhdGU6IHNpZ25lZCBieSBtdWx0aXBsZSBwdWJsaWMga2V5c2ApO1xuICAgIH0gZWxzZSBpZiAocGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgPT09ICd0YXByb290S2V5UGF0aFNwZW5kJykge1xuICAgICAgaWYgKCFwcmV2T3V0cHV0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIG5vdCBzZXRgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZ25hdHVyZUhhc2ggPSB0cmFuc2FjdGlvbi5oYXNoRm9yV2l0bmVzc1YxKFxuICAgICAgICBpbnB1dEluZGV4LFxuICAgICAgICBwcmV2T3V0cHV0cy5tYXAoKHsgc2NyaXB0IH0pID0+IHNjcmlwdCksXG4gICAgICAgIHByZXZPdXRwdXRzLm1hcCgoeyB2YWx1ZSB9KSA9PiB2YWx1ZSksXG4gICAgICAgIGhhc2hUeXBlXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZWNjTGliLnZlcmlmeVNjaG5vcnIoc2lnbmF0dXJlSGFzaCwgcHVibGljS2V5c1swXSwgc2lnbmF0dXJlQnVmZmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgPyB7IHNpZ25lZEJ5OiBwdWJsaWNLZXlzWzBdLCBzaWduYXR1cmU6IHNpZ25hdHVyZUJ1ZmZlciB9XG4gICAgICAgIDogeyBzaWduZWRCeTogdW5kZWZpbmVkLCBzaWduYXR1cmU6IHVuZGVmaW5lZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzbGljZSB0aGUgbGFzdCBieXRlIGZyb20gdGhlIHNpZ25hdHVyZSBoYXNoIGlucHV0IGJlY2F1c2UgaXQncyB0aGUgaGFzaCB0eXBlXG4gICAgICBjb25zdCB7IHNpZ25hdHVyZSwgaGFzaFR5cGUgfSA9IFNjcmlwdFNpZ25hdHVyZS5kZWNvZGUoc2lnbmF0dXJlQnVmZmVyKTtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSGFzaCA9XG4gICAgICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAncDJzaFAyd3NoJyB8fCBwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3Ayd3NoJ1xuICAgICAgICAgID8gdHJhbnNhY3Rpb24uaGFzaEZvcldpdG5lc3NWMChpbnB1dEluZGV4LCBwYXJzZWRTY3JpcHQucHViU2NyaXB0LCBhbW91bnQsIGhhc2hUeXBlKVxuICAgICAgICAgIDogdHJhbnNhY3Rpb24uaGFzaEZvclNpZ25hdHVyZUJ5TmV0d29yayhpbnB1dEluZGV4LCBwYXJzZWRTY3JpcHQucHViU2NyaXB0LCBhbW91bnQsIGhhc2hUeXBlKTtcbiAgICAgIGNvbnN0IHNpZ25lZEJ5ID0gcHVibGljS2V5cy5maWx0ZXIoKHB1YmxpY0tleSkgPT5cbiAgICAgICAgZWNjTGliLnZlcmlmeShcbiAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgcHVibGljS2V5LFxuICAgICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgICAvKlxuICAgICAgICAgICAgU3RyaWN0IHZlcmlmaWNhdGlvbiAocmVxdWlyZSBsb3dlci1TIHZhbHVlKSwgYXMgcmVxdWlyZWQgYnkgQklQLTAxNDZcbiAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAxNDYubWVkaWF3aWtpXG4gICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi1jb3JlL3NlY3AyNTZrMS9ibG9iL2FjODNiZTMzL2luY2x1ZGUvc2VjcDI1NmsxLmgjTDQ3OC1MNTA4XG4gICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbmpzL3Rpbnktc2VjcDI1NmsxL2Jsb2IvdjEuMS42L2pzLmpzI0wyMzEtTDIzM1xuICAgICAgICAgICovXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoc2lnbmVkQnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiB1bmRlZmluZWQsIHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG4gICAgICB9XG4gICAgICBpZiAoc2lnbmVkQnkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiBzaWduZWRCeVswXSwgc2lnbmF0dXJlOiBzaWduYXR1cmVCdWZmZXIgfTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgaWxsZWdhbCBzdGF0ZTogc2lnbmVkIGJ5IG11bHRpcGxlIHB1YmxpYyBrZXlzYCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2Uge0BzZWUgdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXN9IGluc3RlYWRcbiAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICogQHBhcmFtIGlucHV0SW5kZXhcbiAqIEBwYXJhbSBhbW91bnRcbiAqIEBwYXJhbSB2ZXJpZmljYXRpb25TZXR0aW5ncyAtIGlmIHB1YmxpY0tleSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdHJ1ZSBpZmYgYW55IHNpZ25hdHVyZSBpcyBzaWduZWQgYnkgcHVibGljS2V5LlxuICogQHBhcmFtIHByZXZPdXRwdXRzIC0gbXVzdCBiZSBzZXQgZm9yIHAydHIgdHJhbnNhY3Rpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmU8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHRyYW5zYWN0aW9uOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4sXG4gIGlucHV0SW5kZXg6IG51bWJlcixcbiAgYW1vdW50OiBUTnVtYmVyLFxuICB2ZXJpZmljYXRpb25TZXR0aW5nczogVmVyaWZpY2F0aW9uU2V0dGluZ3MgPSB7fSxcbiAgcHJldk91dHB1dHM/OiBUeE91dHB1dDxUTnVtYmVyPltdXG4pOiBib29sZWFuIHtcbiAgY29uc3Qgc2lnbmF0dXJlVmVyaWZpY2F0aW9ucyA9IGdldFNpZ25hdHVyZVZlcmlmaWNhdGlvbnMoXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgaW5wdXRJbmRleCxcbiAgICBhbW91bnQsXG4gICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MsXG4gICAgcHJldk91dHB1dHNcbiAgKS5maWx0ZXIoXG4gICAgKHYpID0+XG4gICAgICAvLyBJZiBubyBwdWJsaWNLZXkgaXMgc2V0IGluIHZlcmlmaWNhdGlvblNldHRpbmdzLCBhbGwgc2lnbmF0dXJlcyBtdXN0IGJlIHZhbGlkLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBhIHNpbmdsZSB2YWxpZCBzaWduYXR1cmUgYnkgdGhlIHNwZWNpZmllZCBwdWJrZXkgaXMgc3VmZmljaWVudC5cbiAgICAgIHZlcmlmaWNhdGlvblNldHRpbmdzLnB1YmxpY0tleSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAodi5zaWduZWRCeSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICh2ZXJpZmljYXRpb25TZXR0aW5ncy5wdWJsaWNLZXkuZXF1YWxzKHYuc2lnbmVkQnkpIHx8XG4gICAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5LnNsaWNlKDEpLmVxdWFscyh2LnNpZ25lZEJ5KSkpXG4gICk7XG5cbiAgcmV0dXJuIHNpZ25hdHVyZVZlcmlmaWNhdGlvbnMubGVuZ3RoID4gMCAmJiBzaWduYXR1cmVWZXJpZmljYXRpb25zLmV2ZXJ5KCh2KSA9PiB2LnNpZ25lZEJ5ICE9PSB1bmRlZmluZWQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB2XG4gKiBAcGFyYW0gcHVibGljS2V5XG4gKiBAcmV0dXJuIHRydWUgaWZmIHNpZ25hdHVyZSBpcyBieSBwdWJsaWNLZXkgKG9yIHhvbmx5IHZhcmlhbnQgb2YgcHVibGljS2V5KVxuICovXG5mdW5jdGlvbiBpc1NpZ25hdHVyZUJ5UHVibGljS2V5KHY6IFNpZ25hdHVyZVZlcmlmaWNhdGlvbiwgcHVibGljS2V5OiBCdWZmZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAhIXYuc2lnbmVkQnkgJiZcbiAgICAodi5zaWduZWRCeS5lcXVhbHMocHVibGljS2V5KSB8fFxuICAgICAgLyogZm9yIHAydHIgc2lnbmF0dXJlcywgd2UgcGFzcyB0aGUgcHVia2V5IGluIDMzLWJ5dGUgZm9ybWF0IHJlY292ZXIgaXQgZnJvbSB0aGUgc2lnbmF0dXJlIGluIDMyLWJ5dGUgZm9ybWF0ICovXG4gICAgICAocHVibGljS2V5Lmxlbmd0aCA9PT0gMzMgJiYgaXNTaWduYXR1cmVCeVB1YmxpY0tleSh2LCBwdWJsaWNLZXkuc2xpY2UoMSkpKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSBpbnB1dEluZGV4XG4gKiBAcGFyYW0gcHJldk91dHB1dHNcbiAqIEBwYXJhbSBwdWJsaWNLZXlzXG4gKiBAcmV0dXJuIGFycmF5IHdpdGggc2lnbmF0dXJlIGNvcnJlc3BvbmRpbmcgdG8gbi10aCBrZXksIHVuZGVmaW5lZCBpZiBubyBtYXRjaCBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0cmFuc2FjdGlvbjogVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+LFxuICBpbnB1dEluZGV4OiBudW1iZXIsXG4gIHByZXZPdXRwdXRzOiBUeE91dHB1dDxUTnVtYmVyPltdLFxuICBwdWJsaWNLZXlzOiBCdWZmZXJbXVxuKTogQXJyYXk8QnVmZmVyIHwgdW5kZWZpbmVkPiB7XG4gIGlmICh0cmFuc2FjdGlvbi5pbnMubGVuZ3RoICE9PSBwcmV2T3V0cHV0cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGlucHV0IGxlbmd0aCBtdXN0IG1hdGNoIHByZXZPdXRwdXRzIGxlbmd0aGApO1xuICB9XG5cbiAgY29uc3Qgc2lnbmF0dXJlVmVyaWZpY2F0aW9ucyA9IGdldFNpZ25hdHVyZVZlcmlmaWNhdGlvbnMoXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgaW5wdXRJbmRleCxcbiAgICBwcmV2T3V0cHV0c1tpbnB1dEluZGV4XS52YWx1ZSxcbiAgICB7fSxcbiAgICBwcmV2T3V0cHV0c1xuICApO1xuXG4gIHJldHVybiBwdWJsaWNLZXlzLm1hcCgocHVibGljS2V5KSA9PiB7XG4gICAgY29uc3QgdiA9IHNpZ25hdHVyZVZlcmlmaWNhdGlvbnMuZmluZCgodikgPT4gaXNTaWduYXR1cmVCeVB1YmxpY0tleSh2LCBwdWJsaWNLZXkpKTtcbiAgICByZXR1cm4gdiA/IHYuc2lnbmF0dXJlIDogdW5kZWZpbmVkO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSBpbnB1dEluZGV4XG4gKiBAcGFyYW0gcHJldk91dHB1dHMgLSB0cmFuc2FjdGlvbiBvdXRwdXRzIGZvciBpbnB1dHNcbiAqIEBwYXJhbSBwdWJsaWNLZXlzIC0gcHVibGljIGtleXMgdG8gY2hlY2sgc2lnbmF0dXJlcyBmb3JcbiAqIEByZXR1cm4gYXJyYXkgb2YgYm9vbGVhbnMgaW5kaWNhdGluZyBhIHZhbGlkIHNpZ25hdHVyZSBmb3IgZXZlcnkgcHVia2V5IGluIF9wdWJsaWNLZXlzX1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXM8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHRyYW5zYWN0aW9uOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4sXG4gIGlucHV0SW5kZXg6IG51bWJlcixcbiAgcHJldk91dHB1dHM6IFR4T3V0cHV0PFROdW1iZXI+W10sXG4gIHB1YmxpY0tleXM6IEJ1ZmZlcltdXG4pOiBib29sZWFuW10ge1xuICByZXR1cm4gZ2V0U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzKHRyYW5zYWN0aW9uLCBpbnB1dEluZGV4LCBwcmV2T3V0cHV0cywgcHVibGljS2V5cykubWFwKChzKSA9PiBzICE9PSB1bmRlZmluZWQpO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgZm9yIHtAc2VlIHZlcmlmeVNpZ25hdHVyZVdpdGhQdWJsaWNLZXlzfSBmb3Igc2luZ2xlIHB1YmtleVxuICogQHBhcmFtIHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0gaW5wdXRJbmRleFxuICogQHBhcmFtIHByZXZPdXRwdXRzXG4gKiBAcGFyYW0gcHVibGljS2V5XG4gKiBAcmV0dXJuIHRydWUgaWZmIHNpZ25hdHVyZSBpcyB2YWxpZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleTxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHJhbnNhY3Rpb246IFV0eG9UcmFuc2FjdGlvbjxUTnVtYmVyPixcbiAgaW5wdXRJbmRleDogbnVtYmVyLFxuICBwcmV2T3V0cHV0czogVHhPdXRwdXQ8VE51bWJlcj5bXSxcbiAgcHVibGljS2V5OiBCdWZmZXJcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXModHJhbnNhY3Rpb24sIGlucHV0SW5kZXgsIHByZXZPdXRwdXRzLCBbcHVibGljS2V5XSlbMF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0U2lnSGFzaChuZXR3b3JrOiBOZXR3b3JrLCBzY3JpcHRUeXBlPzogU2NyaXB0VHlwZSk6IG51bWJlciB7XG4gIHN3aXRjaCAoZ2V0TWFpbm5ldChuZXR3b3JrKSkge1xuICAgIGNhc2UgbmV0d29ya3MuYml0Y29pbmNhc2g6XG4gICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luc3Y6XG4gICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luZ29sZDpcbiAgICBjYXNlIG5ldHdvcmtzLmVjYXNoOlxuICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMIHwgVXR4b1RyYW5zYWN0aW9uLlNJR0hBU0hfRk9SS0lEO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHNjcmlwdFR5cGUpIHtcbiAgICAgICAgY2FzZSAncDJ0cic6XG4gICAgICAgIGNhc2UgJ3AydHJNdXNpZzInOlxuICAgICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5TSUdIQVNIX0RFRkFVTFQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMO1xuICAgICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW5wdXRQMnNoUDJwazxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHhCdWlsZGVyOiBVdHhvVHJhbnNhY3Rpb25CdWlsZGVyPFROdW1iZXI+LFxuICB2aW46IG51bWJlcixcbiAga2V5UGFpcjogQklQMzJJbnRlcmZhY2Vcbik6IHZvaWQge1xuICBjb25zdCBwcmV2T3V0U2NyaXB0VHlwZSA9ICdwMnNoLXAycGsnO1xuICBjb25zdCB7IHJlZGVlbVNjcmlwdCwgd2l0bmVzc1NjcmlwdCB9ID0gY3JlYXRlT3V0cHV0U2NyaXB0UDJzaFAycGsoa2V5UGFpci5wdWJsaWNLZXkpO1xuICBrZXlQYWlyLm5ldHdvcmsgPSB0eEJ1aWxkZXIubmV0d29yaztcblxuICB0eEJ1aWxkZXIuc2lnbih7XG4gICAgdmluLFxuICAgIHByZXZPdXRTY3JpcHRUeXBlLFxuICAgIGtleVBhaXIsXG4gICAgaGFzaFR5cGU6IGdldERlZmF1bHRTaWdIYXNoKHR4QnVpbGRlci5uZXR3b3JrIGFzIE5ldHdvcmspLFxuICAgIHJlZGVlbVNjcmlwdCxcbiAgICB3aXRuZXNzU2NyaXB0LFxuICAgIHdpdG5lc3NWYWx1ZTogdW5kZWZpbmVkLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbnB1dDJPZjM8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHR4QnVpbGRlcjogVXR4b1RyYW5zYWN0aW9uQnVpbGRlcjxUTnVtYmVyPixcbiAgdmluOiBudW1iZXIsXG4gIHNjcmlwdFR5cGU6IFNjcmlwdFR5cGUyT2YzLFxuICBwdWJrZXlzOiBUcmlwbGU8QnVmZmVyPixcbiAga2V5UGFpcjogQklQMzJJbnRlcmZhY2UsXG4gIGNvc2lnbmVyOiBCdWZmZXIsXG4gIGFtb3VudDogVE51bWJlclxuKTogdm9pZCB7XG4gIGxldCBjb250cm9sQmxvY2s7XG4gIGxldCByZWRlZW1TY3JpcHQ7XG4gIGxldCB3aXRuZXNzU2NyaXB0O1xuXG4gIGNvbnN0IHByZXZPdXRTY3JpcHRUeXBlID0gc2NyaXB0VHlwZTJPZjNBc1ByZXZPdXRUeXBlKHNjcmlwdFR5cGUpO1xuICBpZiAoc2NyaXB0VHlwZSA9PT0gJ3AydHInKSB7XG4gICAgKHsgd2l0bmVzc1NjcmlwdCwgY29udHJvbEJsb2NrIH0gPSBjcmVhdGVTcGVuZFNjcmlwdFAydHIocHVia2V5cywgW2tleVBhaXIucHVibGljS2V5LCBjb3NpZ25lcl0pKTtcbiAgfSBlbHNlIHtcbiAgICAoeyByZWRlZW1TY3JpcHQsIHdpdG5lc3NTY3JpcHQgfSA9IGNyZWF0ZU91dHB1dFNjcmlwdDJvZjMocHVia2V5cywgc2NyaXB0VHlwZSkpO1xuICB9XG5cbiAga2V5UGFpci5uZXR3b3JrID0gdHhCdWlsZGVyLm5ldHdvcms7XG5cbiAgdHhCdWlsZGVyLnNpZ24oe1xuICAgIHZpbixcbiAgICBwcmV2T3V0U2NyaXB0VHlwZSxcbiAgICBrZXlQYWlyLFxuICAgIGhhc2hUeXBlOiBnZXREZWZhdWx0U2lnSGFzaCh0eEJ1aWxkZXIubmV0d29yayBhcyBOZXR3b3JrLCBzY3JpcHRUeXBlKSxcbiAgICByZWRlZW1TY3JpcHQsXG4gICAgd2l0bmVzc1NjcmlwdCxcbiAgICB3aXRuZXNzVmFsdWU6IGFtb3VudCxcbiAgICBjb250cm9sQmxvY2ssXG4gIH0pO1xufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXM3MWFtc3lhMyIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cG9ydHMiLCJnZXRTaWduYXR1cmVWZXJpZmljYXRpb25zIiwidmVyaWZ5U2lnbmF0dXJlIiwiZ2V0U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzIiwidmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXMiLCJ2ZXJpZnlTaWduYXR1cmVXaXRoUHVibGljS2V5IiwiZ2V0RGVmYXVsdFNpZ0hhc2giLCJzaWduSW5wdXRQMnNoUDJwayIsInNpZ25JbnB1dDJPZjMiLCJiaXRjb2luanNfbGliXzEiLCJyZXF1aXJlIiwiVXR4b1RyYW5zYWN0aW9uXzEiLCJvdXRwdXRTY3JpcHRzXzEiLCJuZXR3b3Jrc18xIiwibm9ibGVfZWNjXzEiLCJwYXJzZUlucHV0XzEiLCJ0YXByb290XzEiLCJ0cmFuc2FjdGlvbiIsImlucHV0SW5kZXgiLCJhbW91bnQiLCJ2ZXJpZmljYXRpb25TZXR0aW5ncyIsImIiLCJwcmV2T3V0cHV0cyIsImYiLCJpbnMiLCJFcnJvciIsImlucHV0Iiwic2NyaXB0IiwibGVuZ3RoIiwid2l0bmVzcyIsInBhcnNlZFNjcmlwdCIsInBhcnNlU2lnbmF0dXJlU2NyaXB0Mk9mMyIsInNjcmlwdFR5cGUiLCJzaWduYXR1cmVJbmRleCIsInB1YmxpY0tleSIsInVuZGVmaW5lZCIsInByZXZPdXRTY3JpcHQiLCJvdXRwdXQiLCJnZXRPdXRwdXRTY3JpcHQiLCJwdWJTY3JpcHQiLCJlcXVhbHMiLCJ0b1N0cmluZyIsInB1YmxpY0tleXMiLCJnZXRUYXByb290T3V0cHV0S2V5IiwiZmlsdGVyIiwiYnVmIiwic2xpY2UiLCJzaWduYXR1cmVzIiwiaSIsIm1hcCIsInNpZ25hdHVyZUJ1ZmZlciIsInNpZ25lZEJ5Iiwic2lnbmF0dXJlIiwiaGFzaFR5cGUiLCJUcmFuc2FjdGlvbiIsIlNJR0hBU0hfREVGQVVMVCIsImNvbnRyb2xCbG9jayIsImxlYWZIYXNoIiwidGFwcm9vdCIsImdldFRhcGxlYWZIYXNoIiwiZWNjIiwic2lnbmF0dXJlSGFzaCIsImhhc2hGb3JXaXRuZXNzVjEiLCJ2YWx1ZSIsImsiLCJCdWZmZXIiLCJpc0J1ZmZlciIsInZlcmlmeVNjaG5vcnIiLCJyZXN1bHQiLCJTY3JpcHRTaWduYXR1cmUiLCJkZWNvZGUiLCJ0cmFuc2FjdGlvbkhhc2giLCJoYXNoRm9yV2l0bmVzc1YwIiwiaGFzaEZvclNpZ25hdHVyZUJ5TmV0d29yayIsInZlcmlmeSIsInNpZ25hdHVyZVZlcmlmaWNhdGlvbnMiLCJ2IiwiZXZlcnkiLCJpc1NpZ25hdHVyZUJ5UHVibGljS2V5IiwiZmluZCIsIm5ldHdvcmsiLCJnZXRNYWlubmV0IiwibmV0d29ya3MiLCJiaXRjb2luY2FzaCIsImJpdGNvaW5zdiIsImJpdGNvaW5nb2xkIiwiZWNhc2giLCJTSUdIQVNIX0FMTCIsIlV0eG9UcmFuc2FjdGlvbiIsIlNJR0hBU0hfRk9SS0lEIiwidHhCdWlsZGVyIiwidmluIiwia2V5UGFpciIsInByZXZPdXRTY3JpcHRUeXBlIiwicmVkZWVtU2NyaXB0Iiwid2l0bmVzc1NjcmlwdCIsImNyZWF0ZU91dHB1dFNjcmlwdFAyc2hQMnBrIiwic2lnbiIsIndpdG5lc3NWYWx1ZSIsInB1YmtleXMiLCJjb3NpZ25lciIsInNjcmlwdFR5cGUyT2YzQXNQcmV2T3V0VHlwZSIsImNyZWF0ZVNwZW5kU2NyaXB0UDJ0ciIsImNyZWF0ZU91dHB1dFNjcmlwdDJvZjMiXSwic291cmNlcyI6WyIvVXNlcnMvcXJvYy9Db2RlL2hhcGkvY2hhaW5kZWZ1c2VyL3V0eG8tbGliL3NyYy9iaXRnby9zaWduYXR1cmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQklQMzJJbnRlcmZhY2UgfSBmcm9tICdiaXAzMic7XG5cbmltcG9ydCB7IFRyYW5zYWN0aW9uLCB0YXByb290LCBUeE91dHB1dCwgU2NyaXB0U2lnbmF0dXJlIH0gZnJvbSAnYml0Y29pbmpzLWxpYic7XG5cbmltcG9ydCB7IFV0eG9UcmFuc2FjdGlvbiB9IGZyb20gJy4vVXR4b1RyYW5zYWN0aW9uJztcbmltcG9ydCB7IFV0eG9UcmFuc2FjdGlvbkJ1aWxkZXIgfSBmcm9tICcuL1V0eG9UcmFuc2FjdGlvbkJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlT3V0cHV0U2NyaXB0Mm9mMyxcbiAgY3JlYXRlT3V0cHV0U2NyaXB0UDJzaFAycGssXG4gIGNyZWF0ZVNwZW5kU2NyaXB0UDJ0cixcbiAgZ2V0T3V0cHV0U2NyaXB0LFxuICBTY3JpcHRUeXBlLFxuICBTY3JpcHRUeXBlMk9mMyxcbiAgc2NyaXB0VHlwZTJPZjNBc1ByZXZPdXRUeXBlLFxufSBmcm9tICcuL291dHB1dFNjcmlwdHMnO1xuaW1wb3J0IHsgVHJpcGxlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRNYWlubmV0LCBOZXR3b3JrLCBuZXR3b3JrcyB9IGZyb20gJy4uL25ldHdvcmtzJztcbmltcG9ydCB7IGVjYyBhcyBlY2NMaWIgfSBmcm9tICcuLi9ub2JsZV9lY2MnO1xuaW1wb3J0IHsgcGFyc2VTaWduYXR1cmVTY3JpcHQyT2YzIH0gZnJvbSAnLi9wYXJzZUlucHV0JztcbmltcG9ydCB7IGdldFRhcHJvb3RPdXRwdXRLZXkgfSBmcm9tICcuLi90YXByb290JztcblxuLyoqXG4gKiBDb25zdHJhaW50cyBmb3Igc2lnbmF0dXJlIHZlcmlmaWNhdGlvbnMuXG4gKiBQYXJhbWV0ZXJzIGFyZSBjb25qdW5jdGl2ZTogaWYgbXVsdGlwbGUgcGFyYW1ldGVycyBhcmUgc2V0LCBhIHZlcmlmaWNhdGlvbiBmb3IgYW4gaW5kaXZpZHVhbFxuICogc2lnbmF0dXJlIG11c3Qgc2F0aXNmeSBhbGwgb2YgdGhlbS5cbiAqL1xuZXhwb3J0IHR5cGUgVmVyaWZpY2F0aW9uU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBUaGUgaW5kZXggb2YgdGhlIHNpZ25hdHVyZSB0byB2ZXJpZnkuIE9ubHkgaXRlcmF0ZXMgb3ZlciBub24tZW1wdHkgc2lnbmF0dXJlcy5cbiAgICovXG4gIHNpZ25hdHVyZUluZGV4PzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHB1YmxpYyBrZXkgdG8gdmVyaWZ5LlxuICAgKi9cbiAgcHVibGljS2V5PzogQnVmZmVyO1xufTtcblxuLyoqXG4gKiBSZXN1bHQgZm9yIGEgaW5kaXZpZHVhbCBzaWduYXR1cmUgdmVyaWZpY2F0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIFNpZ25hdHVyZVZlcmlmaWNhdGlvbiA9XG4gIHwge1xuICAgICAgLyoqIFNldCB0byB0aGUgcHVibGljIGtleSB0aGF0IHNpZ25lZCBmb3IgdGhlIHNpZ25hdHVyZSAqL1xuICAgICAgc2lnbmVkQnk6IEJ1ZmZlcjtcbiAgICAgIC8qKiBTZXQgdG8gdGhlIHNpZ25hdHVyZSBidWZmZXIgKi9cbiAgICAgIHNpZ25hdHVyZTogQnVmZmVyO1xuICAgIH1cbiAgfCB7IHNpZ25lZEJ5OiB1bmRlZmluZWQ7IHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgLSB1c2Uge0BzZWUgdmVyaWZ5U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzfSBpbnN0ZWFkXG4gKiBHZXQgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbnMgZm9yIG11bHRzaWcgdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICogQHBhcmFtIGlucHV0SW5kZXhcbiAqIEBwYXJhbSBhbW91bnQgLSBtdXN0IGJlIHNldCBmb3Igc2Vnd2l0IHRyYW5zYWN0aW9ucyBhbmQgQklQMTQzIHRyYW5zYWN0aW9uc1xuICogQHBhcmFtIHZlcmlmaWNhdGlvblNldHRpbmdzXG4gKiBAcGFyYW0gcHJldk91dHB1dHMgLSBtdXN0IGJlIHNldCBmb3IgcDJ0ciBhbmQgcDJ0ck11c2lnMiB0cmFuc2FjdGlvbnNcbiAqIEByZXR1cm5zIFNpZ25hdHVyZVZlcmlmaWNhdGlvbltdIC0gaW4gb3JkZXIgb2YgcGFyc2VkIG5vbi1lbXB0eSBzaWduYXR1cmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaWduYXR1cmVWZXJpZmljYXRpb25zPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0cmFuc2FjdGlvbjogVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+LFxuICBpbnB1dEluZGV4OiBudW1iZXIsXG4gIGFtb3VudDogVE51bWJlcixcbiAgdmVyaWZpY2F0aW9uU2V0dGluZ3M6IFZlcmlmaWNhdGlvblNldHRpbmdzID0ge30sXG4gIHByZXZPdXRwdXRzPzogVHhPdXRwdXQ8VE51bWJlcj5bXVxuKTogU2lnbmF0dXJlVmVyaWZpY2F0aW9uW10ge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIXRyYW5zYWN0aW9uLmlucykge1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB0cmFuc2FjdGlvbmApO1xuICB9XG5cbiAgY29uc3QgaW5wdXQgPSB0cmFuc2FjdGlvbi5pbnNbaW5wdXRJbmRleF07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghaW5wdXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYG5vIGlucHV0IGF0IGluZGV4ICR7aW5wdXRJbmRleH1gKTtcbiAgfVxuXG4gIGlmICgoIWlucHV0LnNjcmlwdCB8fCBpbnB1dC5zY3JpcHQubGVuZ3RoID09PSAwKSAmJiBpbnB1dC53aXRuZXNzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFVuc2lnbmVkIGlucHV0OiBubyBzaWduYXR1cmVzLlxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZFNjcmlwdCA9IHBhcnNlU2lnbmF0dXJlU2NyaXB0Mk9mMyhpbnB1dCk7XG5cbiAgaWYgKHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAndGFwcm9vdEtleVBhdGhTcGVuZCcgfHwgcGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgPT09ICd0YXByb290U2NyaXB0UGF0aFNwZW5kJykge1xuICAgIGlmIChcbiAgICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAndGFwcm9vdEtleVBhdGhTcGVuZCcgJiZcbiAgICAgICh2ZXJpZmljYXRpb25TZXR0aW5ncy5zaWduYXR1cmVJbmRleCB8fCB2ZXJpZmljYXRpb25TZXR0aW5ncy5wdWJsaWNLZXkpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHNpZ25hdHVyZUluZGV4IGFuZCBwdWJsaWNLZXkgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkIGZvciB0YXByb290S2V5UGF0aFNwZW5kYCk7XG4gICAgfVxuXG4gICAgaWYgKHZlcmlmaWNhdGlvblNldHRpbmdzLnNpZ25hdHVyZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc2lnbmF0dXJlSW5kZXggcGFyYW1ldGVyIG5vdCBzdXBwb3J0ZWQgZm9yIHRhcHJvb3RTY3JpcHRQYXRoU3BlbmRgKTtcbiAgICB9XG5cbiAgICBpZiAoIXByZXZPdXRwdXRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIG5vdCBzZXRgKTtcbiAgICB9XG5cbiAgICBpZiAocHJldk91dHB1dHMubGVuZ3RoICE9PSB0cmFuc2FjdGlvbi5pbnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIGxlbmd0aCAke3ByZXZPdXRwdXRzLmxlbmd0aH0sIGV4cGVjdGVkICR7dHJhbnNhY3Rpb24uaW5zLmxlbmd0aH1gKTtcbiAgICB9XG4gIH1cblxuICBpZiAoXG4gICAgcGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgIT09ICd0YXByb290S2V5UGF0aFNwZW5kJyAmJlxuICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlICE9PSAndGFwcm9vdFNjcmlwdFBhdGhTcGVuZCcgJiZcbiAgICBwcmV2T3V0cHV0c1xuICApIHtcbiAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gcHJldk91dHB1dHNbaW5wdXRJbmRleF0uc2NyaXB0O1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gZ2V0T3V0cHV0U2NyaXB0KHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlLCBwYXJzZWRTY3JpcHQucHViU2NyaXB0KTtcbiAgICBpZiAoIXByZXZPdXRTY3JpcHQuZXF1YWxzKG91dHB1dCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYHByZXZvdXQgc2NyaXB0ICR7cHJldk91dFNjcmlwdC50b1N0cmluZygnaGV4Jyl9IGRvZXMgbm90IG1hdGNoIGNvbXB1dGVkIHNjcmlwdCAke291dHB1dC50b1N0cmluZygnaGV4Jyl9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcHVibGljS2V5czogQnVmZmVyW107XG4gIGlmIChwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3RhcHJvb3RLZXlQYXRoU3BlbmQnKSB7XG4gICAgaWYgKCFwcmV2T3V0cHV0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcmV2T3V0cHV0cyBub3Qgc2V0YCk7XG4gICAgfVxuICAgIHB1YmxpY0tleXMgPSBbZ2V0VGFwcm9vdE91dHB1dEtleShwcmV2T3V0cHV0c1tpbnB1dEluZGV4XS5zY3JpcHQpXTtcbiAgfSBlbHNlIHtcbiAgICBwdWJsaWNLZXlzID0gcGFyc2VkU2NyaXB0LnB1YmxpY0tleXMuZmlsdGVyKFxuICAgICAgKGJ1ZikgPT5cbiAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5LmVxdWFscyhidWYpIHx8XG4gICAgICAgIHZlcmlmaWNhdGlvblNldHRpbmdzLnB1YmxpY0tleS5zbGljZSgxKS5lcXVhbHMoYnVmKVxuICAgICk7XG4gIH1cblxuICBjb25zdCBzaWduYXR1cmVzID0gcGFyc2VkU2NyaXB0LnNpZ25hdHVyZXNcbiAgICAuZmlsdGVyKChzKSA9PiBzICYmIHMubGVuZ3RoKVxuICAgIC5maWx0ZXIoKHMsIGkpID0+IHZlcmlmaWNhdGlvblNldHRpbmdzLnNpZ25hdHVyZUluZGV4ID09PSB1bmRlZmluZWQgfHwgdmVyaWZpY2F0aW9uU2V0dGluZ3Muc2lnbmF0dXJlSW5kZXggPT09IGkpO1xuXG4gIHJldHVybiBzaWduYXR1cmVzLm1hcCgoc2lnbmF0dXJlQnVmZmVyKTogU2lnbmF0dXJlVmVyaWZpY2F0aW9uID0+IHtcbiAgICBpZiAoc2lnbmF0dXJlQnVmZmVyID09PSAwIHx8IHNpZ25hdHVyZUJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiB1bmRlZmluZWQsIHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG4gICAgfVxuXG4gICAgbGV0IGhhc2hUeXBlID0gVHJhbnNhY3Rpb24uU0lHSEFTSF9ERUZBVUxUO1xuXG4gICAgaWYgKHNpZ25hdHVyZUJ1ZmZlci5sZW5ndGggPT09IDY1KSB7XG4gICAgICBoYXNoVHlwZSA9IHNpZ25hdHVyZUJ1ZmZlcltzaWduYXR1cmVCdWZmZXIubGVuZ3RoIC0gMV07XG4gICAgICBzaWduYXR1cmVCdWZmZXIgPSBzaWduYXR1cmVCdWZmZXIuc2xpY2UoMCwgLTEpO1xuICAgIH1cblxuICAgIGlmIChwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3RhcHJvb3RTY3JpcHRQYXRoU3BlbmQnKSB7XG4gICAgICBpZiAoIXByZXZPdXRwdXRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcHJldk91dHB1dHMgbm90IHNldGApO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBjb250cm9sQmxvY2ssIHB1YlNjcmlwdCB9ID0gcGFyc2VkU2NyaXB0O1xuICAgICAgY29uc3QgbGVhZkhhc2ggPSB0YXByb290LmdldFRhcGxlYWZIYXNoKGVjY0xpYiwgY29udHJvbEJsb2NrLCBwdWJTY3JpcHQpO1xuICAgICAgY29uc3Qgc2lnbmF0dXJlSGFzaCA9IHRyYW5zYWN0aW9uLmhhc2hGb3JXaXRuZXNzVjEoXG4gICAgICAgIGlucHV0SW5kZXgsXG4gICAgICAgIHByZXZPdXRwdXRzLm1hcCgoeyBzY3JpcHQgfSkgPT4gc2NyaXB0KSxcbiAgICAgICAgcHJldk91dHB1dHMubWFwKCh7IHZhbHVlIH0pID0+IHZhbHVlKSxcbiAgICAgICAgaGFzaFR5cGUsXG4gICAgICAgIGxlYWZIYXNoXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzaWduZWRCeSA9IHB1YmxpY0tleXMuZmlsdGVyKFxuICAgICAgICAoaykgPT4gQnVmZmVyLmlzQnVmZmVyKHNpZ25hdHVyZUJ1ZmZlcikgJiYgZWNjTGliLnZlcmlmeVNjaG5vcnIoc2lnbmF0dXJlSGFzaCwgaywgc2lnbmF0dXJlQnVmZmVyKVxuICAgICAgKTtcblxuICAgICAgaWYgKHNpZ25lZEJ5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyBzaWduZWRCeTogdW5kZWZpbmVkLCBzaWduYXR1cmU6IHVuZGVmaW5lZCB9O1xuICAgICAgfVxuICAgICAgaWYgKHNpZ25lZEJ5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4geyBzaWduZWRCeTogc2lnbmVkQnlbMF0sIHNpZ25hdHVyZTogc2lnbmF0dXJlQnVmZmVyIH07XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGlsbGVnYWwgc3RhdGU6IHNpZ25lZCBieSBtdWx0aXBsZSBwdWJsaWMga2V5c2ApO1xuICAgIH0gZWxzZSBpZiAocGFyc2VkU2NyaXB0LnNjcmlwdFR5cGUgPT09ICd0YXByb290S2V5UGF0aFNwZW5kJykge1xuICAgICAgaWYgKCFwcmV2T3V0cHV0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZPdXRwdXRzIG5vdCBzZXRgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZ25hdHVyZUhhc2ggPSB0cmFuc2FjdGlvbi5oYXNoRm9yV2l0bmVzc1YxKFxuICAgICAgICBpbnB1dEluZGV4LFxuICAgICAgICBwcmV2T3V0cHV0cy5tYXAoKHsgc2NyaXB0IH0pID0+IHNjcmlwdCksXG4gICAgICAgIHByZXZPdXRwdXRzLm1hcCgoeyB2YWx1ZSB9KSA9PiB2YWx1ZSksXG4gICAgICAgIGhhc2hUeXBlXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZWNjTGliLnZlcmlmeVNjaG5vcnIoc2lnbmF0dXJlSGFzaCwgcHVibGljS2V5c1swXSwgc2lnbmF0dXJlQnVmZmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgPyB7IHNpZ25lZEJ5OiBwdWJsaWNLZXlzWzBdLCBzaWduYXR1cmU6IHNpZ25hdHVyZUJ1ZmZlciB9XG4gICAgICAgIDogeyBzaWduZWRCeTogdW5kZWZpbmVkLCBzaWduYXR1cmU6IHVuZGVmaW5lZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzbGljZSB0aGUgbGFzdCBieXRlIGZyb20gdGhlIHNpZ25hdHVyZSBoYXNoIGlucHV0IGJlY2F1c2UgaXQncyB0aGUgaGFzaCB0eXBlXG4gICAgICBjb25zdCB7IHNpZ25hdHVyZSwgaGFzaFR5cGUgfSA9IFNjcmlwdFNpZ25hdHVyZS5kZWNvZGUoc2lnbmF0dXJlQnVmZmVyKTtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSGFzaCA9XG4gICAgICAgIHBhcnNlZFNjcmlwdC5zY3JpcHRUeXBlID09PSAncDJzaFAyd3NoJyB8fCBwYXJzZWRTY3JpcHQuc2NyaXB0VHlwZSA9PT0gJ3Ayd3NoJ1xuICAgICAgICAgID8gdHJhbnNhY3Rpb24uaGFzaEZvcldpdG5lc3NWMChpbnB1dEluZGV4LCBwYXJzZWRTY3JpcHQucHViU2NyaXB0LCBhbW91bnQsIGhhc2hUeXBlKVxuICAgICAgICAgIDogdHJhbnNhY3Rpb24uaGFzaEZvclNpZ25hdHVyZUJ5TmV0d29yayhpbnB1dEluZGV4LCBwYXJzZWRTY3JpcHQucHViU2NyaXB0LCBhbW91bnQsIGhhc2hUeXBlKTtcbiAgICAgIGNvbnN0IHNpZ25lZEJ5ID0gcHVibGljS2V5cy5maWx0ZXIoKHB1YmxpY0tleSkgPT5cbiAgICAgICAgZWNjTGliLnZlcmlmeShcbiAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgcHVibGljS2V5LFxuICAgICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgICAvKlxuICAgICAgICAgICAgU3RyaWN0IHZlcmlmaWNhdGlvbiAocmVxdWlyZSBsb3dlci1TIHZhbHVlKSwgYXMgcmVxdWlyZWQgYnkgQklQLTAxNDZcbiAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAxNDYubWVkaWF3aWtpXG4gICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi1jb3JlL3NlY3AyNTZrMS9ibG9iL2FjODNiZTMzL2luY2x1ZGUvc2VjcDI1NmsxLmgjTDQ3OC1MNTA4XG4gICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbmpzL3Rpbnktc2VjcDI1NmsxL2Jsb2IvdjEuMS42L2pzLmpzI0wyMzEtTDIzM1xuICAgICAgICAgICovXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoc2lnbmVkQnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiB1bmRlZmluZWQsIHNpZ25hdHVyZTogdW5kZWZpbmVkIH07XG4gICAgICB9XG4gICAgICBpZiAoc2lnbmVkQnkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7IHNpZ25lZEJ5OiBzaWduZWRCeVswXSwgc2lnbmF0dXJlOiBzaWduYXR1cmVCdWZmZXIgfTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgaWxsZWdhbCBzdGF0ZTogc2lnbmVkIGJ5IG11bHRpcGxlIHB1YmxpYyBrZXlzYCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2Uge0BzZWUgdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXN9IGluc3RlYWRcbiAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICogQHBhcmFtIGlucHV0SW5kZXhcbiAqIEBwYXJhbSBhbW91bnRcbiAqIEBwYXJhbSB2ZXJpZmljYXRpb25TZXR0aW5ncyAtIGlmIHB1YmxpY0tleSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdHJ1ZSBpZmYgYW55IHNpZ25hdHVyZSBpcyBzaWduZWQgYnkgcHVibGljS2V5LlxuICogQHBhcmFtIHByZXZPdXRwdXRzIC0gbXVzdCBiZSBzZXQgZm9yIHAydHIgdHJhbnNhY3Rpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmU8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHRyYW5zYWN0aW9uOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4sXG4gIGlucHV0SW5kZXg6IG51bWJlcixcbiAgYW1vdW50OiBUTnVtYmVyLFxuICB2ZXJpZmljYXRpb25TZXR0aW5nczogVmVyaWZpY2F0aW9uU2V0dGluZ3MgPSB7fSxcbiAgcHJldk91dHB1dHM/OiBUeE91dHB1dDxUTnVtYmVyPltdXG4pOiBib29sZWFuIHtcbiAgY29uc3Qgc2lnbmF0dXJlVmVyaWZpY2F0aW9ucyA9IGdldFNpZ25hdHVyZVZlcmlmaWNhdGlvbnMoXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgaW5wdXRJbmRleCxcbiAgICBhbW91bnQsXG4gICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MsXG4gICAgcHJldk91dHB1dHNcbiAgKS5maWx0ZXIoXG4gICAgKHYpID0+XG4gICAgICAvLyBJZiBubyBwdWJsaWNLZXkgaXMgc2V0IGluIHZlcmlmaWNhdGlvblNldHRpbmdzLCBhbGwgc2lnbmF0dXJlcyBtdXN0IGJlIHZhbGlkLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBhIHNpbmdsZSB2YWxpZCBzaWduYXR1cmUgYnkgdGhlIHNwZWNpZmllZCBwdWJrZXkgaXMgc3VmZmljaWVudC5cbiAgICAgIHZlcmlmaWNhdGlvblNldHRpbmdzLnB1YmxpY0tleSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAodi5zaWduZWRCeSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICh2ZXJpZmljYXRpb25TZXR0aW5ncy5wdWJsaWNLZXkuZXF1YWxzKHYuc2lnbmVkQnkpIHx8XG4gICAgICAgICAgdmVyaWZpY2F0aW9uU2V0dGluZ3MucHVibGljS2V5LnNsaWNlKDEpLmVxdWFscyh2LnNpZ25lZEJ5KSkpXG4gICk7XG5cbiAgcmV0dXJuIHNpZ25hdHVyZVZlcmlmaWNhdGlvbnMubGVuZ3RoID4gMCAmJiBzaWduYXR1cmVWZXJpZmljYXRpb25zLmV2ZXJ5KCh2KSA9PiB2LnNpZ25lZEJ5ICE9PSB1bmRlZmluZWQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB2XG4gKiBAcGFyYW0gcHVibGljS2V5XG4gKiBAcmV0dXJuIHRydWUgaWZmIHNpZ25hdHVyZSBpcyBieSBwdWJsaWNLZXkgKG9yIHhvbmx5IHZhcmlhbnQgb2YgcHVibGljS2V5KVxuICovXG5mdW5jdGlvbiBpc1NpZ25hdHVyZUJ5UHVibGljS2V5KHY6IFNpZ25hdHVyZVZlcmlmaWNhdGlvbiwgcHVibGljS2V5OiBCdWZmZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAhIXYuc2lnbmVkQnkgJiZcbiAgICAodi5zaWduZWRCeS5lcXVhbHMocHVibGljS2V5KSB8fFxuICAgICAgLyogZm9yIHAydHIgc2lnbmF0dXJlcywgd2UgcGFzcyB0aGUgcHVia2V5IGluIDMzLWJ5dGUgZm9ybWF0IHJlY292ZXIgaXQgZnJvbSB0aGUgc2lnbmF0dXJlIGluIDMyLWJ5dGUgZm9ybWF0ICovXG4gICAgICAocHVibGljS2V5Lmxlbmd0aCA9PT0gMzMgJiYgaXNTaWduYXR1cmVCeVB1YmxpY0tleSh2LCBwdWJsaWNLZXkuc2xpY2UoMSkpKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSBpbnB1dEluZGV4XG4gKiBAcGFyYW0gcHJldk91dHB1dHNcbiAqIEBwYXJhbSBwdWJsaWNLZXlzXG4gKiBAcmV0dXJuIGFycmF5IHdpdGggc2lnbmF0dXJlIGNvcnJlc3BvbmRpbmcgdG8gbi10aCBrZXksIHVuZGVmaW5lZCBpZiBubyBtYXRjaCBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0cmFuc2FjdGlvbjogVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+LFxuICBpbnB1dEluZGV4OiBudW1iZXIsXG4gIHByZXZPdXRwdXRzOiBUeE91dHB1dDxUTnVtYmVyPltdLFxuICBwdWJsaWNLZXlzOiBCdWZmZXJbXVxuKTogQXJyYXk8QnVmZmVyIHwgdW5kZWZpbmVkPiB7XG4gIGlmICh0cmFuc2FjdGlvbi5pbnMubGVuZ3RoICE9PSBwcmV2T3V0cHV0cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGlucHV0IGxlbmd0aCBtdXN0IG1hdGNoIHByZXZPdXRwdXRzIGxlbmd0aGApO1xuICB9XG5cbiAgY29uc3Qgc2lnbmF0dXJlVmVyaWZpY2F0aW9ucyA9IGdldFNpZ25hdHVyZVZlcmlmaWNhdGlvbnMoXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgaW5wdXRJbmRleCxcbiAgICBwcmV2T3V0cHV0c1tpbnB1dEluZGV4XS52YWx1ZSxcbiAgICB7fSxcbiAgICBwcmV2T3V0cHV0c1xuICApO1xuXG4gIHJldHVybiBwdWJsaWNLZXlzLm1hcCgocHVibGljS2V5KSA9PiB7XG4gICAgY29uc3QgdiA9IHNpZ25hdHVyZVZlcmlmaWNhdGlvbnMuZmluZCgodikgPT4gaXNTaWduYXR1cmVCeVB1YmxpY0tleSh2LCBwdWJsaWNLZXkpKTtcbiAgICByZXR1cm4gdiA/IHYuc2lnbmF0dXJlIDogdW5kZWZpbmVkO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSBpbnB1dEluZGV4XG4gKiBAcGFyYW0gcHJldk91dHB1dHMgLSB0cmFuc2FjdGlvbiBvdXRwdXRzIGZvciBpbnB1dHNcbiAqIEBwYXJhbSBwdWJsaWNLZXlzIC0gcHVibGljIGtleXMgdG8gY2hlY2sgc2lnbmF0dXJlcyBmb3JcbiAqIEByZXR1cm4gYXJyYXkgb2YgYm9vbGVhbnMgaW5kaWNhdGluZyBhIHZhbGlkIHNpZ25hdHVyZSBmb3IgZXZlcnkgcHVia2V5IGluIF9wdWJsaWNLZXlzX1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXM8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHRyYW5zYWN0aW9uOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4sXG4gIGlucHV0SW5kZXg6IG51bWJlcixcbiAgcHJldk91dHB1dHM6IFR4T3V0cHV0PFROdW1iZXI+W10sXG4gIHB1YmxpY0tleXM6IEJ1ZmZlcltdXG4pOiBib29sZWFuW10ge1xuICByZXR1cm4gZ2V0U2lnbmF0dXJlc1dpdGhQdWJsaWNLZXlzKHRyYW5zYWN0aW9uLCBpbnB1dEluZGV4LCBwcmV2T3V0cHV0cywgcHVibGljS2V5cykubWFwKChzKSA9PiBzICE9PSB1bmRlZmluZWQpO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgZm9yIHtAc2VlIHZlcmlmeVNpZ25hdHVyZVdpdGhQdWJsaWNLZXlzfSBmb3Igc2luZ2xlIHB1YmtleVxuICogQHBhcmFtIHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0gaW5wdXRJbmRleFxuICogQHBhcmFtIHByZXZPdXRwdXRzXG4gKiBAcGFyYW0gcHVibGljS2V5XG4gKiBAcmV0dXJuIHRydWUgaWZmIHNpZ25hdHVyZSBpcyB2YWxpZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleTxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHJhbnNhY3Rpb246IFV0eG9UcmFuc2FjdGlvbjxUTnVtYmVyPixcbiAgaW5wdXRJbmRleDogbnVtYmVyLFxuICBwcmV2T3V0cHV0czogVHhPdXRwdXQ8VE51bWJlcj5bXSxcbiAgcHVibGljS2V5OiBCdWZmZXJcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gdmVyaWZ5U2lnbmF0dXJlV2l0aFB1YmxpY0tleXModHJhbnNhY3Rpb24sIGlucHV0SW5kZXgsIHByZXZPdXRwdXRzLCBbcHVibGljS2V5XSlbMF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0U2lnSGFzaChuZXR3b3JrOiBOZXR3b3JrLCBzY3JpcHRUeXBlPzogU2NyaXB0VHlwZSk6IG51bWJlciB7XG4gIHN3aXRjaCAoZ2V0TWFpbm5ldChuZXR3b3JrKSkge1xuICAgIGNhc2UgbmV0d29ya3MuYml0Y29pbmNhc2g6XG4gICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luc3Y6XG4gICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luZ29sZDpcbiAgICBjYXNlIG5ldHdvcmtzLmVjYXNoOlxuICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMIHwgVXR4b1RyYW5zYWN0aW9uLlNJR0hBU0hfRk9SS0lEO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHNjcmlwdFR5cGUpIHtcbiAgICAgICAgY2FzZSAncDJ0cic6XG4gICAgICAgIGNhc2UgJ3AydHJNdXNpZzInOlxuICAgICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5TSUdIQVNIX0RFRkFVTFQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMO1xuICAgICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW5wdXRQMnNoUDJwazxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHhCdWlsZGVyOiBVdHhvVHJhbnNhY3Rpb25CdWlsZGVyPFROdW1iZXI+LFxuICB2aW46IG51bWJlcixcbiAga2V5UGFpcjogQklQMzJJbnRlcmZhY2Vcbik6IHZvaWQge1xuICBjb25zdCBwcmV2T3V0U2NyaXB0VHlwZSA9ICdwMnNoLXAycGsnO1xuICBjb25zdCB7IHJlZGVlbVNjcmlwdCwgd2l0bmVzc1NjcmlwdCB9ID0gY3JlYXRlT3V0cHV0U2NyaXB0UDJzaFAycGsoa2V5UGFpci5wdWJsaWNLZXkpO1xuICBrZXlQYWlyLm5ldHdvcmsgPSB0eEJ1aWxkZXIubmV0d29yaztcblxuICB0eEJ1aWxkZXIuc2lnbih7XG4gICAgdmluLFxuICAgIHByZXZPdXRTY3JpcHRUeXBlLFxuICAgIGtleVBhaXIsXG4gICAgaGFzaFR5cGU6IGdldERlZmF1bHRTaWdIYXNoKHR4QnVpbGRlci5uZXR3b3JrIGFzIE5ldHdvcmspLFxuICAgIHJlZGVlbVNjcmlwdCxcbiAgICB3aXRuZXNzU2NyaXB0LFxuICAgIHdpdG5lc3NWYWx1ZTogdW5kZWZpbmVkLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbnB1dDJPZjM8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHR4QnVpbGRlcjogVXR4b1RyYW5zYWN0aW9uQnVpbGRlcjxUTnVtYmVyPixcbiAgdmluOiBudW1iZXIsXG4gIHNjcmlwdFR5cGU6IFNjcmlwdFR5cGUyT2YzLFxuICBwdWJrZXlzOiBUcmlwbGU8QnVmZmVyPixcbiAga2V5UGFpcjogQklQMzJJbnRlcmZhY2UsXG4gIGNvc2lnbmVyOiBCdWZmZXIsXG4gIGFtb3VudDogVE51bWJlclxuKTogdm9pZCB7XG4gIGxldCBjb250cm9sQmxvY2s7XG4gIGxldCByZWRlZW1TY3JpcHQ7XG4gIGxldCB3aXRuZXNzU2NyaXB0O1xuXG4gIGNvbnN0IHByZXZPdXRTY3JpcHRUeXBlID0gc2NyaXB0VHlwZTJPZjNBc1ByZXZPdXRUeXBlKHNjcmlwdFR5cGUpO1xuICBpZiAoc2NyaXB0VHlwZSA9PT0gJ3AydHInKSB7XG4gICAgKHsgd2l0bmVzc1NjcmlwdCwgY29udHJvbEJsb2NrIH0gPSBjcmVhdGVTcGVuZFNjcmlwdFAydHIocHVia2V5cywgW2tleVBhaXIucHVibGljS2V5LCBjb3NpZ25lcl0pKTtcbiAgfSBlbHNlIHtcbiAgICAoeyByZWRlZW1TY3JpcHQsIHdpdG5lc3NTY3JpcHQgfSA9IGNyZWF0ZU91dHB1dFNjcmlwdDJvZjMocHVia2V5cywgc2NyaXB0VHlwZSkpO1xuICB9XG5cbiAga2V5UGFpci5uZXR3b3JrID0gdHhCdWlsZGVyLm5ldHdvcms7XG5cbiAgdHhCdWlsZGVyLnNpZ24oe1xuICAgIHZpbixcbiAgICBwcmV2T3V0U2NyaXB0VHlwZSxcbiAgICBrZXlQYWlyLFxuICAgIGhhc2hUeXBlOiBnZXREZWZhdWx0U2lnSGFzaCh0eEJ1aWxkZXIubmV0d29yayBhcyBOZXR3b3JrLCBzY3JpcHRUeXBlKSxcbiAgICByZWRlZW1TY3JpcHQsXG4gICAgd2l0bmVzc1NjcmlwdCxcbiAgICB3aXRuZXNzVmFsdWU6IGFtb3VudCxcbiAgICBjb250cm9sQmxvY2ssXG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOGoyQ0FrQkE7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBQUFBLGNBQUEsR0FBQUUsQ0FBQSxNLGlGQXlDQUMsT0FBQSxDQUFBQyx5QkFBQSxDQUFBQSx5QkFBQSxDQWtLQ0osY0FBQSxHQUFBRSxDQUFBLE1BVURDLE9BQUEsQ0FBQUUsZUFBQSxDQUFBQSxlQUFBLENBd0JDTCxjQUFBLEdBQUFFLENBQUEsTUF1QkRDLE9BQUEsQ0FBQUcsMkJBQUEsQ0FBQUEsMkJBQUEsQ0FzQkNOLGNBQUEsR0FBQUUsQ0FBQSxNQVNEQyxPQUFBLENBQUFJLDZCQUFBLENBQUFBLDZCQUFBLENBT0NQLGNBQUEsR0FBQUUsQ0FBQSxNQVVEQyxPQUFBLENBQUFLLDRCQUFBLENBQUFBLDRCQUFBLENBT0NSLGNBQUEsR0FBQUUsQ0FBQSxNQUVEQyxPQUFBLENBQUFNLGlCQUFBLENBQUFBLGlCQUFBLENBZ0JDVCxjQUFBLEdBQUFFLENBQUEsTUFFREMsT0FBQSxDQUFBTyxpQkFBQSxDQUFBQSxpQkFBQSxDQWtCQ1YsY0FBQSxHQUFBRSxDQUFBLE1BRURDLE9BQUEsQ0FBQVEsYUFBQSxDQUFBQSxhQUFBLENBblhBLE1BQUFDLGVBQUEsRUFBQVosY0FBQSxHQUFBRSxDQUFBLE1BQUFXLE9BQUEsbUJBRUEsTUFBQUMsaUJBQUEsRUFBQWQsY0FBQSxHQUFBRSxDQUFBLE9BQUFXLE9BQUEsdUJBRUEsTUFBQUUsZUFBQSxFQUFBZixjQUFBLEdBQUFFLENB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