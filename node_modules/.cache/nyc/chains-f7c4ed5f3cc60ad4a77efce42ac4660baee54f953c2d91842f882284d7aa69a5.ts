"use strict";function cov_1gi2icz4ti(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/wallet/chains.ts";var hash="61661cbd050fe3d1e29e462f8719f874f4d9a703";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/wallet/chains.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:165}},"2":{start:{line:4,column:0},end:{line:4,column:34}},"3":{start:{line:5,column:0},end:{line:5,column:34}},"4":{start:{line:6,column:0},end:{line:6,column:48}},"5":{start:{line:7,column:0},end:{line:7,column:52}},"6":{start:{line:8,column:0},end:{line:8,column:52}},"7":{start:{line:9,column:0},end:{line:9,column:50}},"8":{start:{line:10,column:0},end:{line:10,column:50}},"9":{start:{line:11,column:0},end:{line:11,column:28}},"10":{start:{line:15,column:0},end:{line:15,column:32}},"11":{start:{line:16,column:0},end:{line:16,column:39}},"12":{start:{line:17,column:0},end:{line:17,column:35}},"13":{start:{line:18,column:0},end:{line:18,column:34}},"14":{start:{line:19,column:0},end:{line:19,column:40}},"15":{start:{line:20,column:0},end:{line:26,column:2}},"16":{start:{line:28,column:4},end:{line:28,column:42}},"17":{start:{line:30,column:12},end:{line:36,column:41}},"18":{start:{line:36,column:18},end:{line:36,column:39}},"19":{start:{line:38,column:14},end:{line:38,column:31}},"20":{start:{line:44,column:4},end:{line:48,column:5}},"21":{start:{line:45,column:8},end:{line:47,column:9}},"22":{start:{line:46,column:12},end:{line:46,column:21}},"23":{start:{line:49,column:4},end:{line:51,column:5}},"24":{start:{line:50,column:8},end:{line:50,column:26}},"25":{start:{line:52,column:4},end:{line:54,column:5}},"26":{start:{line:53,column:8},end:{line:53,column:48}},"27":{start:{line:53,column:33},end:{line:53,column:46}},"28":{start:{line:55,column:4},end:{line:57,column:5}},"29":{start:{line:56,column:8},end:{line:56,column:50}},"30":{start:{line:58,column:4},end:{line:58,column:16}},"31":{start:{line:65,column:4},end:{line:69,column:5}},"32":{start:{line:66,column:8},end:{line:68,column:9}},"33":{start:{line:67,column:12},end:{line:67,column:30}},"34":{start:{line:70,column:4},end:{line:70,column:46}},"35":{start:{line:76,column:4},end:{line:76,column:29}},"36":{start:{line:82,column:4},end:{line:82,column:29}},"37":{start:{line:88,column:4},end:{line:88,column:43}},"38":{start:{line:94,column:4},end:{line:94,column:43}},"39":{start:{line:100,column:24},end:{line:105,column:5}},"40":{start:{line:106,column:4},end:{line:106,column:35}}},fnMap:{"0":{name:"isChainCode",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:29,column:1}},line:27},"1":{name:"(anonymous_1)",decl:{start:{line:36,column:6},end:{line:36,column:7}},loc:{start:{line:36,column:18},end:{line:36,column:39}},line:36},"2":{name:"toChainPair",decl:{start:{line:42,column:9},end:{line:42,column:20}},loc:{start:{line:42,column:24},end:{line:59,column:1}},line:42},"3":{name:"(anonymous_3)",decl:{start:{line:53,column:26},end:{line:53,column:27}},loc:{start:{line:53,column:33},end:{line:53,column:46}},line:53},"4":{name:"scriptTypeForChain",decl:{start:{line:63,column:9},end:{line:63,column:27}},loc:{start:{line:63,column:35},end:{line:71,column:1}},line:63},"5":{name:"getExternalChainCode",decl:{start:{line:75,column:9},end:{line:75,column:29}},loc:{start:{line:75,column:33},end:{line:77,column:1}},line:75},"6":{name:"getInternalChainCode",decl:{start:{line:81,column:9},end:{line:81,column:29}},loc:{start:{line:81,column:33},end:{line:83,column:1}},line:81},"7":{name:"isExternalChainCode",decl:{start:{line:87,column:9},end:{line:87,column:28}},loc:{start:{line:87,column:32},end:{line:89,column:1}},line:87},"8":{name:"isInternalChainCode",decl:{start:{line:93,column:9},end:{line:93,column:28}},loc:{start:{line:93,column:32},end:{line:95,column:1}},line:93},"9":{name:"isSegwit",decl:{start:{line:99,column:9},end:{line:99,column:17}},loc:{start:{line:99,column:21},end:{line:107,column:1}},line:99}},branchMap:{"0":{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:44,column:4},end:{line:48,column:5}}],line:44},"1":{loc:{start:{line:45,column:8},end:{line:47,column:9}},type:"if",locations:[{start:{line:45,column:8},end:{line:47,column:9}},{start:{line:45,column:8},end:{line:47,column:9}}],line:45},"2":{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:49,column:4},end:{line:51,column:5}}],line:49},"3":{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:52,column:4},end:{line:54,column:5}}],line:52},"4":{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:55,column:4},end:{line:57,column:5}}],line:55},"5":{loc:{start:{line:66,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:68,column:9}},{start:{line:66,column:8},end:{line:68,column:9}}],line:66}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/wallet/chains.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/wallet/chains.ts"],names:[],mappings:"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",sourcesContent:["/**\n * Defines BitGo mappings between bip32 derivation path and script type.\n *\n * The scripts for a BitGo wallet address are defined by their derivation path.\n *\n * The derivation path has the format `0/0/${chain}/${index}` (in rare cases the prefix is not 0/0)\n *\n * The address script type (ScriptType2Of3) is defined by the `chain` parameter.\n *\n * This file defines the mapping between chain parameter and address type.\n */\nimport { ScriptType2Of3 } from '../outputScripts';\n\n/**\n * All valid chain codes\n */\nexport const chainCodesP2sh = [0, 1] as const;\nexport const chainCodesP2shP2wsh = [10, 11] as const;\nexport const chainCodesP2wsh = [20, 21] as const;\nexport const chainCodesP2tr = [30, 31] as const;\nexport const chainCodesP2trMusig2 = [40, 41] as const;\nexport const chainCodes = [\n  ...chainCodesP2sh,\n  ...chainCodesP2shP2wsh,\n  ...chainCodesP2wsh,\n  ...chainCodesP2tr,\n  ...chainCodesP2trMusig2,\n];\nexport type ChainCode = (typeof chainCodes)[number];\nexport function isChainCode(n: unknown): n is ChainCode {\n  return chainCodes.includes(n as ChainCode);\n}\n\n/**\n * A script type maps to two ChainCodes:\n * External addresses are intended for deposits, internal addresses are intended for change outputs.\n */\nexport type ChainCodePair = Readonly<[external: ChainCode, internal: ChainCode]>;\n\nconst map = new Map<ScriptType2Of3, ChainCodePair>(\n  [\n    ['p2sh', chainCodesP2sh],\n    ['p2shP2wsh', chainCodesP2shP2wsh],\n    ['p2wsh', chainCodesP2wsh],\n    ['p2tr', chainCodesP2tr],\n    ['p2trMusig2', chainCodesP2trMusig2],\n  ].map(([k, v]) => [k as ScriptType2Of3, Object.freeze(v) as ChainCodePair])\n);\n// @ts-ignore\nconst pairs = [...map.values()];\n\n/**\n * @return ChainCodePair for input\n */\nexport function toChainPair(v: ChainCodePair | ChainCode | ScriptType2Of3): ChainCodePair {\n  let pair;\n  if (Array.isArray(v)) {\n    if (pairs.includes(v as ChainCodePair)) {\n      pair = v;\n    }\n  }\n  if (typeof v === 'string') {\n    pair = map.get(v);\n  }\n  if (typeof v === 'number') {\n    pair = pairs.find((p) => p.includes(v));\n  }\n  if (!pair) {\n    throw new Error(`no pair for input ${v}`);\n  }\n  return pair as ChainCodePair;\n}\n\n/**\n * @return ScriptType2Of3 for input\n */\nexport function scriptTypeForChain(chain: ChainCode): ScriptType2Of3 {\n  // @ts-ignore\n  for (const [scriptType, pair] of map.entries()) {\n    if (pair.includes(chain)) {\n      return scriptType;\n    }\n  }\n  throw new Error(`invalid chain ${chain}`);\n}\n\n/**\n * @return chain code intended for external addresses\n */\nexport function getExternalChainCode(v: ChainCodePair | ScriptType2Of3 | ChainCode): ChainCode {\n  return toChainPair(v)[0];\n}\n\n/**\n * @return chain code intended for change outputs\n */\nexport function getInternalChainCode(v: ChainCodePair | ScriptType2Of3 | ChainCode): ChainCode {\n  return toChainPair(v)[1];\n}\n\n/**\n * @return true iff chain code is external\n */\nexport function isExternalChainCode(v: ChainCode): boolean {\n  return toChainPair(v).indexOf(v) === 0;\n}\n\n/**\n * @return true iff chain code is internal\n */\nexport function isInternalChainCode(v: ChainCode): boolean {\n  return toChainPair(v).indexOf(v) === 1;\n}\n\n/**\n * @return true iff chain code is a segwit address\n */\nexport function isSegwit(v: ChainCode): boolean {\n  const segwitCodes: ChainCode[] = [\n    ...chainCodesP2shP2wsh,\n    ...chainCodesP2wsh,\n    ...chainCodesP2tr,\n    ...chainCodesP2trMusig2,\n  ];\n  return segwitCodes.includes(v);\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61661cbd050fe3d1e29e462f8719f874f4d9a703"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1gi2icz4ti=function(){return actualCoverage;};}return actualCoverage;}cov_1gi2icz4ti();cov_1gi2icz4ti().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1gi2icz4ti().s[1]++;exports.chainCodes=exports.chainCodesP2trMusig2=exports.chainCodesP2tr=exports.chainCodesP2wsh=exports.chainCodesP2shP2wsh=exports.chainCodesP2sh=void 0;cov_1gi2icz4ti().s[2]++;exports.isChainCode=isChainCode;cov_1gi2icz4ti().s[3]++;exports.toChainPair=toChainPair;cov_1gi2icz4ti().s[4]++;exports.scriptTypeForChain=scriptTypeForChain;cov_1gi2icz4ti().s[5]++;exports.getExternalChainCode=getExternalChainCode;cov_1gi2icz4ti().s[6]++;exports.getInternalChainCode=getInternalChainCode;cov_1gi2icz4ti().s[7]++;exports.isExternalChainCode=isExternalChainCode;cov_1gi2icz4ti().s[8]++;exports.isInternalChainCode=isInternalChainCode;cov_1gi2icz4ti().s[9]++;exports.isSegwit=isSegwit;/**
 * All valid chain codes
 */cov_1gi2icz4ti().s[10]++;exports.chainCodesP2sh=[0,1];cov_1gi2icz4ti().s[11]++;exports.chainCodesP2shP2wsh=[10,11];cov_1gi2icz4ti().s[12]++;exports.chainCodesP2wsh=[20,21];cov_1gi2icz4ti().s[13]++;exports.chainCodesP2tr=[30,31];cov_1gi2icz4ti().s[14]++;exports.chainCodesP2trMusig2=[40,41];cov_1gi2icz4ti().s[15]++;exports.chainCodes=[...exports.chainCodesP2sh,...exports.chainCodesP2shP2wsh,...exports.chainCodesP2wsh,...exports.chainCodesP2tr,...exports.chainCodesP2trMusig2];function isChainCode(n){cov_1gi2icz4ti().f[0]++;cov_1gi2icz4ti().s[16]++;return exports.chainCodes.includes(n);}const map=(cov_1gi2icz4ti().s[17]++,new Map([['p2sh',exports.chainCodesP2sh],['p2shP2wsh',exports.chainCodesP2shP2wsh],['p2wsh',exports.chainCodesP2wsh],['p2tr',exports.chainCodesP2tr],['p2trMusig2',exports.chainCodesP2trMusig2]].map(([k,v])=>{cov_1gi2icz4ti().f[1]++;cov_1gi2icz4ti().s[18]++;return[k,Object.freeze(v)];})));// @ts-ignore
const pairs=(cov_1gi2icz4ti().s[19]++,[...map.values()]);/**
 * @return ChainCodePair for input
 */function toChainPair(v){cov_1gi2icz4ti().f[2]++;let pair;cov_1gi2icz4ti().s[20]++;if(Array.isArray(v)){cov_1gi2icz4ti().b[0][0]++;cov_1gi2icz4ti().s[21]++;if(pairs.includes(v)){cov_1gi2icz4ti().b[1][0]++;cov_1gi2icz4ti().s[22]++;pair=v;}else{cov_1gi2icz4ti().b[1][1]++;}}else{cov_1gi2icz4ti().b[0][1]++;}cov_1gi2icz4ti().s[23]++;if(typeof v==='string'){cov_1gi2icz4ti().b[2][0]++;cov_1gi2icz4ti().s[24]++;pair=map.get(v);}else{cov_1gi2icz4ti().b[2][1]++;}cov_1gi2icz4ti().s[25]++;if(typeof v==='number'){cov_1gi2icz4ti().b[3][0]++;cov_1gi2icz4ti().s[26]++;pair=pairs.find(p=>{cov_1gi2icz4ti().f[3]++;cov_1gi2icz4ti().s[27]++;return p.includes(v);});}else{cov_1gi2icz4ti().b[3][1]++;}cov_1gi2icz4ti().s[28]++;if(!pair){cov_1gi2icz4ti().b[4][0]++;cov_1gi2icz4ti().s[29]++;throw new Error(`no pair for input ${v}`);}else{cov_1gi2icz4ti().b[4][1]++;}cov_1gi2icz4ti().s[30]++;return pair;}/**
 * @return ScriptType2Of3 for input
 */function scriptTypeForChain(chain){cov_1gi2icz4ti().f[4]++;cov_1gi2icz4ti().s[31]++;// @ts-ignore
for(const[scriptType,pair]of map.entries()){cov_1gi2icz4ti().s[32]++;if(pair.includes(chain)){cov_1gi2icz4ti().b[5][0]++;cov_1gi2icz4ti().s[33]++;return scriptType;}else{cov_1gi2icz4ti().b[5][1]++;}}cov_1gi2icz4ti().s[34]++;throw new Error(`invalid chain ${chain}`);}/**
 * @return chain code intended for external addresses
 */function getExternalChainCode(v){cov_1gi2icz4ti().f[5]++;cov_1gi2icz4ti().s[35]++;return toChainPair(v)[0];}/**
 * @return chain code intended for change outputs
 */function getInternalChainCode(v){cov_1gi2icz4ti().f[6]++;cov_1gi2icz4ti().s[36]++;return toChainPair(v)[1];}/**
 * @return true iff chain code is external
 */function isExternalChainCode(v){cov_1gi2icz4ti().f[7]++;cov_1gi2icz4ti().s[37]++;return toChainPair(v).indexOf(v)===0;}/**
 * @return true iff chain code is internal
 */function isInternalChainCode(v){cov_1gi2icz4ti().f[8]++;cov_1gi2icz4ti().s[38]++;return toChainPair(v).indexOf(v)===1;}/**
 * @return true iff chain code is a segwit address
 */function isSegwit(v){cov_1gi2icz4ti().f[9]++;const segwitCodes=(cov_1gi2icz4ti().s[39]++,[...exports.chainCodesP2shP2wsh,...exports.chainCodesP2wsh,...exports.chainCodesP2tr,...exports.chainCodesP2trMusig2]);cov_1gi2icz4ti().s[40]++;return segwitCodes.includes(v);}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYml0Z28vd2FsbGV0L2NoYWlucy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYml0Z28vd2FsbGV0L2NoYWlucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUE2QkEsa0NBRUM7QUF1QkQsa0NBaUJDO0FBS0QsZ0RBUUM7QUFLRCxvREFFQztBQUtELG9EQUVDO0FBS0Qsa0RBRUM7QUFLRCxrREFFQztBQUtELDRCQVFDO0FBaEhEOztHQUVHO0FBQ1UsUUFBQSxjQUFjLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFVLENBQUM7QUFDakMsUUFBQSxtQkFBbUIsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQVUsQ0FBQztBQUN4QyxRQUFBLGVBQWUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQVUsQ0FBQztBQUNwQyxRQUFBLGNBQWMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQVUsQ0FBQztBQUNuQyxRQUFBLG9CQUFvQixHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBVSxDQUFDO0FBQ3pDLFFBQUEsVUFBVSxHQUFHO0lBQ3hCLEdBQUcsc0JBQWM7SUFDakIsR0FBRywyQkFBbUI7SUFDdEIsR0FBRyx1QkFBZTtJQUNsQixHQUFHLHNCQUFjO0lBQ2pCLEdBQUcsNEJBQW9CO0NBQ3hCLENBQUM7QUFFRixTQUFnQixXQUFXLENBQUMsQ0FBVTtJQUNwQyxPQUFPLGtCQUFVLENBQUMsUUFBUSxDQUFDLENBQWMsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFRRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FDakI7SUFDRSxDQUFDLE1BQU0sRUFBRSxzQkFBYyxDQUFDO0lBQ3hCLENBQUMsV0FBVyxFQUFFLDJCQUFtQixDQUFDO0lBQ2xDLENBQUMsT0FBTyxFQUFFLHVCQUFlLENBQUM7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LyoqXG4gKiBEZWZpbmVzIEJpdEdvIG1hcHBpbmdzIGJldHdlZW4gYmlwMzIgZGVyaXZhdGlvbiBwYXRoIGFuZCBzY3JpcHQgdHlwZS5cbiAqXG4gKiBUaGUgc2NyaXB0cyBmb3IgYSBCaXRHbyB3YWxsZXQgYWRkcmVzcyBhcmUgZGVmaW5lZCBieSB0aGVpciBkZXJpdmF0aW9uIHBhdGguXG4gKlxuICogVGhlIGRlcml2YXRpb24gcGF0aCBoYXMgdGhlIGZvcm1hdCBgMC8wLyR7Y2hhaW59LyR7aW5kZXh9YCAoaW4gcmFyZSBjYXNlcyB0aGUgcHJlZml4IGlzIG5vdCAwLzApXG4gKlxuICogVGhlIGFkZHJlc3Mgc2NyaXB0IHR5cGUgKFNjcmlwdFR5cGUyT2YzKSBpcyBkZWZpbmVkIGJ5IHRoZSBgY2hhaW5gIHBhcmFtZXRlci5cbiAqXG4gKiBUaGlzIGZpbGUgZGVmaW5lcyB0aGUgbWFwcGluZyBiZXR3ZWVuIGNoYWluIHBhcmFtZXRlciBhbmQgYWRkcmVzcyB0eXBlLlxuICovXG5pbXBvcnQgeyBTY3JpcHRUeXBlMk9mMyB9IGZyb20gJy4uL291dHB1dFNjcmlwdHMnO1xuXG4vKipcbiAqIEFsbCB2YWxpZCBjaGFpbiBjb2Rlc1xuICovXG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1Ayc2ggPSBbMCwgMV0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1Ayc2hQMndzaCA9IFsxMCwgMTFdIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IGNoYWluQ29kZXNQMndzaCA9IFsyMCwgMjFdIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IGNoYWluQ29kZXNQMnRyID0gWzMwLCAzMV0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1AydHJNdXNpZzIgPSBbNDAsIDQxXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBjaGFpbkNvZGVzID0gW1xuICAuLi5jaGFpbkNvZGVzUDJzaCxcbiAgLi4uY2hhaW5Db2Rlc1Ayc2hQMndzaCxcbiAgLi4uY2hhaW5Db2Rlc1Ayd3NoLFxuICAuLi5jaGFpbkNvZGVzUDJ0cixcbiAgLi4uY2hhaW5Db2Rlc1AydHJNdXNpZzIsXG5dO1xuZXhwb3J0IHR5cGUgQ2hhaW5Db2RlID0gKHR5cGVvZiBjaGFpbkNvZGVzKVtudW1iZXJdO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhaW5Db2RlKG46IHVua25vd24pOiBuIGlzIENoYWluQ29kZSB7XG4gIHJldHVybiBjaGFpbkNvZGVzLmluY2x1ZGVzKG4gYXMgQ2hhaW5Db2RlKTtcbn1cblxuLyoqXG4gKiBBIHNjcmlwdCB0eXBlIG1hcHMgdG8gdHdvIENoYWluQ29kZXM6XG4gKiBFeHRlcm5hbCBhZGRyZXNzZXMgYXJlIGludGVuZGVkIGZvciBkZXBvc2l0cywgaW50ZXJuYWwgYWRkcmVzc2VzIGFyZSBpbnRlbmRlZCBmb3IgY2hhbmdlIG91dHB1dHMuXG4gKi9cbmV4cG9ydCB0eXBlIENoYWluQ29kZVBhaXIgPSBSZWFkb25seTxbZXh0ZXJuYWw6IENoYWluQ29kZSwgaW50ZXJuYWw6IENoYWluQ29kZV0+O1xuXG5jb25zdCBtYXAgPSBuZXcgTWFwPFNjcmlwdFR5cGUyT2YzLCBDaGFpbkNvZGVQYWlyPihcbiAgW1xuICAgIFsncDJzaCcsIGNoYWluQ29kZXNQMnNoXSxcbiAgICBbJ3Ayc2hQMndzaCcsIGNoYWluQ29kZXNQMnNoUDJ3c2hdLFxuICAgIFsncDJ3c2gnLCBjaGFpbkNvZGVzUDJ3c2hdLFxuICAgIFsncDJ0cicsIGNoYWluQ29kZXNQMnRyXSxcbiAgICBbJ3AydHJNdXNpZzInLCBjaGFpbkNvZGVzUDJ0ck11c2lnMl0sXG4gIF0ubWFwKChbaywgdl0pID0+IFtrIGFzIFNjcmlwdFR5cGUyT2YzLCBPYmplY3QuZnJlZXplKHYpIGFzIENoYWluQ29kZVBhaXJdKVxuKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHBhaXJzID0gWy4uLm1hcC52YWx1ZXMoKV07XG5cbi8qKlxuICogQHJldHVybiBDaGFpbkNvZGVQYWlyIGZvciBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DaGFpblBhaXIodjogQ2hhaW5Db2RlUGFpciB8IENoYWluQ29kZSB8IFNjcmlwdFR5cGUyT2YzKTogQ2hhaW5Db2RlUGFpciB7XG4gIGxldCBwYWlyO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgIGlmIChwYWlycy5pbmNsdWRlcyh2IGFzIENoYWluQ29kZVBhaXIpKSB7XG4gICAgICBwYWlyID0gdjtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgIHBhaXIgPSBtYXAuZ2V0KHYpO1xuICB9XG4gIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICBwYWlyID0gcGFpcnMuZmluZCgocCkgPT4gcC5pbmNsdWRlcyh2KSk7XG4gIH1cbiAgaWYgKCFwYWlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBubyBwYWlyIGZvciBpbnB1dCAke3Z9YCk7XG4gIH1cbiAgcmV0dXJuIHBhaXIgYXMgQ2hhaW5Db2RlUGFpcjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIFNjcmlwdFR5cGUyT2YzIGZvciBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NyaXB0VHlwZUZvckNoYWluKGNoYWluOiBDaGFpbkNvZGUpOiBTY3JpcHRUeXBlMk9mMyB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgZm9yIChjb25zdCBbc2NyaXB0VHlwZSwgcGFpcl0gb2YgbWFwLmVudHJpZXMoKSkge1xuICAgIGlmIChwYWlyLmluY2x1ZGVzKGNoYWluKSkge1xuICAgICAgcmV0dXJuIHNjcmlwdFR5cGU7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBjaGFpbiAke2NoYWlufWApO1xufVxuXG4vKipcbiAqIEByZXR1cm4gY2hhaW4gY29kZSBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgYWRkcmVzc2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbENoYWluQ29kZSh2OiBDaGFpbkNvZGVQYWlyIHwgU2NyaXB0VHlwZTJPZjMgfCBDaGFpbkNvZGUpOiBDaGFpbkNvZGUge1xuICByZXR1cm4gdG9DaGFpblBhaXIodilbMF07XG59XG5cbi8qKlxuICogQHJldHVybiBjaGFpbiBjb2RlIGludGVuZGVkIGZvciBjaGFuZ2Ugb3V0cHV0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJuYWxDaGFpbkNvZGUodjogQ2hhaW5Db2RlUGFpciB8IFNjcmlwdFR5cGUyT2YzIHwgQ2hhaW5Db2RlKTogQ2hhaW5Db2RlIHtcbiAgcmV0dXJuIHRvQ2hhaW5QYWlyKHYpWzFdO1xufVxuXG4vKipcbiAqIEByZXR1cm4gdHJ1ZSBpZmYgY2hhaW4gY29kZSBpcyBleHRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFeHRlcm5hbENoYWluQ29kZSh2OiBDaGFpbkNvZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHRvQ2hhaW5QYWlyKHYpLmluZGV4T2YodikgPT09IDA7XG59XG5cbi8qKlxuICogQHJldHVybiB0cnVlIGlmZiBjaGFpbiBjb2RlIGlzIGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVybmFsQ2hhaW5Db2RlKHY6IENoYWluQ29kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdG9DaGFpblBhaXIodikuaW5kZXhPZih2KSA9PT0gMTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHRydWUgaWZmIGNoYWluIGNvZGUgaXMgYSBzZWd3aXQgYWRkcmVzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTZWd3aXQodjogQ2hhaW5Db2RlKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlZ3dpdENvZGVzOiBDaGFpbkNvZGVbXSA9IFtcbiAgICAuLi5jaGFpbkNvZGVzUDJzaFAyd3NoLFxuICAgIC4uLmNoYWluQ29kZXNQMndzaCxcbiAgICAuLi5jaGFpbkNvZGVzUDJ0cixcbiAgICAuLi5jaGFpbkNvZGVzUDJ0ck11c2lnMixcbiAgXTtcbiAgcmV0dXJuIHNlZ3dpdENvZGVzLmluY2x1ZGVzKHYpO1xufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWdpMmljejR0aSIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cG9ydHMiLCJpc0NoYWluQ29kZSIsInRvQ2hhaW5QYWlyIiwic2NyaXB0VHlwZUZvckNoYWluIiwiZ2V0RXh0ZXJuYWxDaGFpbkNvZGUiLCJnZXRJbnRlcm5hbENoYWluQ29kZSIsImlzRXh0ZXJuYWxDaGFpbkNvZGUiLCJpc0ludGVybmFsQ2hhaW5Db2RlIiwiaXNTZWd3aXQiLCJjaGFpbkNvZGVzUDJzaCIsImNoYWluQ29kZXNQMnNoUDJ3c2giLCJjaGFpbkNvZGVzUDJ3c2giLCJjaGFpbkNvZGVzUDJ0ciIsImNoYWluQ29kZXNQMnRyTXVzaWcyIiwiY2hhaW5Db2RlcyIsIm4iLCJmIiwiaW5jbHVkZXMiLCJtYXAiLCJNYXAiLCJrIiwidiIsIk9iamVjdCIsImZyZWV6ZSIsInBhaXJzIiwidmFsdWVzIiwicGFpciIsIkFycmF5IiwiaXNBcnJheSIsImIiLCJnZXQiLCJmaW5kIiwicCIsIkVycm9yIiwiY2hhaW4iLCJzY3JpcHRUeXBlIiwiZW50cmllcyIsImluZGV4T2YiLCJzZWd3aXRDb2RlcyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9xcm9jL0NvZGUvaGFwaS9jaGFpbmRlZnVzZXIvdXR4by1saWIvc3JjL2JpdGdvL3dhbGxldC9jaGFpbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZWZpbmVzIEJpdEdvIG1hcHBpbmdzIGJldHdlZW4gYmlwMzIgZGVyaXZhdGlvbiBwYXRoIGFuZCBzY3JpcHQgdHlwZS5cbiAqXG4gKiBUaGUgc2NyaXB0cyBmb3IgYSBCaXRHbyB3YWxsZXQgYWRkcmVzcyBhcmUgZGVmaW5lZCBieSB0aGVpciBkZXJpdmF0aW9uIHBhdGguXG4gKlxuICogVGhlIGRlcml2YXRpb24gcGF0aCBoYXMgdGhlIGZvcm1hdCBgMC8wLyR7Y2hhaW59LyR7aW5kZXh9YCAoaW4gcmFyZSBjYXNlcyB0aGUgcHJlZml4IGlzIG5vdCAwLzApXG4gKlxuICogVGhlIGFkZHJlc3Mgc2NyaXB0IHR5cGUgKFNjcmlwdFR5cGUyT2YzKSBpcyBkZWZpbmVkIGJ5IHRoZSBgY2hhaW5gIHBhcmFtZXRlci5cbiAqXG4gKiBUaGlzIGZpbGUgZGVmaW5lcyB0aGUgbWFwcGluZyBiZXR3ZWVuIGNoYWluIHBhcmFtZXRlciBhbmQgYWRkcmVzcyB0eXBlLlxuICovXG5pbXBvcnQgeyBTY3JpcHRUeXBlMk9mMyB9IGZyb20gJy4uL291dHB1dFNjcmlwdHMnO1xuXG4vKipcbiAqIEFsbCB2YWxpZCBjaGFpbiBjb2Rlc1xuICovXG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1Ayc2ggPSBbMCwgMV0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1Ayc2hQMndzaCA9IFsxMCwgMTFdIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IGNoYWluQ29kZXNQMndzaCA9IFsyMCwgMjFdIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IGNoYWluQ29kZXNQMnRyID0gWzMwLCAzMV0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgY2hhaW5Db2Rlc1AydHJNdXNpZzIgPSBbNDAsIDQxXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBjaGFpbkNvZGVzID0gW1xuICAuLi5jaGFpbkNvZGVzUDJzaCxcbiAgLi4uY2hhaW5Db2Rlc1Ayc2hQMndzaCxcbiAgLi4uY2hhaW5Db2Rlc1Ayd3NoLFxuICAuLi5jaGFpbkNvZGVzUDJ0cixcbiAgLi4uY2hhaW5Db2Rlc1AydHJNdXNpZzIsXG5dO1xuZXhwb3J0IHR5cGUgQ2hhaW5Db2RlID0gKHR5cGVvZiBjaGFpbkNvZGVzKVtudW1iZXJdO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhaW5Db2RlKG46IHVua25vd24pOiBuIGlzIENoYWluQ29kZSB7XG4gIHJldHVybiBjaGFpbkNvZGVzLmluY2x1ZGVzKG4gYXMgQ2hhaW5Db2RlKTtcbn1cblxuLyoqXG4gKiBBIHNjcmlwdCB0eXBlIG1hcHMgdG8gdHdvIENoYWluQ29kZXM6XG4gKiBFeHRlcm5hbCBhZGRyZXNzZXMgYXJlIGludGVuZGVkIGZvciBkZXBvc2l0cywgaW50ZXJuYWwgYWRkcmVzc2VzIGFyZSBpbnRlbmRlZCBmb3IgY2hhbmdlIG91dHB1dHMuXG4gKi9cbmV4cG9ydCB0eXBlIENoYWluQ29kZVBhaXIgPSBSZWFkb25seTxbZXh0ZXJuYWw6IENoYWluQ29kZSwgaW50ZXJuYWw6IENoYWluQ29kZV0+O1xuXG5jb25zdCBtYXAgPSBuZXcgTWFwPFNjcmlwdFR5cGUyT2YzLCBDaGFpbkNvZGVQYWlyPihcbiAgW1xuICAgIFsncDJzaCcsIGNoYWluQ29kZXNQMnNoXSxcbiAgICBbJ3Ayc2hQMndzaCcsIGNoYWluQ29kZXNQMnNoUDJ3c2hdLFxuICAgIFsncDJ3c2gnLCBjaGFpbkNvZGVzUDJ3c2hdLFxuICAgIFsncDJ0cicsIGNoYWluQ29kZXNQMnRyXSxcbiAgICBbJ3AydHJNdXNpZzInLCBjaGFpbkNvZGVzUDJ0ck11c2lnMl0sXG4gIF0ubWFwKChbaywgdl0pID0+IFtrIGFzIFNjcmlwdFR5cGUyT2YzLCBPYmplY3QuZnJlZXplKHYpIGFzIENoYWluQ29kZVBhaXJdKVxuKTtcbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHBhaXJzID0gWy4uLm1hcC52YWx1ZXMoKV07XG5cbi8qKlxuICogQHJldHVybiBDaGFpbkNvZGVQYWlyIGZvciBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DaGFpblBhaXIodjogQ2hhaW5Db2RlUGFpciB8IENoYWluQ29kZSB8IFNjcmlwdFR5cGUyT2YzKTogQ2hhaW5Db2RlUGFpciB7XG4gIGxldCBwYWlyO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgIGlmIChwYWlycy5pbmNsdWRlcyh2IGFzIENoYWluQ29kZVBhaXIpKSB7XG4gICAgICBwYWlyID0gdjtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgIHBhaXIgPSBtYXAuZ2V0KHYpO1xuICB9XG4gIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICBwYWlyID0gcGFpcnMuZmluZCgocCkgPT4gcC5pbmNsdWRlcyh2KSk7XG4gIH1cbiAgaWYgKCFwYWlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBubyBwYWlyIGZvciBpbnB1dCAke3Z9YCk7XG4gIH1cbiAgcmV0dXJuIHBhaXIgYXMgQ2hhaW5Db2RlUGFpcjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIFNjcmlwdFR5cGUyT2YzIGZvciBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NyaXB0VHlwZUZvckNoYWluKGNoYWluOiBDaGFpbkNvZGUpOiBTY3JpcHRUeXBlMk9mMyB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgZm9yIChjb25zdCBbc2NyaXB0VHlwZSwgcGFpcl0gb2YgbWFwLmVudHJpZXMoKSkge1xuICAgIGlmIChwYWlyLmluY2x1ZGVzKGNoYWluKSkge1xuICAgICAgcmV0dXJuIHNjcmlwdFR5cGU7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBjaGFpbiAke2NoYWlufWApO1xufVxuXG4vKipcbiAqIEByZXR1cm4gY2hhaW4gY29kZSBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgYWRkcmVzc2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbENoYWluQ29kZSh2OiBDaGFpbkNvZGVQYWlyIHwgU2NyaXB0VHlwZTJPZjMgfCBDaGFpbkNvZGUpOiBDaGFpbkNvZGUge1xuICByZXR1cm4gdG9DaGFpblBhaXIodilbMF07XG59XG5cbi8qKlxuICogQHJldHVybiBjaGFpbiBjb2RlIGludGVuZGVkIGZvciBjaGFuZ2Ugb3V0cHV0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJuYWxDaGFpbkNvZGUodjogQ2hhaW5Db2RlUGFpciB8IFNjcmlwdFR5cGUyT2YzIHwgQ2hhaW5Db2RlKTogQ2hhaW5Db2RlIHtcbiAgcmV0dXJuIHRvQ2hhaW5QYWlyKHYpWzFdO1xufVxuXG4vKipcbiAqIEByZXR1cm4gdHJ1ZSBpZmYgY2hhaW4gY29kZSBpcyBleHRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFeHRlcm5hbENoYWluQ29kZSh2OiBDaGFpbkNvZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHRvQ2hhaW5QYWlyKHYpLmluZGV4T2YodikgPT09IDA7XG59XG5cbi8qKlxuICogQHJldHVybiB0cnVlIGlmZiBjaGFpbiBjb2RlIGlzIGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVybmFsQ2hhaW5Db2RlKHY6IENoYWluQ29kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdG9DaGFpblBhaXIodikuaW5kZXhPZih2KSA9PT0gMTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHRydWUgaWZmIGNoYWluIGNvZGUgaXMgYSBzZWd3aXQgYWRkcmVzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTZWd3aXQodjogQ2hhaW5Db2RlKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlZ3dpdENvZGVzOiBDaGFpbkNvZGVbXSA9IFtcbiAgICAuLi5jaGFpbkNvZGVzUDJzaFAyd3NoLFxuICAgIC4uLmNoYWluQ29kZXNQMndzaCxcbiAgICAuLi5jaGFpbkNvZGVzUDJ0cixcbiAgICAuLi5jaGFpbkNvZGVzUDJ0ck11c2lnMixcbiAgXTtcbiAgcmV0dXJuIHNlZ3dpdENvZGVzLmluY2x1ZGVzKHYpO1xufVxuIl0sIm1hcHBpbmdzIjoiMjZYQWlCYTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FBQUEsY0FBQSxHQUFBRSxDQUFBLE0sa1FBWWJDLE9BQUEsQ0FBQUMsV0FBQSxDQUFBQSxXQUFBLENBRUNKLGNBQUEsR0FBQUUsQ0FBQSxNQXVCREMsT0FBQSxDQUFBRSxXQUFBLENBQUFBLFdBQUEsQ0FpQkNMLGNBQUEsR0FBQUUsQ0FBQSxNQUtEQyxPQUFBLENBQUFHLGtCQUFBLENBQUFBLGtCQUFBLENBUUNOLGNBQUEsR0FBQUUsQ0FBQSxNQUtEQyxPQUFBLENBQUFJLG9CQUFBLENBQUFBLG9CQUFBLENBRUNQLGNBQUEsR0FBQUUs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