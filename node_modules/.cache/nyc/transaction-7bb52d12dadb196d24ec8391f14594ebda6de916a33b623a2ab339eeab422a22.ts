"use strict";function cov_azkm4hy1(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/testutil/transaction.ts";var hash="5f1f599c5691b693548a34013a9e6715399cbeec";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/testutil/transaction.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:68}},"2":{start:{line:4,column:0},end:{line:4,column:36}},"3":{start:{line:5,column:0},end:{line:5,column:38}},"4":{start:{line:6,column:0},end:{line:6,column:36}},"5":{start:{line:7,column:0},end:{line:7,column:44}},"6":{start:{line:8,column:0},end:{line:8,column:50}},"7":{start:{line:9,column:15},end:{line:9,column:32}},"8":{start:{line:10,column:24},end:{line:10,column:57}},"9":{start:{line:11,column:16},end:{line:11,column:35}},"10":{start:{line:12,column:15},end:{line:12,column:32}},"11":{start:{line:16,column:0},end:{line:16,column:105}},"12":{start:{line:20,column:0},end:{line:20,column:63}},"13":{start:{line:25,column:4},end:{line:35,column:5}},"14":{start:{line:26,column:8},end:{line:26,column:123}},"15":{start:{line:29,column:8},end:{line:34,column:11}},"16":{start:{line:43,column:4},end:{line:46,column:6}},"17":{start:{line:53,column:41},end:{line:53,column:92}},"18":{start:{line:54,column:20},end:{line:54,column:80}},"19":{start:{line:55,column:4},end:{line:62,column:5}},"20":{start:{line:56,column:8},end:{line:61,column:9}},"21":{start:{line:57,column:12},end:{line:57,column:88}},"22":{start:{line:59,column:13},end:{line:61,column:9}},"23":{start:{line:60,column:12},end:{line:60,column:180}},"24":{start:{line:63,column:4},end:{line:65,column:5}},"25":{start:{line:64,column:8},end:{line:64,column:176}},"26":{start:{line:72,column:4},end:{line:74,column:7}},"27":{start:{line:73,column:8},end:{line:73,column:71}},"28":{start:{line:80,column:29},end:{line:80,column:96}},"29":{start:{line:80,column:59},end:{line:80,column:84}},"30":{start:{line:81,column:30},end:{line:81,column:100}},"31":{start:{line:81,column:62},end:{line:81,column:88}},"32":{start:{line:82,column:4},end:{line:82,column:93}},"33":{start:{line:83,column:4},end:{line:83,column:159}},"34":{start:{line:83,column:32},end:{line:83,column:92}},"35":{start:{line:84,column:16},end:{line:84,column:72}},"36":{start:{line:85,column:21},end:{line:85,column:94}},"37":{start:{line:85,column:46},end:{line:85,column:93}},"38":{start:{line:86,column:4},end:{line:88,column:7}},"39":{start:{line:87,column:8},end:{line:87,column:53}},"40":{start:{line:89,column:4},end:{line:97,column:7}},"41":{start:{line:90,column:24},end:{line:92,column:28}},"42":{start:{line:93,column:8},end:{line:95,column:9}},"43":{start:{line:94,column:12},end:{line:94,column:50}},"44":{start:{line:96,column:8},end:{line:96,column:45}},"45":{start:{line:98,column:4},end:{line:100,column:5}},"46":{start:{line:99,column:8},end:{line:99,column:19}},"47":{start:{line:101,column:4},end:{line:101,column:73}},"48":{start:{line:102,column:4},end:{line:104,column:5}},"49":{start:{line:103,column:8},end:{line:103,column:69}},"50":{start:{line:105,column:4},end:{line:105,column:15}}},fnMap:{"0":{name:"toTxnUnspent",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:61},end:{line:36,column:1}},line:24},"1":{name:"getTxnSigners",decl:{start:{line:42,column:9},end:{line:42,column:22}},loc:{start:{line:42,column:34},end:{line:47,column:1}},line:42},"2":{name:"signTxnInput",decl:{start:{line:52,column:9},end:{line:52,column:21}},loc:{start:{line:52,column:77},end:{line:66,column:1}},line:52},"3":{name:"signAllTxnInputs",decl:{start:{line:71,column:9},end:{line:71,column:25}},loc:{start:{line:71,column:70},end:{line:75,column:1}},line:71},"4":{name:"(anonymous_4)",decl:{start:{line:72,column:19},end:{line:72,column:20}},loc:{start:{line:72,column:37},end:{line:74,column:5}},line:72},"5":{name:"constructTxnBuilder",decl:{start:{line:79,column:9},end:{line:79,column:28}},loc:{start:{line:79,column:86},end:{line:106,column:1}},line:79},"6":{name:"(anonymous_6)",decl:{start:{line:80,column:43},end:{line:80,column:44}},loc:{start:{line:80,column:59},end:{line:80,column:84}},line:80},"7":{name:"(anonymous_7)",decl:{start:{line:81,column:45},end:{line:81,column:46}},loc:{start:{line:81,column:62},end:{line:81,column:88}},line:81},"8":{name:"(anonymous_8)",decl:{start:{line:83,column:25},end:{line:83,column:26}},loc:{start:{line:83,column:32},end:{line:83,column:92}},line:83},"9":{name:"(anonymous_9)",decl:{start:{line:85,column:32},end:{line:85,column:33}},loc:{start:{line:85,column:46},end:{line:85,column:93}},line:85},"10":{name:"(anonymous_10)",decl:{start:{line:86,column:21},end:{line:86,column:22}},loc:{start:{line:86,column:31},end:{line:88,column:5}},line:86},"11":{name:"(anonymous_11)",decl:{start:{line:89,column:20},end:{line:89,column:21}},loc:{start:{line:89,column:35},end:{line:97,column:5}},line:89}},branchMap:{"0":{loc:{start:{line:25,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:35,column:5}},{start:{line:25,column:4},end:{line:35,column:5}}],line:25},"1":{loc:{start:{line:45,column:22},end:{line:45,column:68}},type:"cond-expr",locations:[{start:{line:45,column:49},end:{line:45,column:58}},{start:{line:45,column:61},end:{line:45,column:68}}],line:45},"2":{loc:{start:{line:53,column:41},end:{line:53,column:92}},type:"cond-expr",locations:[{start:{line:53,column:51},end:{line:53,column:58}},{start:{line:53,column:61},end:{line:53,column:92}}],line:53},"3":{loc:{start:{line:55,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:62,column:5}},{start:{line:55,column:4},end:{line:62,column:5}}],line:55},"4":{loc:{start:{line:56,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:56,column:8},end:{line:61,column:9}},{start:{line:56,column:8},end:{line:61,column:9}}],line:56},"5":{loc:{start:{line:59,column:13},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:13},end:{line:61,column:9}},{start:{line:59,column:13},end:{line:61,column:9}}],line:59},"6":{loc:{start:{line:59,column:17},end:{line:59,column:70}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:54}},{start:{line:59,column:58},end:{line:59,column:70}}],line:59},"7":{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:63,column:4},end:{line:65,column:5}}],line:63},"8":{loc:{start:{line:63,column:8},end:{line:63,column:86}},type:"binary-expr",locations:[{start:{line:63,column:8},end:{line:63,column:45}},{start:{line:63,column:49},end:{line:63,column:70}},{start:{line:63,column:74},end:{line:63,column:86}}],line:63},"9":{loc:{start:{line:83,column:32},end:{line:83,column:92}},type:"binary-expr",locations:[{start:{line:83,column:33},end:{line:83,column:45}},{start:{line:83,column:49},end:{line:83,column:58}},{start:{line:83,column:64},end:{line:83,column:77}},{start:{line:83,column:81},end:{line:83,column:91}}],line:83},"10":{loc:{start:{line:90,column:24},end:{line:92,column:28}},type:"cond-expr",locations:[{start:{line:91,column:14},end:{line:91,column:207}},{start:{line:92,column:14},end:{line:92,column:28}}],line:90},"11":{loc:{start:{line:91,column:60},end:{line:91,column:194}},type:"cond-expr",locations:[{start:{line:91,column:87},end:{line:91,column:139}},{start:{line:91,column:142},end:{line:91,column:194}}],line:91},"12":{loc:{start:{line:93,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:93,column:8},end:{line:95,column:9}},{start:{line:93,column:8},end:{line:95,column:9}}],line:93},"13":{loc:{start:{line:98,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:100,column:5}},{start:{line:98,column:4},end:{line:100,column:5}}],line:98},"14":{loc:{start:{line:102,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:104,column:5}},{start:{line:102,column:4},end:{line:104,column:5}}],line:102}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/testutil/transaction.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/testutil/transaction.ts"],names:[],mappings:"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",sourcesContent:["import * as assert from 'assert';\n\nimport { ScriptType, ScriptType2Of3, scriptTypeP2shP2pk, scriptTypes2Of3 } from '../bitgo/outputScripts';\nimport {\n  getExternalChainCode,\n  isWalletUnspent,\n  KeyName,\n  getInternalChainCode,\n  RootWalletKeys,\n  Unspent,\n  UtxoTransactionBuilder,\n  createTransactionBuilderForNetwork,\n  addToTransactionBuilder,\n  getWalletAddress,\n  signInputP2shP2pk,\n  signInputWithUnspent,\n  WalletUnspentSigner,\n} from '../bitgo';\nimport { Network } from '../networks';\nimport { mockReplayProtectionUnspent, mockWalletUnspent } from './mock';\n\n/**\n * input script type and value.\n */\nexport type TxnInputScriptType = Exclude<ScriptType, 'p2trMusig2'>;\nexport type TxnOutputScriptType = ScriptType2Of3;\n\n/**\n * output script type and value\n */\nexport interface TxnInput<TNumber extends number | bigint> {\n  scriptType: TxnInputScriptType;\n  value: TNumber;\n}\n\n/**\n * should set either address or scriptType, never both.\n * set isInternalAddress=true for internal output address\n */\nexport interface TxnOutput<TNumber extends number | bigint> {\n  address?: string;\n  scriptType?: TxnOutputScriptType;\n  value: TNumber;\n  isInternalAddress?: boolean;\n}\n\n/**\n * array of supported input script types.\n */\nexport const txnInputScriptTypes = ['p2sh', 'p2shP2wsh', 'p2wsh', 'p2tr', scriptTypeP2shP2pk] as const;\n\n/**\n * array of supported output script types.\n */\nexport const txnOutputScriptTypes = scriptTypes2Of3;\n\n/**\n * create unspent object from input script type, index, network and root wallet key.\n */\nexport function toTxnUnspent<TNumber extends number | bigint>(\n  input: TxnInput<TNumber>,\n  index: number,\n  network: Network,\n  rootWalletKeys: RootWalletKeys\n): Unspent<TNumber> {\n  if (input.scriptType === 'p2shP2pk') {\n    return mockReplayProtectionUnspent<TNumber>(network, input.value, { key: rootWalletKeys['user'], vout: index });\n  } else {\n    return mockWalletUnspent<TNumber>(network, input.value, {\n      chain: getInternalChainCode(input.scriptType),\n      vout: index,\n      keys: rootWalletKeys,\n      index,\n    });\n  }\n}\n\n/**\n * returns signer and cosigner names for TxnInputScriptType.\n * user and undefined as signer and cosigner respectively for p2shP2pk.\n * user and bitgo as signer and cosigner respectively for other input script types.\n */\nexport function getTxnSigners(inputType: TxnInputScriptType): { signerName: KeyName; cosignerName?: KeyName } {\n  return {\n    signerName: 'user',\n    cosignerName: inputType === 'p2shP2pk' ? undefined : 'bitgo',\n  };\n}\n\n/**\n * signs with first or second signature for single input.\n * p2shP2pk is signed only with first sign.\n */\nexport function signTxnInput<TNumber extends number | bigint>(\n  txb: UtxoTransactionBuilder<TNumber>,\n  input: TxnInput<TNumber>,\n  inputIndex: number,\n  rootWalletKeys: RootWalletKeys,\n  sign: 'halfsigned' | 'fullsigned',\n  signers?: { signerName: KeyName; cosignerName?: KeyName }\n): void {\n  const { signerName, cosignerName } = signers ? signers : getTxnSigners(input.scriptType);\n  const unspent = toTxnUnspent(input, inputIndex, txb.network, rootWalletKeys);\n  if (sign === 'halfsigned') {\n    if (input.scriptType === 'p2shP2pk') {\n      signInputP2shP2pk(txb, inputIndex, rootWalletKeys[signerName]);\n    } else if (isWalletUnspent(unspent) && cosignerName) {\n      signInputWithUnspent(\n        txb,\n        inputIndex,\n        unspent,\n        WalletUnspentSigner.from(rootWalletKeys, rootWalletKeys[signerName], rootWalletKeys[cosignerName])\n      );\n    }\n  }\n  if (isWalletUnspent(unspent) && sign === 'fullsigned' && cosignerName) {\n    signInputWithUnspent(\n      txb,\n      inputIndex,\n      unspent,\n      WalletUnspentSigner.from(rootWalletKeys, rootWalletKeys[cosignerName], rootWalletKeys[signerName])\n    );\n  }\n}\n\n/**\n * signs with first or second signature for all inputs.\n * p2shP2pk is signed only with first sign.\n */\nexport function signAllTxnInputs<TNumber extends number | bigint>(\n  txb: UtxoTransactionBuilder<TNumber>,\n  inputs: TxnInput<TNumber>[],\n  rootWalletKeys: RootWalletKeys,\n  sign: 'halfsigned' | 'fullsigned',\n  signers?: { signerName: KeyName; cosignerName?: KeyName }\n): void {\n  inputs.forEach((input, index) => {\n    signTxnInput(txb, input, index, rootWalletKeys, sign, signers);\n  });\n}\n\n/**\n * construct transaction for given inputs, outputs, network and root wallet keys.\n */\nexport function constructTxnBuilder<TNumber extends number | bigint>(\n  inputs: TxnInput<TNumber>[],\n  outputs: TxnOutput<TNumber>[],\n  network: Network,\n  rootWalletKeys: RootWalletKeys,\n  sign: 'unsigned' | 'halfsigned' | 'fullsigned',\n  signers?: { signerName: KeyName; cosignerName?: KeyName }\n): UtxoTransactionBuilder<TNumber> {\n  const totalInputAmount = inputs.reduce((sum, input) => sum + BigInt(input.value), BigInt(0));\n  const outputInputAmount = outputs.reduce((sum, output) => sum + BigInt(output.value), BigInt(0));\n  assert(totalInputAmount >= outputInputAmount, 'total output can not exceed total input');\n  assert(\n    !outputs.some((o) => (o.scriptType && o.address) || (!o.scriptType && !o.address)),\n    'only either output script type or address should be provided'\n  );\n\n  const txb = createTransactionBuilderForNetwork<TNumber>(network);\n\n  const unspents = inputs.map((input, i) => toTxnUnspent(input, i, network, rootWalletKeys));\n\n  unspents.forEach((u, i) => {\n    addToTransactionBuilder(txb, u);\n  });\n\n  outputs.forEach((output, i) => {\n    const address = output.scriptType\n      ? getWalletAddress(\n          rootWalletKeys,\n          output.isInternalAddress ? getInternalChainCode(output.scriptType) : getExternalChainCode(output.scriptType),\n          i,\n          network\n        )\n      : output.address;\n    if (!address) {\n      throw new Error('address is missing');\n    }\n    txb.addOutput(address, output.value);\n  });\n\n  if (sign === 'unsigned') {\n    return txb;\n  }\n\n  signAllTxnInputs(txb, inputs, rootWalletKeys, 'halfsigned', signers);\n\n  if (sign === 'fullsigned') {\n    signAllTxnInputs(txb, inputs, rootWalletKeys, sign, signers);\n  }\n\n  return txb;\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f1f599c5691b693548a34013a9e6715399cbeec"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_azkm4hy1=function(){return actualCoverage;};}return actualCoverage;}cov_azkm4hy1();cov_azkm4hy1().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_azkm4hy1().s[1]++;exports.txnOutputScriptTypes=exports.txnInputScriptTypes=void 0;cov_azkm4hy1().s[2]++;exports.toTxnUnspent=toTxnUnspent;cov_azkm4hy1().s[3]++;exports.getTxnSigners=getTxnSigners;cov_azkm4hy1().s[4]++;exports.signTxnInput=signTxnInput;cov_azkm4hy1().s[5]++;exports.signAllTxnInputs=signAllTxnInputs;cov_azkm4hy1().s[6]++;exports.constructTxnBuilder=constructTxnBuilder;const assert=(cov_azkm4hy1().s[7]++,require("assert"));const outputScripts_1=(cov_azkm4hy1().s[8]++,require("../bitgo/outputScripts"));const bitgo_1=(cov_azkm4hy1().s[9]++,require("../bitgo"));const mock_1=(cov_azkm4hy1().s[10]++,require("./mock"));/**
 * array of supported input script types.
 */cov_azkm4hy1().s[11]++;exports.txnInputScriptTypes=['p2sh','p2shP2wsh','p2wsh','p2tr',outputScripts_1.scriptTypeP2shP2pk];/**
 * array of supported output script types.
 */cov_azkm4hy1().s[12]++;exports.txnOutputScriptTypes=outputScripts_1.scriptTypes2Of3;/**
 * create unspent object from input script type, index, network and root wallet key.
 */function toTxnUnspent(input,index,network,rootWalletKeys){cov_azkm4hy1().f[0]++;cov_azkm4hy1().s[13]++;if(input.scriptType==='p2shP2pk'){cov_azkm4hy1().b[0][0]++;cov_azkm4hy1().s[14]++;return(0,mock_1.mockReplayProtectionUnspent)(network,input.value,{key:rootWalletKeys['user'],vout:index});}else{cov_azkm4hy1().b[0][1]++;cov_azkm4hy1().s[15]++;return(0,mock_1.mockWalletUnspent)(network,input.value,{chain:(0,bitgo_1.getInternalChainCode)(input.scriptType),vout:index,keys:rootWalletKeys,index});}}/**
 * returns signer and cosigner names for TxnInputScriptType.
 * user and undefined as signer and cosigner respectively for p2shP2pk.
 * user and bitgo as signer and cosigner respectively for other input script types.
 */function getTxnSigners(inputType){cov_azkm4hy1().f[1]++;cov_azkm4hy1().s[16]++;return{signerName:'user',cosignerName:inputType==='p2shP2pk'?(cov_azkm4hy1().b[1][0]++,undefined):(cov_azkm4hy1().b[1][1]++,'bitgo')};}/**
 * signs with first or second signature for single input.
 * p2shP2pk is signed only with first sign.
 */function signTxnInput(txb,input,inputIndex,rootWalletKeys,sign,signers){cov_azkm4hy1().f[2]++;const{signerName,cosignerName}=(cov_azkm4hy1().s[17]++,signers?(cov_azkm4hy1().b[2][0]++,signers):(cov_azkm4hy1().b[2][1]++,getTxnSigners(input.scriptType)));const unspent=(cov_azkm4hy1().s[18]++,toTxnUnspent(input,inputIndex,txb.network,rootWalletKeys));cov_azkm4hy1().s[19]++;if(sign==='halfsigned'){cov_azkm4hy1().b[3][0]++;cov_azkm4hy1().s[20]++;if(input.scriptType==='p2shP2pk'){cov_azkm4hy1().b[4][0]++;cov_azkm4hy1().s[21]++;(0,bitgo_1.signInputP2shP2pk)(txb,inputIndex,rootWalletKeys[signerName]);}else{cov_azkm4hy1().b[4][1]++;cov_azkm4hy1().s[22]++;if((cov_azkm4hy1().b[6][0]++,(0,bitgo_1.isWalletUnspent)(unspent))&&(cov_azkm4hy1().b[6][1]++,cosignerName)){cov_azkm4hy1().b[5][0]++;cov_azkm4hy1().s[23]++;(0,bitgo_1.signInputWithUnspent)(txb,inputIndex,unspent,bitgo_1.WalletUnspentSigner.from(rootWalletKeys,rootWalletKeys[signerName],rootWalletKeys[cosignerName]));}else{cov_azkm4hy1().b[5][1]++;}}}else{cov_azkm4hy1().b[3][1]++;}cov_azkm4hy1().s[24]++;if((cov_azkm4hy1().b[8][0]++,(0,bitgo_1.isWalletUnspent)(unspent))&&(cov_azkm4hy1().b[8][1]++,sign==='fullsigned')&&(cov_azkm4hy1().b[8][2]++,cosignerName)){cov_azkm4hy1().b[7][0]++;cov_azkm4hy1().s[25]++;(0,bitgo_1.signInputWithUnspent)(txb,inputIndex,unspent,bitgo_1.WalletUnspentSigner.from(rootWalletKeys,rootWalletKeys[cosignerName],rootWalletKeys[signerName]));}else{cov_azkm4hy1().b[7][1]++;}}/**
 * signs with first or second signature for all inputs.
 * p2shP2pk is signed only with first sign.
 */function signAllTxnInputs(txb,inputs,rootWalletKeys,sign,signers){cov_azkm4hy1().f[3]++;cov_azkm4hy1().s[26]++;inputs.forEach((input,index)=>{cov_azkm4hy1().f[4]++;cov_azkm4hy1().s[27]++;signTxnInput(txb,input,index,rootWalletKeys,sign,signers);});}/**
 * construct transaction for given inputs, outputs, network and root wallet keys.
 */function constructTxnBuilder(inputs,outputs,network,rootWalletKeys,sign,signers){cov_azkm4hy1().f[5]++;const totalInputAmount=(cov_azkm4hy1().s[28]++,inputs.reduce((sum,input)=>{cov_azkm4hy1().f[6]++;cov_azkm4hy1().s[29]++;return sum+BigInt(input.value);},BigInt(0)));const outputInputAmount=(cov_azkm4hy1().s[30]++,outputs.reduce((sum,output)=>{cov_azkm4hy1().f[7]++;cov_azkm4hy1().s[31]++;return sum+BigInt(output.value);},BigInt(0)));cov_azkm4hy1().s[32]++;assert(totalInputAmount>=outputInputAmount,'total output can not exceed total input');cov_azkm4hy1().s[33]++;assert(!outputs.some(o=>{cov_azkm4hy1().f[8]++;cov_azkm4hy1().s[34]++;return(cov_azkm4hy1().b[9][0]++,o.scriptType)&&(cov_azkm4hy1().b[9][1]++,o.address)||(cov_azkm4hy1().b[9][2]++,!o.scriptType)&&(cov_azkm4hy1().b[9][3]++,!o.address);}),'only either output script type or address should be provided');const txb=(cov_azkm4hy1().s[35]++,(0,bitgo_1.createTransactionBuilderForNetwork)(network));const unspents=(cov_azkm4hy1().s[36]++,inputs.map((input,i)=>{cov_azkm4hy1().f[9]++;cov_azkm4hy1().s[37]++;return toTxnUnspent(input,i,network,rootWalletKeys);}));cov_azkm4hy1().s[38]++;unspents.forEach((u,i)=>{cov_azkm4hy1().f[10]++;cov_azkm4hy1().s[39]++;(0,bitgo_1.addToTransactionBuilder)(txb,u);});cov_azkm4hy1().s[40]++;outputs.forEach((output,i)=>{cov_azkm4hy1().f[11]++;const address=(cov_azkm4hy1().s[41]++,output.scriptType?(cov_azkm4hy1().b[10][0]++,(0,bitgo_1.getWalletAddress)(rootWalletKeys,output.isInternalAddress?(cov_azkm4hy1().b[11][0]++,(0,bitgo_1.getInternalChainCode)(output.scriptType)):(cov_azkm4hy1().b[11][1]++,(0,bitgo_1.getExternalChainCode)(output.scriptType)),i,network)):(cov_azkm4hy1().b[10][1]++,output.address));cov_azkm4hy1().s[42]++;if(!address){cov_azkm4hy1().b[12][0]++;cov_azkm4hy1().s[43]++;throw new Error('address is missing');}else{cov_azkm4hy1().b[12][1]++;}cov_azkm4hy1().s[44]++;txb.addOutput(address,output.value);});cov_azkm4hy1().s[45]++;if(sign==='unsigned'){cov_azkm4hy1().b[13][0]++;cov_azkm4hy1().s[46]++;return txb;}else{cov_azkm4hy1().b[13][1]++;}cov_azkm4hy1().s[47]++;signAllTxnInputs(txb,inputs,rootWalletKeys,'halfsigned',signers);cov_azkm4hy1().s[48]++;if(sign==='fullsigned'){cov_azkm4hy1().b[14][0]++;cov_azkm4hy1().s[49]++;signAllTxnInputs(txb,inputs,rootWalletKeys,sign,signers);}else{cov_azkm4hy1().b[14][1]++;}cov_azkm4hy1().s[50]++;return txb;}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvdGVzdHV0aWwvdHJhbnNhY3Rpb24udHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9xcm9jL0NvZGUvaGFwaS9jaGFpbmRlZnVzZXIvdXR4by1saWIvc3JjL3Rlc3R1dGlsL3RyYW5zYWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQTJEQSxvQ0FnQkM7QUFPRCxzQ0FLQztBQU1ELG9DQThCQztBQU1ELDRDQVVDO0FBS0Qsa0RBa0RDO0FBbE1ELGlDQUFpQztBQUVqQywwREFBeUc7QUFDekcsb0NBY2tCO0FBRWxCLGlDQUF3RTtBQTJCeEU7O0dBRUc7QUFDVSxRQUFBLG1CQUFtQixHQUFHLENBQUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLGtDQUFrQixDQUFVLENBQUM7QUFFdkc7O0dBRUc7QUFDVSxRQUFBLG9CQUFvQixHQUFHLCtCQUFlLENBQUM7QUFFcEQ7O0dBRUc7QUFDSCxTQUFnQixZQUFZLENBQzFCLEtBQXdCLEVBQ3hCLEtBQWEsRUFDYixPQUFnQixFQUNoQixjQUE4QjtJQUU5QixJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFLENBQUM7UUFDcEMsT0FBTyxJQUFBLGtDQUEyQixFQUFVLE9BQU8sRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNsSCxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sSUFBQSx3QkFBaUIsRUFBVSxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRTtZQUN0RCxLQUFLLEVBQUUsSUFBQSw0QkFBb0IsRUFBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQzdDLElBQUksRUFBRSxLQUFLO1lBQ1gsSUFBSSxFQUFFLGNBQWM7WUFDcEIsS0FBSztTQUNOLENBQUMs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QUFDO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFDRCxHQUFHLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLElBQUksS0FBSyxVQUFVLEVBQUUsQ0FBQztRQUN4QixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFckUsSUFBSSxJQUFJLEtBQUssWUFBWSxFQUFFLENBQUM7UUFDMUIsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHsgU2NyaXB0VHlwZSwgU2NyaXB0VHlwZTJPZjMsIHNjcmlwdFR5cGVQMnNoUDJwaywgc2NyaXB0VHlwZXMyT2YzIH0gZnJvbSAnLi4vYml0Z28vb3V0cHV0U2NyaXB0cyc7XG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbENoYWluQ29kZSxcbiAgaXNXYWxsZXRVbnNwZW50LFxuICBLZXlOYW1lLFxuICBnZXRJbnRlcm5hbENoYWluQ29kZSxcbiAgUm9vdFdhbGxldEtleXMsXG4gIFVuc3BlbnQsXG4gIFV0eG9UcmFuc2FjdGlvbkJ1aWxkZXIsXG4gIGNyZWF0ZVRyYW5zYWN0aW9uQnVpbGRlckZvck5ldHdvcmssXG4gIGFkZFRvVHJhbnNhY3Rpb25CdWlsZGVyLFxuICBnZXRXYWxsZXRBZGRyZXNzLFxuICBzaWduSW5wdXRQMnNoUDJwayxcbiAgc2lnbklucHV0V2l0aFVuc3BlbnQsXG4gIFdhbGxldFVuc3BlbnRTaWduZXIsXG59IGZyb20gJy4uL2JpdGdvJztcbmltcG9ydCB7IE5ldHdvcmsgfSBmcm9tICcuLi9uZXR3b3Jrcyc7XG5pbXBvcnQgeyBtb2NrUmVwbGF5UHJvdGVjdGlvblVuc3BlbnQsIG1vY2tXYWxsZXRVbnNwZW50IH0gZnJvbSAnLi9tb2NrJztcblxuLyoqXG4gKiBpbnB1dCBzY3JpcHQgdHlwZSBhbmQgdmFsdWUuXG4gKi9cbmV4cG9ydCB0eXBlIFR4bklucHV0U2NyaXB0VHlwZSA9IEV4Y2x1ZGU8U2NyaXB0VHlwZSwgJ3AydHJNdXNpZzInPjtcbmV4cG9ydCB0eXBlIFR4bk91dHB1dFNjcmlwdFR5cGUgPSBTY3JpcHRUeXBlMk9mMztcblxuLyoqXG4gKiBvdXRwdXQgc2NyaXB0IHR5cGUgYW5kIHZhbHVlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHhuSW5wdXQ8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4ge1xuICBzY3JpcHRUeXBlOiBUeG5JbnB1dFNjcmlwdFR5cGU7XG4gIHZhbHVlOiBUTnVtYmVyO1xufVxuXG4vKipcbiAqIHNob3VsZCBzZXQgZWl0aGVyIGFkZHJlc3Mgb3Igc2NyaXB0VHlwZSwgbmV2ZXIgYm90aC5cbiAqIHNldCBpc0ludGVybmFsQWRkcmVzcz10cnVlIGZvciBpbnRlcm5hbCBvdXRwdXQgYWRkcmVzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFR4bk91dHB1dDxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PiB7XG4gIGFkZHJlc3M/OiBzdHJpbmc7XG4gIHNjcmlwdFR5cGU/OiBUeG5PdXRwdXRTY3JpcHRUeXBlO1xuICB2YWx1ZTogVE51bWJlcjtcbiAgaXNJbnRlcm5hbEFkZHJlc3M/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIGFycmF5IG9mIHN1cHBvcnRlZCBpbnB1dCBzY3JpcHQgdHlwZXMuXG4gKi9cbmV4cG9ydCBjb25zdCB0eG5JbnB1dFNjcmlwdFR5cGVzID0gWydwMnNoJywgJ3Ayc2hQMndzaCcsICdwMndzaCcsICdwMnRyJywgc2NyaXB0VHlwZVAyc2hQMnBrXSBhcyBjb25zdDtcblxuLyoqXG4gKiBhcnJheSBvZiBzdXBwb3J0ZWQgb3V0cHV0IHNjcmlwdCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHR4bk91dHB1dFNjcmlwdFR5cGVzID0gc2NyaXB0VHlwZXMyT2YzO1xuXG4vKipcbiAqIGNyZWF0ZSB1bnNwZW50IG9iamVjdCBmcm9tIGlucHV0IHNjcmlwdCB0eXBlLCBpbmRleCwgbmV0d29yayBhbmQgcm9vdCB3YWxsZXQga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9UeG5VbnNwZW50PFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICBpbnB1dDogVHhuSW5wdXQ8VE51bWJlcj4sXG4gIGluZGV4OiBudW1iZXIsXG4gIG5ldHdvcms6IE5ldHdvcmssXG4gIHJvb3RXYWxsZXRLZXlzOiBSb290V2FsbGV0S2V5c1xuKTogVW5zcGVudDxUTnVtYmVyPiB7XG4gIGlmIChpbnB1dC5zY3JpcHRUeXBlID09PSAncDJzaFAycGsnKSB7XG4gICAgcmV0dXJuIG1vY2tSZXBsYXlQcm90ZWN0aW9uVW5zcGVudDxUTnVtYmVyPihuZXR3b3JrLCBpbnB1dC52YWx1ZSwgeyBrZXk6IHJvb3RXYWxsZXRLZXlzWyd1c2VyJ10sIHZvdXQ6IGluZGV4IH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtb2NrV2FsbGV0VW5zcGVudDxUTnVtYmVyPihuZXR3b3JrLCBpbnB1dC52YWx1ZSwge1xuICAgICAgY2hhaW46IGdldEludGVybmFsQ2hhaW5Db2RlKGlucHV0LnNjcmlwdFR5cGUpLFxuICAgICAgdm91dDogaW5kZXgsXG4gICAgICBrZXlzOiByb290V2FsbGV0S2V5cyxcbiAgICAgIGluZGV4LFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogcmV0dXJucyBzaWduZXIgYW5kIGNvc2lnbmVyIG5hbWVzIGZvciBUeG5JbnB1dFNjcmlwdFR5cGUuXG4gKiB1c2VyIGFuZCB1bmRlZmluZWQgYXMgc2lnbmVyIGFuZCBjb3NpZ25lciByZXNwZWN0aXZlbHkgZm9yIHAyc2hQMnBrLlxuICogdXNlciBhbmQgYml0Z28gYXMgc2lnbmVyIGFuZCBjb3NpZ25lciByZXNwZWN0aXZlbHkgZm9yIG90aGVyIGlucHV0IHNjcmlwdCB0eXBlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR4blNpZ25lcnMoaW5wdXRUeXBlOiBUeG5JbnB1dFNjcmlwdFR5cGUpOiB7IHNpZ25lck5hbWU6IEtleU5hbWU7IGNvc2lnbmVyTmFtZT86IEtleU5hbWUgfSB7XG4gIHJldHVybiB7XG4gICAgc2lnbmVyTmFtZTogJ3VzZXInLFxuICAgIGNvc2lnbmVyTmFtZTogaW5wdXRUeXBlID09PSAncDJzaFAycGsnID8gdW5kZWZpbmVkIDogJ2JpdGdvJyxcbiAgfTtcbn1cblxuLyoqXG4gKiBzaWducyB3aXRoIGZpcnN0IG9yIHNlY29uZCBzaWduYXR1cmUgZm9yIHNpbmdsZSBpbnB1dC5cbiAqIHAyc2hQMnBrIGlzIHNpZ25lZCBvbmx5IHdpdGggZmlyc3Qgc2lnbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25UeG5JbnB1dDxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHhiOiBVdHhvVHJhbnNhY3Rpb25CdWlsZGVyPFROdW1iZXI+LFxuICBpbnB1dDogVHhuSW5wdXQ8VE51bWJlcj4sXG4gIGlucHV0SW5kZXg6IG51bWJlcixcbiAgcm9vdFdhbGxldEtleXM6IFJvb3RXYWxsZXRLZXlzLFxuICBzaWduOiAnaGFsZnNpZ25lZCcgfCAnZnVsbHNpZ25lZCcsXG4gIHNpZ25lcnM/OiB7IHNpZ25lck5hbWU6IEtleU5hbWU7IGNvc2lnbmVyTmFtZT86IEtleU5hbWUgfVxuKTogdm9pZCB7XG4gIGNvbnN0IHsgc2lnbmVyTmFtZSwgY29zaWduZXJOYW1lIH0gPSBzaWduZXJzID8gc2lnbmVycyA6IGdldFR4blNpZ25lcnMoaW5wdXQuc2NyaXB0VHlwZSk7XG4gIGNvbnN0IHVuc3BlbnQgPSB0b1R4blVuc3BlbnQoaW5wdXQsIGlucHV0SW5kZXgsIHR4Yi5uZXR3b3JrLCByb290V2FsbGV0S2V5cyk7XG4gIGlmIChzaWduID09PSAnaGFsZnNpZ25lZCcpIHtcbiAgICBpZiAoaW5wdXQuc2NyaXB0VHlwZSA9PT0gJ3Ayc2hQMnBrJykge1xuICAgICAgc2lnbklucHV0UDJzaFAycGsodHhiLCBpbnB1dEluZGV4LCByb290V2FsbGV0S2V5c1tzaWduZXJOYW1lXSk7XG4gICAgfSBlbHNlIGlmIChpc1dhbGxldFVuc3BlbnQodW5zcGVudCkgJiYgY29zaWduZXJOYW1lKSB7XG4gICAgICBzaWduSW5wdXRXaXRoVW5zcGVudChcbiAgICAgICAgdHhiLFxuICAgICAgICBpbnB1dEluZGV4LFxuICAgICAgICB1bnNwZW50LFxuICAgICAgICBXYWxsZXRVbnNwZW50U2lnbmVyLmZyb20ocm9vdFdhbGxldEtleXMsIHJvb3RXYWxsZXRLZXlzW3NpZ25lck5hbWVdLCByb290V2FsbGV0S2V5c1tjb3NpZ25lck5hbWVdKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzV2FsbGV0VW5zcGVudCh1bnNwZW50KSAmJiBzaWduID09PSAnZnVsbHNpZ25lZCcgJiYgY29zaWduZXJOYW1lKSB7XG4gICAgc2lnbklucHV0V2l0aFVuc3BlbnQoXG4gICAgICB0eGIsXG4gICAgICBpbnB1dEluZGV4LFxuICAgICAgdW5zcGVudCxcbiAgICAgIFdhbGxldFVuc3BlbnRTaWduZXIuZnJvbShyb290V2FsbGV0S2V5cywgcm9vdFdhbGxldEtleXNbY29zaWduZXJOYW1lXSwgcm9vdFdhbGxldEtleXNbc2lnbmVyTmFtZV0pXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIHNpZ25zIHdpdGggZmlyc3Qgb3Igc2Vjb25kIHNpZ25hdHVyZSBmb3IgYWxsIGlucHV0cy5cbiAqIHAyc2hQMnBrIGlzIHNpZ25lZCBvbmx5IHdpdGggZmlyc3Qgc2lnbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25BbGxUeG5JbnB1dHM8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIHR4YjogVXR4b1RyYW5zYWN0aW9uQnVpbGRlcjxUTnVtYmVyPixcbiAgaW5wdXRzOiBUeG5JbnB1dDxUTnVtYmVyPltdLFxuICByb290V2FsbGV0S2V5czogUm9vdFdhbGxldEtleXMsXG4gIHNpZ246ICdoYWxmc2lnbmVkJyB8ICdmdWxsc2lnbmVkJyxcbiAgc2lnbmVycz86IHsgc2lnbmVyTmFtZTogS2V5TmFtZTsgY29zaWduZXJOYW1lPzogS2V5TmFtZSB9XG4pOiB2b2lkIHtcbiAgaW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xuICAgIHNpZ25UeG5JbnB1dCh0eGIsIGlucHV0LCBpbmRleCwgcm9vdFdhbGxldEtleXMsIHNpZ24sIHNpZ25lcnMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBjb25zdHJ1Y3QgdHJhbnNhY3Rpb24gZm9yIGdpdmVuIGlucHV0cywgb3V0cHV0cywgbmV0d29yayBhbmQgcm9vdCB3YWxsZXQga2V5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdFR4bkJ1aWxkZXI8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIGlucHV0czogVHhuSW5wdXQ8VE51bWJlcj5bXSxcbiAgb3V0cHV0czogVHhuT3V0cHV0PFROdW1iZXI+W10sXG4gIG5ldHdvcms6IE5ldHdvcmssXG4gIHJvb3RXYWxsZXRLZXlzOiBSb290V2FsbGV0S2V5cyxcbiAgc2lnbjogJ3Vuc2lnbmVkJyB8ICdoYWxmc2lnbmVkJyB8ICdmdWxsc2lnbmVkJyxcbiAgc2lnbmVycz86IHsgc2lnbmVyTmFtZTogS2V5TmFtZTsgY29zaWduZXJOYW1lPzogS2V5TmFtZSB9XG4pOiBVdHhvVHJhbnNhY3Rpb25CdWlsZGVyPFROdW1iZXI+IHtcbiAgY29uc3QgdG90YWxJbnB1dEFtb3VudCA9IGlucHV0cy5yZWR1Y2UoKHN1bSwgaW5wdXQpID0+IHN1bSArIEJpZ0ludChpbnB1dC52YWx1ZSksIEJpZ0ludCgwKSk7XG4gIGNvbnN0IG91dHB1dElucHV0QW1vdW50ID0gb3V0cHV0cy5yZWR1Y2UoKHN1bSwgb3V0cHV0KSA9PiBzdW0gKyBCaWdJbnQob3V0cHV0LnZhbHVlKSwgQmlnSW50KDApKTtcbiAgYXNzZXJ0KHRvdGFsSW5wdXRBbW91bnQgPj0gb3V0cHV0SW5wdXRBbW91bnQsICd0b3RhbCBvdXRwdXQgY2FuIG5vdCBleGNlZWQgdG90YWwgaW5wdXQnKTtcbiAgYXNzZXJ0KFxuICAgICFvdXRwdXRzLnNvbWUoKG8pID0+IChvLnNjcmlwdFR5cGUgJiYgby5hZGRyZXNzKSB8fCAoIW8uc2NyaXB0VHlwZSAmJiAhby5hZGRyZXNzKSksXG4gICAgJ29ubHkgZWl0aGVyIG91dHB1dCBzY3JpcHQgdHlwZSBvciBhZGRyZXNzIHNob3VsZCBiZSBwcm92aWRlZCdcbiAgKTtcblxuICBjb25zdCB0eGIgPSBjcmVhdGVUcmFuc2FjdGlvbkJ1aWxkZXJGb3JOZXR3b3JrPFROdW1iZXI+KG5ldHdvcmspO1xuXG4gIGNvbnN0IHVuc3BlbnRzID0gaW5wdXRzLm1hcCgoaW5wdXQsIGkpID0+IHRvVHhuVW5zcGVudChpbnB1dCwgaSwgbmV0d29yaywgcm9vdFdhbGxldEtleXMpKTtcblxuICB1bnNwZW50cy5mb3JFYWNoKCh1LCBpKSA9PiB7XG4gICAgYWRkVG9UcmFuc2FjdGlvbkJ1aWxkZXIodHhiLCB1KTtcbiAgfSk7XG5cbiAgb3V0cHV0cy5mb3JFYWNoKChvdXRwdXQsIGkpID0+IHtcbiAgICBjb25zdCBhZGRyZXNzID0gb3V0cHV0LnNjcmlwdFR5cGVcbiAgICAgID8gZ2V0V2FsbGV0QWRkcmVzcyhcbiAgICAgICAgICByb290V2FsbGV0S2V5cyxcbiAgICAgICAgICBvdXRwdXQuaXNJbnRlcm5hbEFkZHJlc3MgPyBnZXRJbnRlcm5hbENoYWluQ29kZShvdXRwdXQuc2NyaXB0VHlwZSkgOiBnZXRFeHRlcm5hbENoYWluQ29kZShvdXRwdXQuc2NyaXB0VHlwZSksXG4gICAgICAgICAgaSxcbiAgICAgICAgICBuZXR3b3JrXG4gICAgICAgIClcbiAgICAgIDogb3V0cHV0LmFkZHJlc3M7XG4gICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZHJlc3MgaXMgbWlzc2luZycpO1xuICAgIH1cbiAgICB0eGIuYWRkT3V0cHV0KGFkZHJlc3MsIG91dHB1dC52YWx1ZSk7XG4gIH0pO1xuXG4gIGlmIChzaWduID09PSAndW5zaWduZWQnKSB7XG4gICAgcmV0dXJuIHR4YjtcbiAgfVxuXG4gIHNpZ25BbGxUeG5JbnB1dHModHhiLCBpbnB1dHMsIHJvb3RXYWxsZXRLZXlzLCAnaGFsZnNpZ25lZCcsIHNpZ25lcnMpO1xuXG4gIGlmIChzaWduID09PSAnZnVsbHNpZ25lZCcpIHtcbiAgICBzaWduQWxsVHhuSW5wdXRzKHR4YiwgaW5wdXRzLCByb290V2FsbGV0S2V5cywgc2lnbiwgc2lnbmVycyk7XG4gIH1cblxuICByZXR1cm4gdHhiO1xufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYXprbTRoeTEiLCJhY3R1YWxDb3ZlcmFnZSIsInMiLCJleHBvcnRzIiwidG9UeG5VbnNwZW50IiwiZ2V0VHhuU2lnbmVycyIsInNpZ25UeG5JbnB1dCIsInNpZ25BbGxUeG5JbnB1dHMiLCJjb25zdHJ1Y3RUeG5CdWlsZGVyIiwiYXNzZXJ0IiwicmVxdWlyZSIsIm91dHB1dFNjcmlwdHNfMSIsImJpdGdvXzEiLCJtb2NrXzEiLCJ0eG5JbnB1dFNjcmlwdFR5cGVzIiwic2NyaXB0VHlwZVAyc2hQMnBrIiwidHhuT3V0cHV0U2NyaXB0VHlwZXMiLCJzY3JpcHRUeXBlczJPZjMiLCJpbnB1dCIsImluZGV4IiwibmV0d29yayIsInJvb3RXYWxsZXRLZXlzIiwiZiIsInNjcmlwdFR5cGUiLCJiIiwibW9ja1JlcGxheVByb3RlY3Rpb25VbnNwZW50IiwidmFsdWUiLCJrZXkiLCJ2b3V0IiwibW9ja1dhbGxldFVuc3BlbnQiLCJjaGFpbiIsImdldEludGVybmFsQ2hhaW5Db2RlIiwia2V5cyIsImlucHV0VHlwZSIsInNpZ25lck5hbWUiLCJjb3NpZ25lck5hbWUiLCJ1bmRlZmluZWQiLCJ0eGIiLCJpbnB1dEluZGV4Iiwic2lnbiIsInNpZ25lcnMiLCJ1bnNwZW50Iiwic2lnbklucHV0UDJzaFAycGsiLCJpc1dhbGxldFVuc3BlbnQiLCJzaWduSW5wdXRXaXRoVW5zcGVudCIsIldhbGxldFVuc3BlbnRTaWduZXIiLCJmcm9tIiwiaW5wdXRzIiwiZm9yRWFjaCIsIm91dHB1dHMiLCJ0b3RhbElucHV0QW1vdW50IiwicmVkdWNlIiwic3VtIiwiQmlnSW50Iiwib3V0cHV0SW5wdXRBbW91bnQiLCJvdXRwdXQiLCJzb21lIiwibyIsImFkZHJlc3MiLCJjcmVhdGVUcmFuc2FjdGlvbkJ1aWxkZXJGb3JOZXR3b3JrIiwidW5zcGVudHMiLCJtYXAiLCJpIiwidSIsImFkZFRvVHJhbnNhY3Rpb25CdWlsZGVyIiwiZ2V0V2FsbGV0QWRkcmVzcyIsImlzSW50ZXJuYWxBZGRyZXNzIiwiZ2V0RXh0ZXJuYWxDaGFpbkNvZGUiLCJFcnJvciIsImFkZE91dHB1dCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9xcm9jL0NvZGUvaGFwaS9jaGFpbmRlZnVzZXIvdXR4by1saWIvc3JjL3Rlc3R1dGlsL3RyYW5zYWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgeyBTY3JpcHRUeXBlLCBTY3JpcHRUeXBlMk9mMywgc2NyaXB0VHlwZVAyc2hQMnBrLCBzY3JpcHRUeXBlczJPZjMgfSBmcm9tICcuLi9iaXRnby9vdXRwdXRTY3JpcHRzJztcbmltcG9ydCB7XG4gIGdldEV4dGVybmFsQ2hhaW5Db2RlLFxuICBpc1dhbGxldFVuc3BlbnQsXG4gIEtleU5hbWUsXG4gIGdldEludGVybmFsQ2hhaW5Db2RlLFxuICBSb290V2FsbGV0S2V5cyxcbiAgVW5zcGVudCxcbiAgVXR4b1RyYW5zYWN0aW9uQnVpbGRlcixcbiAgY3JlYXRlVHJhbnNhY3Rpb25CdWlsZGVyRm9yTmV0d29yayxcbiAgYWRkVG9UcmFuc2FjdGlvbkJ1aWxkZXIsXG4gIGdldFdhbGxldEFkZHJlc3MsXG4gIHNpZ25JbnB1dFAyc2hQMnBrLFxuICBzaWduSW5wdXRXaXRoVW5zcGVudCxcbiAgV2FsbGV0VW5zcGVudFNpZ25lcixcbn0gZnJvbSAnLi4vYml0Z28nO1xuaW1wb3J0IHsgTmV0d29yayB9IGZyb20gJy4uL25ldHdvcmtzJztcbmltcG9ydCB7IG1vY2tSZXBsYXlQcm90ZWN0aW9uVW5zcGVudCwgbW9ja1dhbGxldFVuc3BlbnQgfSBmcm9tICcuL21vY2snO1xuXG4vKipcbiAqIGlucHV0IHNjcmlwdCB0eXBlIGFuZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgVHhuSW5wdXRTY3JpcHRUeXBlID0gRXhjbHVkZTxTY3JpcHRUeXBlLCAncDJ0ck11c2lnMic+O1xuZXhwb3J0IHR5cGUgVHhuT3V0cHV0U2NyaXB0VHlwZSA9IFNjcmlwdFR5cGUyT2YzO1xuXG4vKipcbiAqIG91dHB1dCBzY3JpcHQgdHlwZSBhbmQgdmFsdWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUeG5JbnB1dDxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PiB7XG4gIHNjcmlwdFR5cGU6IFR4bklucHV0U2NyaXB0VHlwZTtcbiAgdmFsdWU6IFROdW1iZXI7XG59XG5cbi8qKlxuICogc2hvdWxkIHNldCBlaXRoZXIgYWRkcmVzcyBvciBzY3JpcHRUeXBlLCBuZXZlciBib3RoLlxuICogc2V0IGlzSW50ZXJuYWxBZGRyZXNzPXRydWUgZm9yIGludGVybmFsIG91dHB1dCBhZGRyZXNzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHhuT3V0cHV0PFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+IHtcbiAgYWRkcmVzcz86IHN0cmluZztcbiAgc2NyaXB0VHlwZT86IFR4bk91dHB1dFNjcmlwdFR5cGU7XG4gIHZhbHVlOiBUTnVtYmVyO1xuICBpc0ludGVybmFsQWRkcmVzcz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogYXJyYXkgb2Ygc3VwcG9ydGVkIGlucHV0IHNjcmlwdCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHR4bklucHV0U2NyaXB0VHlwZXMgPSBbJ3Ayc2gnLCAncDJzaFAyd3NoJywgJ3Ayd3NoJywgJ3AydHInLCBzY3JpcHRUeXBlUDJzaFAycGtdIGFzIGNvbnN0O1xuXG4vKipcbiAqIGFycmF5IG9mIHN1cHBvcnRlZCBvdXRwdXQgc2NyaXB0IHR5cGVzLlxuICovXG5leHBvcnQgY29uc3QgdHhuT3V0cHV0U2NyaXB0VHlwZXMgPSBzY3JpcHRUeXBlczJPZjM7XG5cbi8qKlxuICogY3JlYXRlIHVuc3BlbnQgb2JqZWN0IGZyb20gaW5wdXQgc2NyaXB0IHR5cGUsIGluZGV4LCBuZXR3b3JrIGFuZCByb290IHdhbGxldCBrZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1R4blVuc3BlbnQ8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludD4oXG4gIGlucHV0OiBUeG5JbnB1dDxUTnVtYmVyPixcbiAgaW5kZXg6IG51bWJlcixcbiAgbmV0d29yazogTmV0d29yayxcbiAgcm9vdFdhbGxldEtleXM6IFJvb3RXYWxsZXRLZXlzXG4pOiBVbnNwZW50PFROdW1iZXI+IHtcbiAgaWYgKGlucHV0LnNjcmlwdFR5cGUgPT09ICdwMnNoUDJwaycpIHtcbiAgICByZXR1cm4gbW9ja1JlcGxheVByb3RlY3Rpb25VbnNwZW50PFROdW1iZXI+KG5ldHdvcmssIGlucHV0LnZhbHVlLCB7IGtleTogcm9vdFdhbGxldEtleXNbJ3VzZXInXSwgdm91dDogaW5kZXggfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1vY2tXYWxsZXRVbnNwZW50PFROdW1iZXI+KG5ldHdvcmssIGlucHV0LnZhbHVlLCB7XG4gICAgICBjaGFpbjogZ2V0SW50ZXJuYWxDaGFpbkNvZGUoaW5wdXQuc2NyaXB0VHlwZSksXG4gICAgICB2b3V0OiBpbmRleCxcbiAgICAgIGtleXM6IHJvb3RXYWxsZXRLZXlzLFxuICAgICAgaW5kZXgsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiByZXR1cm5zIHNpZ25lciBhbmQgY29zaWduZXIgbmFtZXMgZm9yIFR4bklucHV0U2NyaXB0VHlwZS5cbiAqIHVzZXIgYW5kIHVuZGVmaW5lZCBhcyBzaWduZXIgYW5kIGNvc2lnbmVyIHJlc3BlY3RpdmVseSBmb3IgcDJzaFAycGsuXG4gKiB1c2VyIGFuZCBiaXRnbyBhcyBzaWduZXIgYW5kIGNvc2lnbmVyIHJlc3BlY3RpdmVseSBmb3Igb3RoZXIgaW5wdXQgc2NyaXB0IHR5cGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHhuU2lnbmVycyhpbnB1dFR5cGU6IFR4bklucHV0U2NyaXB0VHlwZSk6IHsgc2lnbmVyTmFtZTogS2V5TmFtZTsgY29zaWduZXJOYW1lPzogS2V5TmFtZSB9IHtcbiAgcmV0dXJuIHtcbiAgICBzaWduZXJOYW1lOiAndXNlcicsXG4gICAgY29zaWduZXJOYW1lOiBpbnB1dFR5cGUgPT09ICdwMnNoUDJwaycgPyB1bmRlZmluZWQgOiAnYml0Z28nLFxuICB9O1xufVxuXG4vKipcbiAqIHNpZ25zIHdpdGggZmlyc3Qgb3Igc2Vjb25kIHNpZ25hdHVyZSBmb3Igc2luZ2xlIGlucHV0LlxuICogcDJzaFAycGsgaXMgc2lnbmVkIG9ubHkgd2l0aCBmaXJzdCBzaWduLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnblR4bklucHV0PFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0eGI6IFV0eG9UcmFuc2FjdGlvbkJ1aWxkZXI8VE51bWJlcj4sXG4gIGlucHV0OiBUeG5JbnB1dDxUTnVtYmVyPixcbiAgaW5wdXRJbmRleDogbnVtYmVyLFxuICByb290V2FsbGV0S2V5czogUm9vdFdhbGxldEtleXMsXG4gIHNpZ246ICdoYWxmc2lnbmVkJyB8ICdmdWxsc2lnbmVkJyxcbiAgc2lnbmVycz86IHsgc2lnbmVyTmFtZTogS2V5TmFtZTsgY29zaWduZXJOYW1lPzogS2V5TmFtZSB9XG4pOiB2b2lkIHtcbiAgY29uc3QgeyBzaWduZXJOYW1lLCBjb3NpZ25lck5hbWUgfSA9IHNpZ25lcnMgPyBzaWduZXJzIDogZ2V0VHhuU2lnbmVycyhpbnB1dC5zY3JpcHRUeXBlKTtcbiAgY29uc3QgdW5zcGVudCA9IHRvVHhuVW5zcGVudChpbnB1dCwgaW5wdXRJbmRleCwgdHhiLm5ldHdvcmssIHJvb3RXYWxsZXRLZXlzKTtcbiAgaWYgKHNpZ24gPT09ICdoYWxmc2lnbmVkJykge1xuICAgIGlmIChpbnB1dC5zY3JpcHRUeXBlID09PSAncDJzaFAycGsnKSB7XG4gICAgICBzaWduSW5wdXRQMnNoUDJwayh0eGIsIGlucHV0SW5kZXgsIHJvb3RXYWxsZXRLZXlzW3NpZ25lck5hbWVdKTtcbiAgICB9IGVsc2UgaWYgKGlzV2FsbGV0VW5zcGVudCh1bnNwZW50KSAmJiBjb3NpZ25lck5hbWUpIHtcbiAgICAgIHNpZ25JbnB1dFdpdGhVbnNwZW50KFxuICAgICAgICB0eGIsXG4gICAgICAgIGlucHV0SW5kZXgsXG4gICAgICAgIHVuc3BlbnQsXG4gICAgICAgIFdhbGxldFVuc3BlbnRTaWduZXIuZnJvbShyb290V2FsbGV0S2V5cywgcm9vdFdhbGxldEtleXNbc2lnbmVyTmFtZV0sIHJvb3RXYWxsZXRLZXlzW2Nvc2lnbmVyTmFtZV0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpZiAoaXNXYWxsZXRVbnNwZW50KHVuc3BlbnQpICYmIHNpZ24gPT09ICdmdWxsc2lnbmVkJyAmJiBjb3NpZ25lck5hbWUpIHtcbiAgICBzaWduSW5wdXRXaXRoVW5zcGVudChcbiAgICAgIHR4YixcbiAgICAgIGlucHV0SW5kZXgsXG4gICAgICB1bnNwZW50LFxuICAgICAgV2FsbGV0VW5zcGVudFNpZ25lci5mcm9tKHJvb3RXYWxsZXRLZXlzLCByb290V2FsbGV0S2V5c1tjb3NpZ25lck5hbWVdLCByb290V2FsbGV0S2V5c1tzaWduZXJOYW1lXSlcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogc2lnbnMgd2l0aCBmaXJzdCBvciBzZWNvbmQgc2lnbmF0dXJlIGZvciBhbGwgaW5wdXRzLlxuICogcDJzaFAycGsgaXMgc2lnbmVkIG9ubHkgd2l0aCBmaXJzdCBzaWduLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnbkFsbFR4bklucHV0czxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHhiOiBVdHhvVHJhbnNhY3Rpb25CdWlsZGVyPFROdW1iZXI+LFxuICBpbnB1dHM6IFR4bklucHV0PFROdW1iZXI+W10sXG4gIHJvb3RXYWxsZXRLZXlzOiBSb290V2FsbGV0S2V5cyxcbiAgc2lnbjogJ2hhbGZzaWduZWQnIHwgJ2Z1bGxzaWduZWQnLFxuICBzaWduZXJzPzogeyBzaWduZXJOYW1lOiBLZXlOYW1lOyBjb3NpZ25lck5hbWU/OiBLZXlOYW1lIH1cbik6IHZvaWQge1xuICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgc2lnblR4bklucHV0KHR4YiwgaW5wdXQsIGluZGV4LCByb290V2FsbGV0S2V5cywgc2lnbiwgc2lnbmVycyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIGNvbnN0cnVjdCB0cmFuc2FjdGlvbiBmb3IgZ2l2ZW4gaW5wdXRzLCBvdXRwdXRzLCBuZXR3b3JrIGFuZCByb290IHdhbGxldCBrZXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0VHhuQnVpbGRlcjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgaW5wdXRzOiBUeG5JbnB1dDxUTnVtYmVyPltdLFxuICBvdXRwdXRzOiBUeG5PdXRwdXQ8VE51bWJlcj5bXSxcbiAgbmV0d29yazogTmV0d29yayxcbiAgcm9vdFdhbGxldEtleXM6IFJvb3RXYWxsZXRLZXlzLFxuICBzaWduOiAndW5zaWduZWQnIHwgJ2hhbGZzaWduZWQnIHwgJ2Z1bGxzaWduZWQnLFxuICBzaWduZXJzPzogeyBzaWduZXJOYW1lOiBLZXlOYW1lOyBjb3NpZ25lck5hbWU/OiBLZXlOYW1lIH1cbik6IFV0eG9UcmFuc2FjdGlvbkJ1aWxkZXI8VE51bWJlcj4ge1xuICBjb25zdCB0b3RhbElucHV0QW1vdW50ID0gaW5wdXRzLnJlZHVjZSgoc3VtLCBpbnB1dCkgPT4gc3VtICsgQmlnSW50KGlucHV0LnZhbHVlKSwgQmlnSW50KDApKTtcbiAgY29uc3Qgb3V0cHV0SW5wdXRBbW91bnQgPSBvdXRwdXRzLnJlZHVjZSgoc3VtLCBvdXRwdXQpID0+IHN1bSArIEJpZ0ludChvdXRwdXQudmFsdWUpLCBCaWdJbnQoMCkpO1xuICBhc3NlcnQodG90YWxJbnB1dEFtb3VudCA+PSBvdXRwdXRJbnB1dEFtb3VudCwgJ3RvdGFsIG91dHB1dCBjYW4gbm90IGV4Y2VlZCB0b3RhbCBpbnB1dCcpO1xuICBhc3NlcnQoXG4gICAgIW91dHB1dHMuc29tZSgobykgPT4gKG8uc2NyaXB0VHlwZSAmJiBvLmFkZHJlc3MpIHx8ICghby5zY3JpcHRUeXBlICYmICFvLmFkZHJlc3MpKSxcbiAgICAnb25seSBlaXRoZXIgb3V0cHV0IHNjcmlwdCB0eXBlIG9yIGFkZHJlc3Mgc2hvdWxkIGJlIHByb3ZpZGVkJ1xuICApO1xuXG4gIGNvbnN0IHR4YiA9IGNyZWF0ZVRyYW5zYWN0aW9uQnVpbGRlckZvck5ldHdvcms8VE51bWJlcj4obmV0d29yayk7XG5cbiAgY29uc3QgdW5zcGVudHMgPSBpbnB1dHMubWFwKChpbnB1dCwgaSkgPT4gdG9UeG5VbnNwZW50KGlucHV0LCBpLCBuZXR3b3JrLCByb290V2FsbGV0S2V5cykpO1xuXG4gIHVuc3BlbnRzLmZvckVhY2goKHUsIGkpID0+IHtcbiAgICBhZGRUb1RyYW5zYWN0aW9uQnVpbGRlcih0eGIsIHUpO1xuICB9KTtcblxuICBvdXRwdXRzLmZvckVhY2goKG91dHB1dCwgaSkgPT4ge1xuICAgIGNvbnN0IGFkZHJlc3MgPSBvdXRwdXQuc2NyaXB0VHlwZVxuICAgICAgPyBnZXRXYWxsZXRBZGRyZXNzKFxuICAgICAgICAgIHJvb3RXYWxsZXRLZXlzLFxuICAgICAgICAgIG91dHB1dC5pc0ludGVybmFsQWRkcmVzcyA/IGdldEludGVybmFsQ2hhaW5Db2RlKG91dHB1dC5zY3JpcHRUeXBlKSA6IGdldEV4dGVybmFsQ2hhaW5Db2RlKG91dHB1dC5zY3JpcHRUeXBlKSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIG5ldHdvcmtcbiAgICAgICAgKVxuICAgICAgOiBvdXRwdXQuYWRkcmVzcztcbiAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYWRkcmVzcyBpcyBtaXNzaW5nJyk7XG4gICAgfVxuICAgIHR4Yi5hZGRPdXRwdXQoYWRkcmVzcywgb3V0cHV0LnZhbHVlKTtcbiAgfSk7XG5cbiAgaWYgKHNpZ24gPT09ICd1bnNpZ25lZCcpIHtcbiAgICByZXR1cm4gdHhiO1xuICB9XG5cbiAgc2lnbkFsbFR4bklucHV0cyh0eGIsIGlucHV0cywgcm9vdFdhbGxldEtleXMsICdoYWxmc2lnbmVkJywgc2lnbmVycyk7XG5cbiAgaWYgKHNpZ24gPT09ICdmdWxsc2lnbmVkJykge1xuICAgIHNpZ25BbGxUeG5JbnB1dHModHhiLCBpbnB1dHMsIHJvb3RXYWxsZXRLZXlzLCBzaWduLCBzaWduZXJzKTtcbiAgfVxuXG4gIHJldHVybiB0eGI7XG59XG4iXSwibWFwcGluZ3MiOiJrMWxCQWlEYTtBQUFBQSxZQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELFlBQUEsR0FBQUEsWUFBQSxHQUFBRSxDQUFBLE0scUtBVWJDLE9BQUEsQ0FBQUMsWUFBQSxDQUFBQSxZQUFBLENBZ0JDSixZQUFBLEdBQUFFLENBQUEsTUFPREMsT0FBQSxDQUFBRSxhQUFBLENBQUFBLGFBQUEsQ0FLQ0wsWUFBQSxHQUFBRSxDQUFBLE1BTURDLE9BQUEsQ0FBQUcsWUFBQSxDQUFBQSxZQUFBLENBOEJDTixZQUFBLEdBQUFFLENBQUEsTUFNREMsT0FBQSxDQUFBSSxnQkFBQSxDQUFBQSxnQkFBQSxDQVVDUCxZQUFBLEdBQUFFLENBQUEsTUFLREMsT0FBQSxDQUFBSyxtQkFBQSxDQUFBQSxtQkFBQSxDQWhKQSxNQUFBQyxNQUFBLEVBQUFULFlBQUEsR0FBQUUsQ0FBQSxNQUFBUSxPQUFBLFlBRUEsTUFBQUMsZUFBQSxFQUFBWCxZQUFBLEdBQUFFLENBQUEsTUFBQVEsT0FBQSw0QkFDQSxNQUFBRSxPQUFBLEVBQUFaLFlBQUEsR0FBQUUsQ0FBQSxNQUFBUSxPQUFBLGNBZ0JBLE1BQUFHLE1BQUEsRUFBQWIsWUFBQSxHQUFBRSxDQUFBLE9BQUFRLE9BQUEsWUEyQkE7O0dBQUFWLFlBQUEsR0FBQUUsQ0FBQSxPQUdhQyxPQUFBLENBQUFXLG1CQUFtQixDQUFHLENBQUMsTUFBTSxDQUFFLFdBQVcsQ0FBRSxPQUFPLENBQUUsTUFBTSxDQUFFSCxlQUFBLENBQUFJLGtCQUFrQixDQUFVLENBRXRHOztHQUFBZixZQUFBLEdBQUFFLENBQUEsT0FHYUMsT0FBQSxDQUFBYSxvQkFBb0IsQ0FBR0wsZUFBQSxDQUFBTSxlQUFlLENBRW5EOztHQUdBLFFBQWdCLENBQUFiLFlBQVlB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