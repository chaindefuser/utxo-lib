"use strict";function cov_2ef8k9ff9h(){var path="/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/UtxoTransaction.ts";var hash="e64f33cef65ca5aa1404e04c592977ebdfe183fe";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/UtxoTransaction.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:33}},"2":{start:{line:4,column:0},end:{line:4,column:36}},"3":{start:{line:5,column:15},end:{line:5,column:32}},"4":{start:{line:6,column:18},end:{line:6,column:42}},"5":{start:{line:7,column:16},end:{line:7,column:42}},"6":{start:{line:8,column:18},end:{line:8,column:38}},"7":{start:{line:9,column:19},end:{line:9,column:41}},"8":{start:{line:11,column:19},end:{line:11,column:31}},"9":{start:{line:12,column:4},end:{line:12,column:51}},"10":{start:{line:16,column:8},end:{line:16,column:16}},"11":{start:{line:17,column:8},end:{line:17,column:31}},"12":{start:{line:18,column:8},end:{line:29,column:9}},"13":{start:{line:19,column:12},end:{line:19,column:47}},"14":{start:{line:20,column:12},end:{line:20,column:49}},"15":{start:{line:21,column:12},end:{line:21,column:87}},"16":{start:{line:21,column:51},end:{line:21,column:84}},"17":{start:{line:22,column:12},end:{line:28,column:13}},"18":{start:{line:24,column:37},end:{line:24,column:69}},"19":{start:{line:25,column:16},end:{line:25,column:79}},"20":{start:{line:26,column:38},end:{line:26,column:64}},"21":{start:{line:27,column:16},end:{line:27,column:125}},"22":{start:{line:27,column:57},end:{line:27,column:122}},"23":{start:{line:32,column:8},end:{line:32,column:69}},"24":{start:{line:35,column:8},end:{line:37,column:9}},"25":{start:{line:36,column:12},end:{line:36,column:52}},"26":{start:{line:38,column:8},end:{line:38,column:117}},"27":{start:{line:46,column:8},end:{line:49,column:9}},"28":{start:{line:47,column:27},end:{line:47,column:79}},"29":{start:{line:48,column:12},end:{line:48,column:52}},"30":{start:{line:50,column:8},end:{line:50,column:24}},"31":{start:{line:53,column:8},end:{line:53,column:95}},"32":{start:{line:59,column:8},end:{line:81,column:9}},"33":{start:{line:61,column:16},end:{line:61,column:49}},"34":{start:{line:74,column:34},end:{line:74,column:81}},"35":{start:{line:75,column:16},end:{line:80,column:17}},"36":{start:{line:76,column:20},end:{line:78,column:21}},"37":{start:{line:77,column:24},end:{line:77,column:62}},"38":{start:{line:79,column:20},end:{line:79,column:107}},"39":{start:{line:82,column:8},end:{line:82,column:72}},"40":{start:{line:85,column:8},end:{line:85,column:49}},"41":{start:{line:86,column:8},end:{line:86,column:87}},"42":{start:{line:90,column:8},end:{line:90,column:67}},"43":{start:{line:93,column:0},end:{line:93,column:42}},"44":{start:{line:94,column:0},end:{line:94,column:38}},"45":{start:{line:96,column:0},end:{line:96,column:75}}},fnMap:{"0":{name:"varSliceSize",decl:{start:{line:10,column:9},end:{line:10,column:21}},loc:{start:{line:10,column:29},end:{line:13,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:50},end:{line:30,column:5}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:43},end:{line:21,column:44}},loc:{start:{line:21,column:51},end:{line:21,column:84}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:49},end:{line:27,column:50}},loc:{start:{line:27,column:57},end:{line:27,column:122}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:60},end:{line:33,column:5}},line:31},"5":{name:"(anonymous_5)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:81},end:{line:39,column:5}},line:34},"6":{name:"(anonymous_6)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:24},end:{line:51,column:5}},line:40},"7":{name:"(anonymous_7)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:62},end:{line:54,column:5}},line:52},"8":{name:"(anonymous_8)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:71},end:{line:83,column:5}},line:58},"9":{name:"(anonymous_9)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:62},end:{line:87,column:5}},line:84},"10":{name:"(anonymous_10)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:22},end:{line:91,column:5}},line:88}},branchMap:{"0":{loc:{start:{line:18,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:29,column:9}},{start:{line:18,column:8},end:{line:29,column:9}}],line:18},"1":{loc:{start:{line:22,column:12},end:{line:28,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:28,column:13}},{start:{line:22,column:12},end:{line:28,column:13}}],line:22},"2":{loc:{start:{line:25,column:23},end:{line:25,column:77}},type:"binary-expr",locations:[{start:{line:25,column:23},end:{line:25,column:48}},{start:{line:25,column:52},end:{line:25,column:77}}],line:25},"3":{loc:{start:{line:26,column:38},end:{line:26,column:64}},type:"binary-expr",locations:[{start:{line:26,column:38},end:{line:26,column:48}},{start:{line:26,column:52},end:{line:26,column:64}}],line:26},"4":{loc:{start:{line:34,column:37},end:{line:34,column:58}},type:"default-arg",locations:[{start:{line:34,column:50},end:{line:34,column:58}}],line:34},"5":{loc:{start:{line:35,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:37,column:9}},{start:{line:35,column:8},end:{line:37,column:9}}],line:35},"6":{loc:{start:{line:46,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:49,column:9}},{start:{line:46,column:8},end:{line:49,column:9}}],line:46},"7":{loc:{start:{line:47,column:27},end:{line:47,column:79}},type:"cond-expr",locations:[{start:{line:47,column:73},end:{line:47,column:75}},{start:{line:47,column:78},end:{line:47,column:79}}],line:47},"8":{loc:{start:{line:59,column:8},end:{line:81,column:9}},type:"switch",locations:[{start:{line:60,column:12},end:{line:61,column:49}},{start:{line:62,column:12},end:{line:62,column:49}},{start:{line:63,column:12},end:{line:63,column:47}},{start:{line:64,column:12},end:{line:64,column:49}},{start:{line:65,column:12},end:{line:80,column:17}}],line:59},"9":{loc:{start:{line:75,column:16},end:{line:80,column:17}},type:"if",locations:[{start:{line:75,column:16},end:{line:80,column:17}},{start:{line:75,column:16},end:{line:80,column:17}}],line:75},"10":{loc:{start:{line:76,column:20},end:{line:78,column:21}},type:"if",locations:[{start:{line:76,column:20},end:{line:78,column:21}},{start:{line:76,column:20},end:{line:78,column:21}}],line:76},"11":{loc:{start:{line:85,column:16},end:{line:85,column:48}},type:"binary-expr",locations:[{start:{line:85,column:16},end:{line:85,column:21}},{start:{line:85,column:25},end:{line:85,column:48}}],line:85}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0,0],"9":[0,0],"10":[0,0],"11":[0,0]},inputSourceMap:{version:3,file:"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/UtxoTransaction.ts",sources:["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/UtxoTransaction.ts"],names:[],mappings:"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",sourcesContent:["import * as assert from 'assert';\nimport * as bitcoinjs from 'bitcoinjs-lib';\nimport * as varuint from 'varuint-bitcoin';\nimport { toTNumber } from './tnumber';\n\nimport { networks, Network, getMainnet, isBitcoinGold } from '../networks';\n\nexport function varSliceSize(slice: Buffer): number {\n  const length = slice.length;\n  return varuint.encodingLength(length) + length;\n}\n\nexport class UtxoTransaction<TNumber extends number | bigint = number> extends bitcoinjs.Transaction<TNumber> {\n  static SIGHASH_FORKID = 0x40;\n  /** @deprecated use SIGHASH_FORKID */\n  static SIGHASH_BITCOINCASHBIP143 = UtxoTransaction.SIGHASH_FORKID;\n\n  constructor(\n    public network: Network,\n    transaction?: bitcoinjs.Transaction<bigint | number>,\n    amountType?: 'bigint' | 'number'\n  ) {\n    super();\n    if (transaction) {\n      this.version = transaction.version;\n      this.locktime = transaction.locktime;\n      this.ins = transaction.ins.map((v) => ({ ...v, witness: [...v.witness] }));\n      if (transaction.outs.length) {\n        // amountType only matters if there are outs\n        const inAmountType = typeof transaction.outs[0].value;\n        assert(inAmountType === 'number' || inAmountType === 'bigint');\n        const outAmountType: 'number' | 'bigint' = amountType || inAmountType;\n        this.outs = transaction.outs.map((v) => ({ ...v, value: toTNumber(v.value, outAmountType) }));\n      }\n    }\n  }\n\n  protected static newTransaction<TNumber extends number | bigint = number>(\n    network: Network,\n    transaction?: bitcoinjs.Transaction<bigint | number>,\n    amountType?: 'number' | 'bigint'\n  ): UtxoTransaction<TNumber> {\n    return new UtxoTransaction<TNumber>(network, transaction, amountType);\n  }\n\n  static fromBuffer<TNumber extends number | bigint = number>(\n    buf: Buffer,\n    noStrict: boolean,\n    amountType: 'number' | 'bigint' = 'number',\n    network?: Network,\n    prevOutput?: bitcoinjs.TxOutput<TNumber>[]\n  ): UtxoTransaction<TNumber> {\n    if (!network) {\n      throw new Error(`must provide network`);\n    }\n    return this.newTransaction<TNumber>(\n      network,\n      bitcoinjs.Transaction.fromBuffer<TNumber>(buf, noStrict, amountType),\n      amountType\n    );\n  }\n\n  addForkId(hashType: number): number {\n    /*\n      ``The sighash type is altered to include a 24-bit fork id in its most significant bits.''\n      We also use unsigned right shift operator `>>>` to cast to UInt32\n      https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift\n     */\n    if (hashType & UtxoTransaction.SIGHASH_FORKID) {\n      const forkId = isBitcoinGold(this.network) ? 79 : 0;\n      return (hashType | (forkId << 8)) >>> 0;\n    }\n\n    return hashType;\n  }\n\n  hashForWitnessV0(inIndex: number, prevOutScript: Buffer, value: TNumber, hashType: number): Buffer {\n    return super.hashForWitnessV0(inIndex, prevOutScript, value, this.addForkId(hashType));\n  }\n\n  /**\n   * Calculate the hash to verify the signature against\n   */\n  hashForSignatureByNetwork(\n    inIndex: number,\n    prevoutScript: Buffer,\n    value: TNumber | undefined,\n    hashType: number\n  ): Buffer {\n    switch (getMainnet(this.network)) {\n      case networks.zcash:\n        throw new Error(`illegal state`);\n      case networks.bitcoincash:\n      case networks.bitcoinsv:\n      case networks.bitcoingold:\n      case networks.ecash:\n        /*\n          Bitcoin Cash supports a FORKID flag. When set, we hash using hashing algorithm\n           that is used for segregated witness transactions (defined in BIP143).\n\n          The flag is also used by BitcoinSV and BitcoinGold\n\n          https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/replay-protected-sighash.md\n         */\n        const addForkId = (hashType & UtxoTransaction.SIGHASH_FORKID) > 0;\n\n        if (addForkId) {\n          if (value === undefined) {\n            throw new Error(`must provide value`);\n          }\n          return super.hashForWitnessV0(inIndex, prevoutScript, value, this.addForkId(hashType));\n        }\n    }\n\n    return super.hashForSignature(inIndex, prevoutScript, hashType);\n  }\n\n  hashForSignature(inIndex: number, prevOutScript: Buffer, hashType: number, value?: TNumber): Buffer {\n    value = value ?? (this.ins[inIndex] as any).value;\n    return this.hashForSignatureByNetwork(inIndex, prevOutScript, value, hashType);\n  }\n\n  clone<TN2 extends bigint | number = TNumber>(amountType?: 'number' | 'bigint'): UtxoTransaction<TN2> {\n    // No need to clone. Everything is copied in the constructor.\n    return new UtxoTransaction<TN2>(this.network, this, amountType);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e64f33cef65ca5aa1404e04c592977ebdfe183fe"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ef8k9ff9h=function(){return actualCoverage;};}return actualCoverage;}cov_2ef8k9ff9h();cov_2ef8k9ff9h().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2ef8k9ff9h().s[1]++;exports.UtxoTransaction=void 0;cov_2ef8k9ff9h().s[2]++;exports.varSliceSize=varSliceSize;const assert=(cov_2ef8k9ff9h().s[3]++,require("assert"));const bitcoinjs=(cov_2ef8k9ff9h().s[4]++,require("bitcoinjs-lib"));const varuint=(cov_2ef8k9ff9h().s[5]++,require("varuint-bitcoin"));const tnumber_1=(cov_2ef8k9ff9h().s[6]++,require("./tnumber"));const networks_1=(cov_2ef8k9ff9h().s[7]++,require("../networks"));function varSliceSize(slice){cov_2ef8k9ff9h().f[0]++;const length=(cov_2ef8k9ff9h().s[8]++,slice.length);cov_2ef8k9ff9h().s[9]++;return varuint.encodingLength(length)+length;}class UtxoTransaction extends(bitcoinjs.Transaction){constructor(network,transaction,amountType){cov_2ef8k9ff9h().f[1]++;cov_2ef8k9ff9h().s[10]++;super();cov_2ef8k9ff9h().s[11]++;this.network=network;cov_2ef8k9ff9h().s[12]++;if(transaction){cov_2ef8k9ff9h().b[0][0]++;cov_2ef8k9ff9h().s[13]++;this.version=transaction.version;cov_2ef8k9ff9h().s[14]++;this.locktime=transaction.locktime;cov_2ef8k9ff9h().s[15]++;this.ins=transaction.ins.map(v=>{cov_2ef8k9ff9h().f[2]++;cov_2ef8k9ff9h().s[16]++;return{...v,witness:[...v.witness]};});cov_2ef8k9ff9h().s[17]++;if(transaction.outs.length){cov_2ef8k9ff9h().b[1][0]++;// amountType only matters if there are outs
const inAmountType=(cov_2ef8k9ff9h().s[18]++,typeof transaction.outs[0].value);cov_2ef8k9ff9h().s[19]++;assert((cov_2ef8k9ff9h().b[2][0]++,inAmountType==='number')||(cov_2ef8k9ff9h().b[2][1]++,inAmountType==='bigint'));const outAmountType=(cov_2ef8k9ff9h().s[20]++,(cov_2ef8k9ff9h().b[3][0]++,amountType)||(cov_2ef8k9ff9h().b[3][1]++,inAmountType));cov_2ef8k9ff9h().s[21]++;this.outs=transaction.outs.map(v=>{cov_2ef8k9ff9h().f[3]++;cov_2ef8k9ff9h().s[22]++;return{...v,value:(0,tnumber_1.toTNumber)(v.value,outAmountType)};});}else{cov_2ef8k9ff9h().b[1][1]++;}}else{cov_2ef8k9ff9h().b[0][1]++;}}static newTransaction(network,transaction,amountType){cov_2ef8k9ff9h().f[4]++;cov_2ef8k9ff9h().s[23]++;return new UtxoTransaction(network,transaction,amountType);}static fromBuffer(buf,noStrict,amountType=(cov_2ef8k9ff9h().b[4][0]++,'number'),network,prevOutput){cov_2ef8k9ff9h().f[5]++;cov_2ef8k9ff9h().s[24]++;if(!network){cov_2ef8k9ff9h().b[5][0]++;cov_2ef8k9ff9h().s[25]++;throw new Error(`must provide network`);}else{cov_2ef8k9ff9h().b[5][1]++;}cov_2ef8k9ff9h().s[26]++;return this.newTransaction(network,bitcoinjs.Transaction.fromBuffer(buf,noStrict,amountType),amountType);}addForkId(hashType){cov_2ef8k9ff9h().f[6]++;cov_2ef8k9ff9h().s[27]++;/*
          ``The sighash type is altered to include a 24-bit fork id in its most significant bits.''
          We also use unsigned right shift operator `>>>` to cast to UInt32
          https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift
         */if(hashType&UtxoTransaction.SIGHASH_FORKID){cov_2ef8k9ff9h().b[6][0]++;const forkId=(cov_2ef8k9ff9h().s[28]++,(0,networks_1.isBitcoinGold)(this.network)?(cov_2ef8k9ff9h().b[7][0]++,79):(cov_2ef8k9ff9h().b[7][1]++,0));cov_2ef8k9ff9h().s[29]++;return(hashType|forkId<<8)>>>0;}else{cov_2ef8k9ff9h().b[6][1]++;}cov_2ef8k9ff9h().s[30]++;return hashType;}hashForWitnessV0(inIndex,prevOutScript,value,hashType){cov_2ef8k9ff9h().f[7]++;cov_2ef8k9ff9h().s[31]++;return super.hashForWitnessV0(inIndex,prevOutScript,value,this.addForkId(hashType));}/**
     * Calculate the hash to verify the signature against
     */hashForSignatureByNetwork(inIndex,prevoutScript,value,hashType){cov_2ef8k9ff9h().f[8]++;cov_2ef8k9ff9h().s[32]++;switch((0,networks_1.getMainnet)(this.network)){case networks_1.networks.zcash:cov_2ef8k9ff9h().b[8][0]++;cov_2ef8k9ff9h().s[33]++;throw new Error(`illegal state`);case networks_1.networks.bitcoincash:cov_2ef8k9ff9h().b[8][1]++;case networks_1.networks.bitcoinsv:cov_2ef8k9ff9h().b[8][2]++;case networks_1.networks.bitcoingold:cov_2ef8k9ff9h().b[8][3]++;case networks_1.networks.ecash:cov_2ef8k9ff9h().b[8][4]++;/*
                  Bitcoin Cash supports a FORKID flag. When set, we hash using hashing algorithm
                   that is used for segregated witness transactions (defined in BIP143).
        
                  The flag is also used by BitcoinSV and BitcoinGold
        
                  https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/replay-protected-sighash.md
                 */const addForkId=(cov_2ef8k9ff9h().s[34]++,(hashType&UtxoTransaction.SIGHASH_FORKID)>0);cov_2ef8k9ff9h().s[35]++;if(addForkId){cov_2ef8k9ff9h().b[9][0]++;cov_2ef8k9ff9h().s[36]++;if(value===undefined){cov_2ef8k9ff9h().b[10][0]++;cov_2ef8k9ff9h().s[37]++;throw new Error(`must provide value`);}else{cov_2ef8k9ff9h().b[10][1]++;}cov_2ef8k9ff9h().s[38]++;return super.hashForWitnessV0(inIndex,prevoutScript,value,this.addForkId(hashType));}else{cov_2ef8k9ff9h().b[9][1]++;}}cov_2ef8k9ff9h().s[39]++;return super.hashForSignature(inIndex,prevoutScript,hashType);}hashForSignature(inIndex,prevOutScript,hashType,value){cov_2ef8k9ff9h().f[9]++;cov_2ef8k9ff9h().s[40]++;value=(cov_2ef8k9ff9h().b[11][0]++,value)??(cov_2ef8k9ff9h().b[11][1]++,this.ins[inIndex].value);cov_2ef8k9ff9h().s[41]++;return this.hashForSignatureByNetwork(inIndex,prevOutScript,value,hashType);}clone(amountType){cov_2ef8k9ff9h().f[10]++;cov_2ef8k9ff9h().s[42]++;// No need to clone. Everything is copied in the constructor.
return new UtxoTransaction(this.network,this,amountType);}}cov_2ef8k9ff9h().s[43]++;exports.UtxoTransaction=UtxoTransaction;cov_2ef8k9ff9h().s[44]++;UtxoTransaction.SIGHASH_FORKID=0x40;/** @deprecated use SIGHASH_FORKID */cov_2ef8k9ff9h().s[45]++;UtxoTransaction.SIGHASH_BITCOINCASHBIP143=UtxoTransaction.SIGHASH_FORKID;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3Fyb2MvQ29kZS9oYXBpL2NoYWluZGVmdXNlci91dHhvLWxpYi9zcmMvYml0Z28vVXR4b1RyYW5zYWN0aW9uLnRzIiwic291cmNlcyI6WyIvVXNlcnMvcXJvYy9Db2RlL2hhcGkvY2hhaW5kZWZ1c2VyL3V0eG8tbGliL3NyYy9iaXRnby9VdHhvVHJhbnNhY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBT0Esb0NBR0M7QUFWRCxpQ0FBaUM7QUFDakMsMkNBQTJDO0FBQzNDLDJDQUEyQztBQUMzQyx1Q0FBc0M7QUFFdEMsMENBQTJFO0FBRTNFLFNBQWdCLFlBQVksQ0FBQyxLQUFhO0lBQ3hDLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDNUIsT0FBTyxPQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUNqRCxDQUFDO0FBRUQsTUFBYSxlQUEwRCxTQUFRLFNBQVMsQ0FBQyxXQUFvQjtJQUszRyxZQUNTLE9BQWdCLEVBQ3ZCLFdBQW9ELEVBQ3BELFVBQWdDO1FBRWhDLEtBQUssRUFBRSxDQUFDO1FBSkQsWUFBTyxHQUFQLE9BQU8sQ0FBUztRQUt2QixJQUFJLFdBQVcsRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztZQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7WUFDckMsSUFBSSxDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNFLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDNUIsNENBQTRDO2dCQUM1QyxNQUFNLFlB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QUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pGLENBQUM7UUFDTCxDQUFDO1FBRUQsT0FBTyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsT0FBZSxFQUFFLGFBQXFCLEVBQUUsUUFBZ0IsRUFBRSxLQUFlO1FBQ3hGLEtBQUssR0FBRyxLQUFLLElBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQVMsQ0FBQyxLQUFLLENBQUM7UUFDbEQsT0FBTyxJQUFJLENBQUMseUJBQXlCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDakYsQ0FBQztJQUVELEtBQUssQ0FBd0MsVUFBZ0M7UUFDM0UsNkRBQTZEO1FBQzdELE9BQU8sSUFBSSxlQUFlLENBQU0sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDbEUsQ0FBQzs7QUFqSEgsMENBa0hDO0FBakhRLDhCQUFjLEdBQUcsSUFBSSxDQUFDO0FBQzdCLHFDQUFxQztBQUM5Qix5Q0FBeUIsR0FBRyxlQUFlLENBQUMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgKiBhcyBiaXRjb2luanMgZnJvbSAnYml0Y29pbmpzLWxpYic7XG5pbXBvcnQgKiBhcyB2YXJ1aW50IGZyb20gJ3ZhcnVpbnQtYml0Y29pbic7XG5pbXBvcnQgeyB0b1ROdW1iZXIgfSBmcm9tICcuL3RudW1iZXInO1xuXG5pbXBvcnQgeyBuZXR3b3JrcywgTmV0d29yaywgZ2V0TWFpbm5ldCwgaXNCaXRjb2luR29sZCB9IGZyb20gJy4uL25ldHdvcmtzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhclNsaWNlU2l6ZShzbGljZTogQnVmZmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbGVuZ3RoID0gc2xpY2UubGVuZ3RoO1xuICByZXR1cm4gdmFydWludC5lbmNvZGluZ0xlbmd0aChsZW5ndGgpICsgbGVuZ3RoO1xufVxuXG5leHBvcnQgY2xhc3MgVXR4b1RyYW5zYWN0aW9uPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQgPSBudW1iZXI+IGV4dGVuZHMgYml0Y29pbmpzLlRyYW5zYWN0aW9uPFROdW1iZXI+IHtcbiAgc3RhdGljIFNJR0hBU0hfRk9SS0lEID0gMHg0MDtcbiAgLyoqIEBkZXByZWNhdGVkIHVzZSBTSUdIQVNIX0ZPUktJRCAqL1xuICBzdGF0aWMgU0lHSEFTSF9CSVRDT0lOQ0FTSEJJUDE0MyA9IFV0eG9UcmFuc2FjdGlvbi5TSUdIQVNIX0ZPUktJRDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgbmV0d29yazogTmV0d29yayxcbiAgICB0cmFuc2FjdGlvbj86IGJpdGNvaW5qcy5UcmFuc2FjdGlvbjxiaWdpbnQgfCBudW1iZXI+LFxuICAgIGFtb3VudFR5cGU/OiAnYmlnaW50JyB8ICdudW1iZXInXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHRyYW5zYWN0aW9uKSB7XG4gICAgICB0aGlzLnZlcnNpb24gPSB0cmFuc2FjdGlvbi52ZXJzaW9uO1xuICAgICAgdGhpcy5sb2NrdGltZSA9IHRyYW5zYWN0aW9uLmxvY2t0aW1lO1xuICAgICAgdGhpcy5pbnMgPSB0cmFuc2FjdGlvbi5pbnMubWFwKCh2KSA9PiAoeyAuLi52LCB3aXRuZXNzOiBbLi4udi53aXRuZXNzXSB9KSk7XG4gICAgICBpZiAodHJhbnNhY3Rpb24ub3V0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gYW1vdW50VHlwZSBvbmx5IG1hdHRlcnMgaWYgdGhlcmUgYXJlIG91dHNcbiAgICAgICAgY29uc3QgaW5BbW91bnRUeXBlID0gdHlwZW9mIHRyYW5zYWN0aW9uLm91dHNbMF0udmFsdWU7XG4gICAgICAgIGFzc2VydChpbkFtb3VudFR5cGUgPT09ICdudW1iZXInIHx8IGluQW1vdW50VHlwZSA9PT0gJ2JpZ2ludCcpO1xuICAgICAgICBjb25zdCBvdXRBbW91bnRUeXBlOiAnbnVtYmVyJyB8ICdiaWdpbnQnID0gYW1vdW50VHlwZSB8fCBpbkFtb3VudFR5cGU7XG4gICAgICAgIHRoaXMub3V0cyA9IHRyYW5zYWN0aW9uLm91dHMubWFwKCh2KSA9PiAoeyAuLi52LCB2YWx1ZTogdG9UTnVtYmVyKHYudmFsdWUsIG91dEFtb3VudFR5cGUpIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RhdGljIG5ld1RyYW5zYWN0aW9uPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQgPSBudW1iZXI+KFxuICAgIG5ldHdvcms6IE5ldHdvcmssXG4gICAgdHJhbnNhY3Rpb24/OiBiaXRjb2luanMuVHJhbnNhY3Rpb248YmlnaW50IHwgbnVtYmVyPixcbiAgICBhbW91bnRUeXBlPzogJ251bWJlcicgfCAnYmlnaW50J1xuICApOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+KG5ldHdvcmssIHRyYW5zYWN0aW9uLCBhbW91bnRUeXBlKTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tQnVmZmVyPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQgPSBudW1iZXI+KFxuICAgIGJ1ZjogQnVmZmVyLFxuICAgIG5vU3RyaWN0OiBib29sZWFuLFxuICAgIGFtb3VudFR5cGU6ICdudW1iZXInIHwgJ2JpZ2ludCcgPSAnbnVtYmVyJyxcbiAgICBuZXR3b3JrPzogTmV0d29yayxcbiAgICBwcmV2T3V0cHV0PzogYml0Y29pbmpzLlR4T3V0cHV0PFROdW1iZXI+W11cbiAgKTogVXR4b1RyYW5zYWN0aW9uPFROdW1iZXI+IHtcbiAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgbXVzdCBwcm92aWRlIG5ldHdvcmtgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubmV3VHJhbnNhY3Rpb248VE51bWJlcj4oXG4gICAgICBuZXR3b3JrLFxuICAgICAgYml0Y29pbmpzLlRyYW5zYWN0aW9uLmZyb21CdWZmZXI8VE51bWJlcj4oYnVmLCBub1N0cmljdCwgYW1vdW50VHlwZSksXG4gICAgICBhbW91bnRUeXBlXG4gICAgKTtcbiAgfVxuXG4gIGFkZEZvcmtJZChoYXNoVHlwZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAvKlxuICAgICAgYGBUaGUgc2lnaGFzaCB0eXBlIGlzIGFsdGVyZWQgdG8gaW5jbHVkZSBhIDI0LWJpdCBmb3JrIGlkIGluIGl0cyBtb3N0IHNpZ25pZmljYW50IGJpdHMuJydcbiAgICAgIFdlIGFsc28gdXNlIHVuc2lnbmVkIHJpZ2h0IHNoaWZ0IG9wZXJhdG9yIGA+Pj5gIHRvIGNhc3QgdG8gVUludDMyXG4gICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvVW5zaWduZWRfcmlnaHRfc2hpZnRcbiAgICAgKi9cbiAgICBpZiAoaGFzaFR5cGUgJiBVdHhvVHJhbnNhY3Rpb24uU0lHSEFTSF9GT1JLSUQpIHtcbiAgICAgIGNvbnN0IGZvcmtJZCA9IGlzQml0Y29pbkdvbGQodGhpcy5uZXR3b3JrKSA/IDc5IDogMDtcbiAgICAgIHJldHVybiAoaGFzaFR5cGUgfCAoZm9ya0lkIDw8IDgpKSA+Pj4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzaFR5cGU7XG4gIH1cblxuICBoYXNoRm9yV2l0bmVzc1YwKGluSW5kZXg6IG51bWJlciwgcHJldk91dFNjcmlwdDogQnVmZmVyLCB2YWx1ZTogVE51bWJlciwgaGFzaFR5cGU6IG51bWJlcik6IEJ1ZmZlciB7XG4gICAgcmV0dXJuIHN1cGVyLmhhc2hGb3JXaXRuZXNzVjAoaW5JbmRleCwgcHJldk91dFNjcmlwdCwgdmFsdWUsIHRoaXMuYWRkRm9ya0lkKGhhc2hUeXBlKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBoYXNoIHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlIGFnYWluc3RcbiAgICovXG4gIGhhc2hGb3JTaWduYXR1cmVCeU5ldHdvcmsoXG4gICAgaW5JbmRleDogbnVtYmVyLFxuICAgIHByZXZvdXRTY3JpcHQ6IEJ1ZmZlcixcbiAgICB2YWx1ZTogVE51bWJlciB8IHVuZGVmaW5lZCxcbiAgICBoYXNoVHlwZTogbnVtYmVyXG4gICk6IEJ1ZmZlciB7XG4gICAgc3dpdGNoIChnZXRNYWlubmV0KHRoaXMubmV0d29yaykpIHtcbiAgICAgIGNhc2UgbmV0d29ya3MuemNhc2g6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaWxsZWdhbCBzdGF0ZWApO1xuICAgICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luY2FzaDpcbiAgICAgIGNhc2UgbmV0d29ya3MuYml0Y29pbnN2OlxuICAgICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luZ29sZDpcbiAgICAgIGNhc2UgbmV0d29ya3MuZWNhc2g6XG4gICAgICAgIC8qXG4gICAgICAgICAgQml0Y29pbiBDYXNoIHN1cHBvcnRzIGEgRk9SS0lEIGZsYWcuIFdoZW4gc2V0LCB3ZSBoYXNoIHVzaW5nIGhhc2hpbmcgYWxnb3JpdGhtXG4gICAgICAgICAgIHRoYXQgaXMgdXNlZCBmb3Igc2VncmVnYXRlZCB3aXRuZXNzIHRyYW5zYWN0aW9ucyAoZGVmaW5lZCBpbiBCSVAxNDMpLlxuXG4gICAgICAgICAgVGhlIGZsYWcgaXMgYWxzbyB1c2VkIGJ5IEJpdGNvaW5TViBhbmQgQml0Y29pbkdvbGRcblxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luY2FzaG9yZy9iaXRjb2luY2FzaC5vcmcvYmxvYi9tYXN0ZXIvc3BlYy9yZXBsYXktcHJvdGVjdGVkLXNpZ2hhc2gubWRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGFkZEZvcmtJZCA9IChoYXNoVHlwZSAmIFV0eG9UcmFuc2FjdGlvbi5TSUdIQVNIX0ZPUktJRCkgPiAwO1xuXG4gICAgICAgIGlmIChhZGRGb3JrSWQpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtdXN0IHByb3ZpZGUgdmFsdWVgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN1cGVyLmhhc2hGb3JXaXRuZXNzVjAoaW5JbmRleCwgcHJldm91dFNjcmlwdCwgdmFsdWUsIHRoaXMuYWRkRm9ya0lkKGhhc2hUeXBlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VwZXIuaGFzaEZvclNpZ25hdHVyZShpbkluZGV4LCBwcmV2b3V0U2NyaXB0LCBoYXNoVHlwZSk7XG4gIH1cblxuICBoYXNoRm9yU2lnbmF0dXJlKGluSW5kZXg6IG51bWJlciwgcHJldk91dFNjcmlwdDogQnVmZmVyLCBoYXNoVHlwZTogbnVtYmVyLCB2YWx1ZT86IFROdW1iZXIpOiBCdWZmZXIge1xuICAgIHZhbHVlID0gdmFsdWUgPz8gKHRoaXMuaW5zW2luSW5kZXhdIGFzIGFueSkudmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuaGFzaEZvclNpZ25hdHVyZUJ5TmV0d29yayhpbkluZGV4LCBwcmV2T3V0U2NyaXB0LCB2YWx1ZSwgaGFzaFR5cGUpO1xuICB9XG5cbiAgY2xvbmU8VE4yIGV4dGVuZHMgYmlnaW50IHwgbnVtYmVyID0gVE51bWJlcj4oYW1vdW50VHlwZT86ICdudW1iZXInIHwgJ2JpZ2ludCcpOiBVdHhvVHJhbnNhY3Rpb248VE4yPiB7XG4gICAgLy8gTm8gbmVlZCB0byBjbG9uZS4gRXZlcnl0aGluZyBpcyBjb3BpZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgIHJldHVybiBuZXcgVXR4b1RyYW5zYWN0aW9uPFROMj4odGhpcy5uZXR3b3JrLCB0aGlzLCBhbW91bnRUeXBlKTtcbiAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmVmOGs5ZmY5aCIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cG9ydHMiLCJ2YXJTbGljZVNpemUiLCJhc3NlcnQiLCJyZXF1aXJlIiwiYml0Y29pbmpzIiwidmFydWludCIsInRudW1iZXJfMSIsIm5ldHdvcmtzXzEiLCJzbGljZSIsImYiLCJsZW5ndGgiLCJlbmNvZGluZ0xlbmd0aCIsIlV0eG9UcmFuc2FjdGlvbiIsIlRyYW5zYWN0aW9uIiwiY29uc3RydWN0b3IiLCJuZXR3b3JrIiwidHJhbnNhY3Rpb24iLCJhbW91bnRUeXBlIiwiYiIsInZlcnNpb24iLCJsb2NrdGltZSIsImlucyIsIm1hcCIsInYiLCJ3aXRuZXNzIiwib3V0cyIsImluQW1vdW50VHlwZSIsInZhbHVlIiwib3V0QW1vdW50VHlwZSIsInRvVE51bWJlciIsIm5ld1RyYW5zYWN0aW9uIiwiZnJvbUJ1ZmZlciIsImJ1ZiIsIm5vU3RyaWN0IiwicHJldk91dHB1dCIsIkVycm9yIiwiYWRkRm9ya0lkIiwiaGFzaFR5cGUiLCJTSUdIQVNIX0ZPUktJRCIsImZvcmtJZCIsImlzQml0Y29pbkdvbGQiLCJoYXNoRm9yV2l0bmVzc1YwIiwiaW5JbmRleCIsInByZXZPdXRTY3JpcHQiLCJoYXNoRm9yU2lnbmF0dXJlQnlOZXR3b3JrIiwicHJldm91dFNjcmlwdCIsImdldE1haW5uZXQiLCJuZXR3b3JrcyIsInpjYXNoIiwiYml0Y29pbmNhc2giLCJiaXRjb2luc3YiLCJiaXRjb2luZ29sZCIsImVjYXNoIiwidW5kZWZpbmVkIiwiaGFzaEZvclNpZ25hdHVyZSIsImNsb25lIiwiU0lHSEFTSF9CSVRDT0lOQ0FTSEJJUDE0MyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9xcm9jL0NvZGUvaGFwaS9jaGFpbmRlZnVzZXIvdXR4by1saWIvc3JjL2JpdGdvL1V0eG9UcmFuc2FjdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCAqIGFzIGJpdGNvaW5qcyBmcm9tICdiaXRjb2luanMtbGliJztcbmltcG9ydCAqIGFzIHZhcnVpbnQgZnJvbSAndmFydWludC1iaXRjb2luJztcbmltcG9ydCB7IHRvVE51bWJlciB9IGZyb20gJy4vdG51bWJlcic7XG5cbmltcG9ydCB7IG5ldHdvcmtzLCBOZXR3b3JrLCBnZXRNYWlubmV0LCBpc0JpdGNvaW5Hb2xkIH0gZnJvbSAnLi4vbmV0d29ya3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFyU2xpY2VTaXplKHNsaWNlOiBCdWZmZXIpOiBudW1iZXIge1xuICBjb25zdCBsZW5ndGggPSBzbGljZS5sZW5ndGg7XG4gIHJldHVybiB2YXJ1aW50LmVuY29kaW5nTGVuZ3RoKGxlbmd0aCkgKyBsZW5ndGg7XG59XG5cbmV4cG9ydCBjbGFzcyBVdHhvVHJhbnNhY3Rpb248VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludCA9IG51bWJlcj4gZXh0ZW5kcyBiaXRjb2luanMuVHJhbnNhY3Rpb248VE51bWJlcj4ge1xuICBzdGF0aWMgU0lHSEFTSF9GT1JLSUQgPSAweDQwO1xuICAvKiogQGRlcHJlY2F0ZWQgdXNlIFNJR0hBU0hfRk9SS0lEICovXG4gIHN0YXRpYyBTSUdIQVNIX0JJVENPSU5DQVNIQklQMTQzID0gVXR4b1RyYW5zYWN0aW9uLlNJR0hBU0hfRk9SS0lEO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBuZXR3b3JrOiBOZXR3b3JrLFxuICAgIHRyYW5zYWN0aW9uPzogYml0Y29pbmpzLlRyYW5zYWN0aW9uPGJpZ2ludCB8IG51bWJlcj4sXG4gICAgYW1vdW50VHlwZT86ICdiaWdpbnQnIHwgJ251bWJlcidcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHJhbnNhY3Rpb24pIHtcbiAgICAgIHRoaXMudmVyc2lvbiA9IHRyYW5zYWN0aW9uLnZlcnNpb247XG4gICAgICB0aGlzLmxvY2t0aW1lID0gdHJhbnNhY3Rpb24ubG9ja3RpbWU7XG4gICAgICB0aGlzLmlucyA9IHRyYW5zYWN0aW9uLmlucy5tYXAoKHYpID0+ICh7IC4uLnYsIHdpdG5lc3M6IFsuLi52LndpdG5lc3NdIH0pKTtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi5vdXRzLmxlbmd0aCkge1xuICAgICAgICAvLyBhbW91bnRUeXBlIG9ubHkgbWF0dGVycyBpZiB0aGVyZSBhcmUgb3V0c1xuICAgICAgICBjb25zdCBpbkFtb3VudFR5cGUgPSB0eXBlb2YgdHJhbnNhY3Rpb24ub3V0c1swXS52YWx1ZTtcbiAgICAgICAgYXNzZXJ0KGluQW1vdW50VHlwZSA9PT0gJ251bWJlcicgfHwgaW5BbW91bnRUeXBlID09PSAnYmlnaW50Jyk7XG4gICAgICAgIGNvbnN0IG91dEFtb3VudFR5cGU6ICdudW1iZXInIHwgJ2JpZ2ludCcgPSBhbW91bnRUeXBlIHx8IGluQW1vdW50VHlwZTtcbiAgICAgICAgdGhpcy5vdXRzID0gdHJhbnNhY3Rpb24ub3V0cy5tYXAoKHYpID0+ICh7IC4uLnYsIHZhbHVlOiB0b1ROdW1iZXIodi52YWx1ZSwgb3V0QW1vdW50VHlwZSkgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgbmV3VHJhbnNhY3Rpb248VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludCA9IG51bWJlcj4oXG4gICAgbmV0d29yazogTmV0d29yayxcbiAgICB0cmFuc2FjdGlvbj86IGJpdGNvaW5qcy5UcmFuc2FjdGlvbjxiaWdpbnQgfCBudW1iZXI+LFxuICAgIGFtb3VudFR5cGU/OiAnbnVtYmVyJyB8ICdiaWdpbnQnXG4gICk6IFV0eG9UcmFuc2FjdGlvbjxUTnVtYmVyPiB7XG4gICAgcmV0dXJuIG5ldyBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4obmV0d29yaywgdHJhbnNhY3Rpb24sIGFtb3VudFR5cGUpO1xuICB9XG5cbiAgc3RhdGljIGZyb21CdWZmZXI8VE51bWJlciBleHRlbmRzIG51bWJlciB8IGJpZ2ludCA9IG51bWJlcj4oXG4gICAgYnVmOiBCdWZmZXIsXG4gICAgbm9TdHJpY3Q6IGJvb2xlYW4sXG4gICAgYW1vdW50VHlwZTogJ251bWJlcicgfCAnYmlnaW50JyA9ICdudW1iZXInLFxuICAgIG5ldHdvcms/OiBOZXR3b3JrLFxuICAgIHByZXZPdXRwdXQ/OiBiaXRjb2luanMuVHhPdXRwdXQ8VE51bWJlcj5bXVxuICApOiBVdHhvVHJhbnNhY3Rpb248VE51bWJlcj4ge1xuICAgIGlmICghbmV0d29yaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBtdXN0IHByb3ZpZGUgbmV0d29ya2ApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5uZXdUcmFuc2FjdGlvbjxUTnVtYmVyPihcbiAgICAgIG5ldHdvcmssXG4gICAgICBiaXRjb2luanMuVHJhbnNhY3Rpb24uZnJvbUJ1ZmZlcjxUTnVtYmVyPihidWYsIG5vU3RyaWN0LCBhbW91bnRUeXBlKSxcbiAgICAgIGFtb3VudFR5cGVcbiAgICApO1xuICB9XG5cbiAgYWRkRm9ya0lkKGhhc2hUeXBlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIC8qXG4gICAgICBgYFRoZSBzaWdoYXNoIHR5cGUgaXMgYWx0ZXJlZCB0byBpbmNsdWRlIGEgMjQtYml0IGZvcmsgaWQgaW4gaXRzIG1vc3Qgc2lnbmlmaWNhbnQgYml0cy4nJ1xuICAgICAgV2UgYWxzbyB1c2UgdW5zaWduZWQgcmlnaHQgc2hpZnQgb3BlcmF0b3IgYD4+PmAgdG8gY2FzdCB0byBVSW50MzJcbiAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9VbnNpZ25lZF9yaWdodF9zaGlmdFxuICAgICAqL1xuICAgIGlmIChoYXNoVHlwZSAmIFV0eG9UcmFuc2FjdGlvbi5TSUdIQVNIX0ZPUktJRCkge1xuICAgICAgY29uc3QgZm9ya0lkID0gaXNCaXRjb2luR29sZCh0aGlzLm5ldHdvcmspID8gNzkgOiAwO1xuICAgICAgcmV0dXJuIChoYXNoVHlwZSB8IChmb3JrSWQgPDwgOCkpID4+PiAwO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoVHlwZTtcbiAgfVxuXG4gIGhhc2hGb3JXaXRuZXNzVjAoaW5JbmRleDogbnVtYmVyLCBwcmV2T3V0U2NyaXB0OiBCdWZmZXIsIHZhbHVlOiBUTnVtYmVyLCBoYXNoVHlwZTogbnVtYmVyKTogQnVmZmVyIHtcbiAgICByZXR1cm4gc3VwZXIuaGFzaEZvcldpdG5lc3NWMChpbkluZGV4LCBwcmV2T3V0U2NyaXB0LCB2YWx1ZSwgdGhpcy5hZGRGb3JrSWQoaGFzaFR5cGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGhhc2ggdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmUgYWdhaW5zdFxuICAgKi9cbiAgaGFzaEZvclNpZ25hdHVyZUJ5TmV0d29yayhcbiAgICBpbkluZGV4OiBudW1iZXIsXG4gICAgcHJldm91dFNjcmlwdDogQnVmZmVyLFxuICAgIHZhbHVlOiBUTnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGhhc2hUeXBlOiBudW1iZXJcbiAgKTogQnVmZmVyIHtcbiAgICBzd2l0Y2ggKGdldE1haW5uZXQodGhpcy5uZXR3b3JrKSkge1xuICAgICAgY2FzZSBuZXR3b3Jrcy56Y2FzaDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbGxlZ2FsIHN0YXRlYCk7XG4gICAgICBjYXNlIG5ldHdvcmtzLmJpdGNvaW5jYXNoOlxuICAgICAgY2FzZSBuZXR3b3Jrcy5iaXRjb2luc3Y6XG4gICAgICBjYXNlIG5ldHdvcmtzLmJpdGNvaW5nb2xkOlxuICAgICAgY2FzZSBuZXR3b3Jrcy5lY2FzaDpcbiAgICAgICAgLypcbiAgICAgICAgICBCaXRjb2luIENhc2ggc3VwcG9ydHMgYSBGT1JLSUQgZmxhZy4gV2hlbiBzZXQsIHdlIGhhc2ggdXNpbmcgaGFzaGluZyBhbGdvcml0aG1cbiAgICAgICAgICAgdGhhdCBpcyB1c2VkIGZvciBzZWdyZWdhdGVkIHdpdG5lc3MgdHJhbnNhY3Rpb25zIChkZWZpbmVkIGluIEJJUDE0MykuXG5cbiAgICAgICAgICBUaGUgZmxhZyBpcyBhbHNvIHVzZWQgYnkgQml0Y29pblNWIGFuZCBCaXRjb2luR29sZFxuXG4gICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW5jYXNob3JnL2JpdGNvaW5jYXNoLm9yZy9ibG9iL21hc3Rlci9zcGVjL3JlcGxheS1wcm90ZWN0ZWQtc2lnaGFzaC5tZFxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYWRkRm9ya0lkID0gKGhhc2hUeXBlICYgVXR4b1RyYW5zYWN0aW9uLlNJR0hBU0hfRk9SS0lEKSA+IDA7XG5cbiAgICAgICAgaWYgKGFkZEZvcmtJZCkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG11c3QgcHJvdmlkZSB2YWx1ZWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3VwZXIuaGFzaEZvcldpdG5lc3NWMChpbkluZGV4LCBwcmV2b3V0U2NyaXB0LCB2YWx1ZSwgdGhpcy5hZGRGb3JrSWQoaGFzaFR5cGUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdXBlci5oYXNoRm9yU2lnbmF0dXJlKGluSW5kZXgsIHByZXZvdXRTY3JpcHQsIGhhc2hUeXBlKTtcbiAgfVxuXG4gIGhhc2hGb3JTaWduYXR1cmUoaW5JbmRleDogbnVtYmVyLCBwcmV2T3V0U2NyaXB0OiBCdWZmZXIsIGhhc2hUeXBlOiBudW1iZXIsIHZhbHVlPzogVE51bWJlcik6IEJ1ZmZlciB7XG4gICAgdmFsdWUgPSB2YWx1ZSA/PyAodGhpcy5pbnNbaW5JbmRleF0gYXMgYW55KS52YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5oYXNoRm9yU2lnbmF0dXJlQnlOZXR3b3JrKGluSW5kZXgsIHByZXZPdXRTY3JpcHQsIHZhbHVlLCBoYXNoVHlwZSk7XG4gIH1cblxuICBjbG9uZTxUTjIgZXh0ZW5kcyBiaWdpbnQgfCBudW1iZXIgPSBUTnVtYmVyPihhbW91bnRUeXBlPzogJ251bWJlcicgfCAnYmlnaW50Jyk6IFV0eG9UcmFuc2FjdGlvbjxUTjI+IHtcbiAgICAvLyBObyBuZWVkIHRvIGNsb25lLiBFdmVyeXRoaW5nIGlzIGNvcGllZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgcmV0dXJuIG5ldyBVdHhvVHJhbnNhY3Rpb248VE4yPih0aGlzLm5ldHdvcmssIHRoaXMsIGFtb3VudFR5cGUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJ3aGZBc0JJO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQUFBQSxjQUFBLEdBQUFFLENBQUEsTSx3SUFmSkMsT0FBQSxDQUFBQyxZQUFBLENBQUFBLFlBQUEsQ0FQQSxNQUFBQyxNQUFBLEVBQUFMLGNBQUEsR0FBQUUsQ0FBQSxNQUFBSSxPQUFBLFlBQ0EsTUFBQUMsU0FBQSxFQUFBUCxjQUFBLEdBQUFFLENBQUEsTUFBQUksT0FBQSxtQkFDQSxNQUFBRSxPQUFBLEVBQUFSLGNBQUEsR0FBQUUsQ0FBQSxNQUFBSSxPQUFBLHFCQUNBLE1BQUFHLFNBQUEsRUFBQVQsY0FBQSxHQUFBRSxDQUFBLE1BQUFJLE9BQUEsZUFFQSxNQUFBSSxVQUFBLEVBQUFWLGNBQUEsR0FBQUUsQ0FBQSxNQUFBSSxPQUFBLGlCQUVBLFFBQWdCLENBQUFGLFlBQVlBLENBQUNPLEtBQWEsRUFBQVgsY0FBQSxHQUFBWSxDQUFBLE1BQ3hDLEtBQU0sQ0FBQUMsTUFBTSxFQUFBYixjQUFBLEdBQUFFLENBQUEsTUFBR1MsS0FBSyxDQUFDRSxNQUFNLEVBQUNiLGNBQUEsR0FBQUUsQ0FBQSxNQUM1QixNQUFPLENBQUFNLE9BQU8sQ0FBQ00sY0FBYyxDQUFDRCxNQUFNLENBQUMsQ0FBR0EsTUFBTSxDQUNoRCxDQUVBLEtBQWEsQ0FBQUUsZUFBMEQsU0FBUVIsU0FBUyxDQUFDUyxXQUFvQixFQUszR0MsWUFDU0MsT0FBZ0IsQ0FDdkJDLFdBQW9ELENBQ3BEQyxVQUFnQyxFQUFBcEIsY0FBQSxHQUFBWSxDQUFBLE1B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