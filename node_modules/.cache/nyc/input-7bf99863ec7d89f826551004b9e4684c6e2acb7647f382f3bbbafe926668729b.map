{"version":3,"file":"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/templates/witnesspubkeyhash/input.ts","sources":["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/templates/witnesspubkeyhash/input.ts"],"names":[],"mappings":";AAAA,uBAAuB;;AASvB,sBAQC;AAdD,8BAA2C;AAE3C,SAAS,2BAA2B,CAAC,MAAc;IACjD,OAAO,UAAO,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,MAAM,KAAK,EAAE,CAAC;AACnE,CAAC;AAED,SAAgB,KAAK,CAAC,MAAsB;IAC1C,MAAM,MAAM,GAAG,UAAO,CAAC,SAAS,CAAC,MAAM,CAAU,CAAC;IAElD,OAAO,CACL,MAAM,CAAC,MAAM,KAAK,CAAC;QACnB,UAAO,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC,CAAW,CAAC;QACvD,2BAA2B,CAAC,MAAM,CAAC,CAAC,CAAW,CAAC,CACjD,CAAC;AACJ,CAAC;AACD,KAAK,CAAC,MAAM,GAAG,GAAW,EAAE;IAC1B,OAAO,yBAAyB,CAAC;AACnC,CAAC,CAAC","sourcesContent":["// {signature} {pubKey}\n\nimport { Stack } from '../../';\nimport { script as bscript } from '../../';\n\nfunction isCompressedCanonicalPubKey(pubKey: Buffer): boolean {\n  return bscript.isCanonicalPubKey(pubKey) && pubKey.length === 33;\n}\n\nexport function check(script: Buffer | Stack): boolean {\n  const chunks = bscript.decompile(script) as Stack;\n\n  return (\n    chunks.length === 2 &&\n    bscript.isCanonicalScriptSignature(chunks[0] as Buffer) &&\n    isCompressedCanonicalPubKey(chunks[1] as Buffer)\n  );\n}\ncheck.toJSON = (): string => {\n  return 'witnessPubKeyHash input';\n};\n"]}