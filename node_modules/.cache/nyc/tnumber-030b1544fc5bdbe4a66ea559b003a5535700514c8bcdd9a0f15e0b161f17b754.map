{"version":3,"file":"/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/tnumber.ts","sources":["/Users/qroc/Code/hapi/chaindefuser/utxo-lib/src/bitgo/tnumber.ts"],"names":[],"mappings":";;AAOA,8BAqBC;AA5BD;;;;;;GAMG;AACH,SAAgB,SAAS,CACvB,KAA+B,EAC/B,UAA+B;IAE/B,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE,CAAC;QAChC,OAAO,KAAgB,CAAC;IAC1B,CAAC;IACD,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;QACxB,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;IACrD,CAAC;IACD,IAAI,UAAU,KAAK,QAAQ,EAAE,CAAC;QAC5B,MAAM,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;QAC5E,CAAC;QACD,OAAO,MAAM,CAAC,KAAK,CAAY,CAAC;IAClC,CAAC;IACD,IAAI,UAAU,KAAK,QAAQ,EAAE,CAAC;QAC5B,OAAO,MAAM,CAAC,KAAK,CAAY,CAAC;IAClC,CAAC;IACD,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;AACpE,CAAC","sourcesContent":["/**\n * Convert input to bigint or number.\n * Throws error if input cannot be converted to a safe integer number.\n * @param value - input value\n * @param amountType - desired output type\n * @return value converted to amountType\n */\nexport function toTNumber<TNumber extends number | bigint>(\n  value: number | bigint | string,\n  amountType: 'number' | 'bigint'\n): TNumber {\n  if (typeof value === amountType) {\n    return value as TNumber;\n  }\n  if (value === undefined) {\n    throw new Error('input value cannot be undefined');\n  }\n  if (amountType === 'number') {\n    const numberValue = Number(value);\n    if (!Number.isSafeInteger(numberValue)) {\n      throw new Error('input value cannot be converted to safe integer number');\n    }\n    return Number(value) as TNumber;\n  }\n  if (amountType === 'bigint') {\n    return BigInt(value) as TNumber;\n  }\n  throw new Error('amountType must be either \"number\" or \"bigint\"');\n}\n"]}